{"version":3,"kind":"Notebook","sha256":"b7b2f096fc17d401ea02c5520a22ef3a518831caabfee86f1995975531fede47","slug":"notebooks.thermal-ir-tutorial","location":"/notebooks/thermal-ir-tutorial.ipynb","dependencies":[],"frontmatter":{"title":"Thermal Infrared","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"snow-observations-cookbook-test","language":"python"},"authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/SnowEx/snow-observations-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/SnowEx/snow-observations-cookbook/blob/main/notebooks/thermal-ir-tutorial.ipynb","edit_url":"https://github.com/SnowEx/snow-observations-cookbook/edit/main/notebooks/thermal-ir-tutorial.ipynb","thumbnail":"/snow-observations-cookbook/build/twinotter1-95d488e3b8b234a2a67c0291476bb6a7.JPG","exports":[{"format":"ipynb","filename":"thermal-ir-tutorial.ipynb","url":"/snow-observations-cookbook/build/thermal-ir-tutorial-5d7be0628a97d150ac18f1bc4d074247.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sMUaNwSlp0"}],"key":"pjawW5Lyyf"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"At the conclusion of this tutorial, you will be able to:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fgHDmAunY5"}],"key":"YoKTZgfz57"}],"key":"fJVwHNJyjm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"understand the differences between sources of thermal IR observations, the advantages and disadvantages of each, and types of research questions we can address with those observations","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"j4l50CLVAF"}],"key":"jEXoshYoAZ"}],"key":"CE0cIfGB8r"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"visualize point and raster thermal infrared datasets together, then compute error statistics between point and raster datasets","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DCZzDNs38n"}],"key":"OfedsLaIMF"}],"key":"OYJ03sQi8o"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"access and visualize airborne and satellite thermal infrared imagery, then scale imagery of different spatial resolutions for comparison","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"X9hMi5HUYU"}],"key":"QwGLA8blHq"}],"key":"fAKtbUMh5o"}],"key":"YFAcXJSk4u"}],"key":"mnUi0EH7Oh"}],"key":"jMQ0ylpH2i"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download the sample datasets for this tutorial","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FDHBubA3dW"}],"key":"rCBi0jwbhc"}],"key":"rY1kQf75FL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For ease of access during the hackweek, sample files are available for download for running the command in the cell below. (See the bonus notebook ‚Äú","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IU0HRkznG2"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"thermal‚Äã-ir‚Äã-data‚Äã-download‚Äã.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"m0FVrnDrmL"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"mq0CeskrkC"},{"type":"text","value":"‚Äù for more details about data access methods)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H7FjkwI21v"}],"key":"C33gdS3E0B"}],"key":"V7jlxR8cnp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# S3 base URL for tutorial data\nS3_BASE_URL = \"https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/\"","key":"HpGUv2uuDl"},{"type":"outputs","id":"vgJaqxXFQ-Ik7RMaqq-fW","children":[],"key":"c4kcU9qBAV"}],"key":"MS0nZKFt7P"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the packages we‚Äôll need for this tutorial","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Exp5zPRGWU"}],"key":"gKlcCj16u5"}],"key":"OVwgsZmx8j"}],"key":"zodJXvI6qp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Import some general-purpose packages for handling different data structures\nimport numpy as np # for working with n-D arrays\nimport pandas as pd # for reading our csv data file and working with tabular data\n\n# Import matplotlib which we'll use for plotting images and graphs\nimport matplotlib.pyplot as plt\n\n# Import these packages for working with raster data\nimport xarray as xr # xarray lets us work with n-D arrays and labeled data, such as NetCDF files\nimport rioxarray # rioxarray provides capabilities of the rasterio package to xarray, letting us easily work with files such as GeoTIFFs\nimport fsspec\n\n# Import some packages for working with the SnowEx SQL database\nfrom snowexsql.db import get_db # Import the connection function from the snowexsql library\nfrom  snowexsql.data import SiteData # Import the table classes from our data module which is where our ORM classes are defined \nfrom datetime import datetime # Import some tools to build dates \nfrom snowexsql.conversions import query_to_geopandas # Import a useful function for plotting and saving queries! See https://snowexsql.readthedocs.io/en/latest/snowexsql.html#module-snowexsql.conversions","key":"vtcHb3xb3k"},{"type":"outputs","id":"h81W0BAT7I_u2GA3oInCl","children":[],"key":"Ke499k9CKY"}],"key":"lqsuD1wKEA"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BwtFR5N7jm"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Part 1: Comparing airborne IR imagery with ground-truth observations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tHmXCq4NL9"}],"identifier":"part-1-comparing-airborne-ir-imagery-with-ground-truth-observations","label":"Part 1: Comparing airborne IR imagery with ground-truth observations","html_id":"part-1-comparing-airborne-ir-imagery-with-ground-truth-observations","implicit":true,"key":"AmgadC6Hqc"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Airborne IR imagery","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K4IJmGXy19"}],"identifier":"airborne-ir-imagery","label":"Airborne IR imagery","html_id":"airborne-ir-imagery","implicit":true,"key":"lqXYkBKgyV"},{"type":"image","url":"/snow-observations-cookbook/build/twinotter1-95d488e3b8b234a2a67c0291476bb6a7.JPG","width":600,"key":"NWJ9rEEaih","urlSource":"images/thermal-ir/twinotter1.JPG"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The Naval Postgraduate School Twin Otter aircraft carried the UW APL thermal infrared imager and SWESARR instrument over Grand Mesa for SnowEx 2020. (Photo by Chris Chickadel)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"WT8Pk9el7C"}],"key":"aa95sh2ojP"}],"key":"Qf6q02qaWX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load IR image mosaic geotiff file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gf9GOKaE2J"}],"key":"lXb64WdF9Q"}],"key":"HT7H1WisYR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir = rioxarray.open_rasterio(S3_BASE_URL + 'SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif')","key":"EOrFBaONRW"},{"type":"outputs","id":"JUse3f6Jz886nlUeiSQkX","children":[],"key":"sKdhP5xoLc"}],"key":"ZrAPDee8fX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the contents of the file we just opened","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"quGfJWLMzm"}],"key":"yW4m9BzzwP"}],"key":"oxx45bacZD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir","key":"LwMCn1V0pK"},{"type":"outputs","id":"a2b31BONsfKQlOcyiOPrN","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 3848, x: 4398)> Size: 68MB\n[16923504 values with dtype=float32]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    _FillValue:     nan\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 3848, x: 4398)&gt; Size: 68MB\n[16923504 values with dtype=float32]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    _FillValue:     nan\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 3848</li><li><span class='xr-has-index'>x</span>: 4398</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-d742166e-97fb-4994-a5e8-4676b80f10aa' class='xr-array-in' type='checkbox' checked><label for='section-d742166e-97fb-4994-a5e8-4676b80f10aa' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>...</span></div><div class='xr-array-data'><pre>[16923504 values with dtype=float32]</pre></div></div></li><li class='xr-section-item'><input id='section-ebac7d4a-2188-4dbc-9cb0-c055a2758740' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ebac7d4a-2188-4dbc-9cb0-c055a2758740' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-4b2cee9c-46c0-46bb-8d1e-96d7b53f1bfa' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4b2cee9c-46c0-46bb-8d1e-96d7b53f1bfa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9a325ac1-acd0-45e3-946e-72ed39f3d495' class='xr-var-data-in' type='checkbox'><label for='data-9a325ac1-acd0-45e3-946e-72ed39f3d495' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.332e+06 4.332e+06 ... 4.313e+06</div><input id='attrs-ce5b447e-b9d4-4e19-8d13-82a8de7d4479' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ce5b447e-b9d4-4e19-8d13-82a8de7d4479' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5ab8d9a0-b84b-4042-bd0a-7cf661a8cfb5' class='xr-var-data-in' type='checkbox'><label for='data-5ab8d9a0-b84b-4042-bd0a-7cf661a8cfb5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4331897.084845, 4331892.085592, 4331887.086339, ..., 4312674.95715 ,\n       4312669.957897, 4312664.958644], shape=(3848,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.371e+05 7.371e+05 ... 7.591e+05</div><input id='attrs-2d1f0205-85c3-4327-83d4-d93ffda0014b' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2d1f0205-85c3-4327-83d4-d93ffda0014b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9d81266c-6c5d-411b-aced-234326c11577' class='xr-var-data-in' type='checkbox'><label for='data-9d81266c-6c5d-411b-aced-234326c11577' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([737079.866283, 737084.865536, 737089.864789, ..., 759051.583115,\n       759056.582368, 759061.581621], shape=(4398,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-0bee83af-fb53-49a7-a3f6-9086d44df034' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0bee83af-fb53-49a7-a3f6-9086d44df034' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-238feeed-ecb1-4987-9258-b4024ce94960' class='xr-var-data-in' type='checkbox'><label for='data-238feeed-ecb1-4987-9258-b4024ce94960' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 12N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32612&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 12N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32612&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>737077.3666563785 4.9992529765780835 0.0 4331899.5844718395 0.0 -4.99925297657805</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f52bfb94-5e78-475e-8bd5-3aabe2623f02' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f52bfb94-5e78-475e-8bd5-3aabe2623f02' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Airborne thermal infrared imagery from University of Washington Applied Physics Lab Compact Airborne System for Imaging the Environment instrument. Imagery of Grand Mesa, Colorado from SnowEx 2020 field campaign.</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>_FillValue :</span></dt><dd>nan</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>long_name :</span></dt><dd>STCtemp</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"Bmyp3yqdcP"}],"key":"QsZXoWpYpg"}],"key":"WORCSeHBVj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir.rio.crs # original CRS","key":"OEeRoLaFJ9"},{"type":"outputs","id":"wjEY_lnSw1DbVFcaMLGBp","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"CRS.from_wkt('PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32612\"]]')","content_type":"text/plain"}}},"key":"CFdoKs6g17"}],"key":"PfbGvCRtq7"}],"key":"Mhg2I81uiy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Under the dataarray‚Äôs attributes we can see that we have a coordinate reference system already defined (crs) as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ls3FA0kC4l"},{"type":"link","url":"https://epsg.io/32612","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EPSG:32612","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dLsFEde6KC"}],"urlSource":"https://epsg.io/32612","key":"mJVZICXlA1"},{"type":"text","value":". We can also find this through ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EOMTTWfj16"},{"type":"inlineCode","value":"da.rio.crs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rgeVLLDKFA"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fl1BmPqDtB"}],"key":"AVyK79r314"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"However, we would like to reproject this into the common projection used by datasets on the SnowEx SQL database: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lwg73rqFNq"},{"type":"link","url":"https://epsg.io/26912","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EPSG:26912","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cuerz7jotI"}],"urlSource":"https://epsg.io/26912","key":"qFgEi8teKR"},{"type":"text","value":". We can do that using rioxarray‚Äôs ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"uAqNwgDry1"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"reproject","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z2Cvr33CBl"}],"urlSource":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject","key":"brA1NZ7zJw"},{"type":"text","value":" method (see an example ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"iJRTXId30G"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"b3hpOLg33u"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject.html","key":"ErT6sjjHH3"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"i8hrt8S4It"}],"key":"Yu77iIcFH2"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"NOTE: Reprojections typically require a lot of processing time, so expect this cell to run for up to 1 minute.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ysCpXVSyVj"}],"key":"mVxsyabXXy"}],"key":"a3hfanNORH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir = airborne_ir.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"yd2F4CmkDw"},{"type":"outputs","id":"rTwGriECz8eWd8MmqL24A","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403\nWarning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403\n"},"key":"dvff7Y1Ydk"}],"key":"Kynt2CQVgv"}],"key":"X3NMYX6t4R"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir.rio.crs # new CRS","key":"xBTb6OqrYL"},{"type":"outputs","id":"z8ypEJHpvpHPL3q8n-NcZ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"CRS.from_wkt('PROJCS[\"NAD83 / UTM zone 12N\",GEOGCS[\"NAD83\",DATUM[\"North_American_Datum_1983\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6269\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4269\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"26912\"]]')","content_type":"text/plain"}}},"key":"dzeDn6yGQh"}],"key":"YDnw6gpIvi"}],"key":"LUz9Qw7bnW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, the filename shows us when this imagery was taken in UTC time, ‚Äú2020-02-08T181915‚Äù","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"N77xqR7HCc"}],"key":"Zvi11VXepo"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can create a pandas timestamp variable in local time for comparison with other datasets:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pS81zAR1Nl"}],"key":"hF8OesT4Ei"}],"key":"GieQCAIkvi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a pandas timestamp, subtract 7 hours from UTC time to get local time (MST, UTC-7)\nairborne_ir_timestamp = pd.Timestamp(2020,2,8,18,19,15) - pd.Timedelta(hours=7)","key":"VyyMfKNc05"},{"type":"outputs","id":"NeigoGH94ev8JPykSMP3a","children":[],"key":"Fo3yvhzISB"}],"key":"u92IUoI5Uc"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What color scale should we use for temperature?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oZIjQtD3XD"}],"key":"T3ydTOZvJe"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Common advice you may have heard is to ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kO9gIoXzsA"},{"type":"link","url":"https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"avoid using rainbow color scales","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kHRyfgrwiI"}],"urlSource":"https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","key":"EpGGJdwfHq"},{"type":"text","value":". Luckily ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"V22B0tyczd"},{"type":"link","url":"https://matplotlib.org/stable/tutorials/colors/colormaps.html","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"matplotlib gives us lots of options","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"G8Ei9ubcTn"}],"urlSource":"https://matplotlib.org/stable/tutorials/colors/colormaps.html","key":"rty37cvb0r"},{"type":"text","value":" to choose from.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lt9xDsuSFz"}],"key":"ACrQfi79xr"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"When representing images of temperature, sometimes we want to pick colors that intuitively suggest temperature, such as the ‚Äúmagma‚Äù colorbar below. Other times we might be interested in both magnitude and sign, such as temperatures above or below melting point, in which case we could use something like ‚ÄúRdBu_r‚Äù below. I often pick simple greyscale, though less visually interesting, it is sometimes easier to pick out details in a continuous color scale like they ‚ÄúGreys‚Äù scale below. ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BFX43WMjFY"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Make sure to include a labeled colorbar so your plot can be correctly interpreted!","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"UKvvLqa5tb"}],"key":"iiYXrJlW87"}],"key":"aRwy2SlVJ7"},{"type":"image","url":"/snow-observations-cookbook/build/colorbars-4f3d7a1e3d8b6be7c9de7016f33e1428.png","width":300,"key":"Z3qkcLdsps","urlSource":"images/thermal-ir/colorbars.png"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Some matplotlib color scale options (top to bottom): ‚Äúmagma‚Äù, ‚ÄúRdBu_r‚Äù, ‚ÄúGreys‚Äù","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fgc0yjVa5h"}],"key":"v1vLyvewJd"}],"class":"dropdown ","key":"bJtskB7LR1"}],"key":"U09pPvhyMk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the airborne TIR image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aBtG39zhZY"}],"key":"mFX0bdu9xr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TdcGcfUnmS"}],"key":"KPecnsUIgg"}],"key":"iZSeSf7SG6"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZKM3OqneSQ"}],"key":"DCZkI2rGvr"}],"key":"S3eFqp0Zao"}],"key":"NPDo17etaJ"}],"key":"ASQ0YpwpmA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(20,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10,ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\nax.set_title('Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"AUSDWTjM6g"},{"type":"outputs","id":"F1GjOhXtqpcW8ktXDdO4B","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 2000x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"71dd381e68b816bf31db6635da198351","path":"/snow-observations-cookbook/build/71dd381e68b816bf31db6635da198351.png"}}},"key":"IbDa1aDyE7"}],"key":"dZTNqtZPLy"}],"key":"QlUzudXel0"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XQqzLonYqo"}],"key":"wj89vuM9RQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Sxix2TGx9W"}],"key":"koezbK8ITp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The colorbar on the right shows us that colder temperatures are represented with dark purple to black colors.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Md4O5DWs8n"}],"key":"VeUhjWH7Gm"}],"key":"hX9d2hOZWh"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Warmer temperatures are represented with lighter orange/yellow.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"igw0BJCLdv"}],"key":"viXM1CWRHX"}],"key":"N2guZq0uRw"}],"key":"QE8JWKp1AT"}],"key":"negQRIesiG"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"iPP1xgd69L"}],"key":"fYzeF4lhqQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We see a narrow stripe of imagery, this is a mosaic of individual camera images taken from the aircraft along a single flight line over Grand Mesa.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PbctGPGZRw"}],"key":"kQLsxh7LoL"}],"key":"fmUyJ9xsuL"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"On the left (west) side of the image we see warmer but varied temperatures (yellow, orange, and purple), then an abrupt transition to uniformly cold temperatures (purple). This is the westernmost edge of the mesa where the snow on top is much colder than the lower elevation slopes of the mountain.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jod7th5EpW"}],"key":"gxLx9mgJDD"}],"key":"m7yntElBoO"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Continuing to move from left (west) to right (east) we see patches of lighter colors, corresponding with warmer temperatures. These are patches of forest on the central and eastern portions of the mesa.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"UHbJb92dIu"}],"key":"vYxWI2MMRJ"}],"key":"ZVvICR3ooz"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally near the easternmost side of the image we see a very dark region that means it is much colder than the rest of the scene. What might this cold area or object be?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"AHUBlw1JCr"}],"key":"QGdNPwBjZj"}],"key":"uno80Y7TcE"}],"key":"cvWpkksjDP"}],"key":"J25wT0H4AM"}],"key":"NnvYIgiXef"}],"class":"hint","key":"nkQHMakKbu"}],"key":"cqPdqlB6Xk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bonus activity:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wgw5gyYsJm"}],"identifier":"bonus-activity","label":"Bonus activity:","html_id":"bonus-activity","implicit":true,"key":"TQOuP4frgg"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To help with our image interpretation, we can load visible imagery taken concurrently from the UW-APL airborne instrument. (Note: this example image is a single band black and white image, though we also have full RGB images available through NSIDC)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JyV4h1t6ks"}],"key":"P32dUvZdh2"}],"key":"UjVvGly2n8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_vis = rioxarray.open_rasterio(S3_BASE_URL + 'SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif')\n\n# note that the filename is identical with the same timestamp, but is labeled \"EO\" (electro-optical) rather than \"IR\" (infrared)","key":"obBX13N7zl"},{"type":"outputs","id":"J1vuxHlhqvcb6dCDGfbeg","children":[],"key":"g2C365TkYt"}],"key":"zPXrnWy2lV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Also reproject the airborne visible imagery into EPSG:26912\nairborne_vis = airborne_vis.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"ZgUoL0q6tt"},{"type":"outputs","id":"WNTDrJzid5QuF955K6hRq","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403\nWarning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403\n"},"key":"XIxBYYiFPP"}],"key":"XzNLGoSagj"}],"key":"zrSwjnse8U"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_vis","key":"v6wJw9VICO"},{"type":"outputs","id":"N6dFiW6PhJONyYN_DaLKE","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 3848, x: 4398)> Size: 68MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    visible imagery\n    timezone:       time in UTC\n    units:          digital numbers\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      SRGB\n    _FillValue:     nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 3848, x: 4398)&gt; Size: 68MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    visible imagery\n    timezone:       time in UTC\n    units:          digital numbers\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      SRGB\n    _FillValue:     nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 3848</li><li><span class='xr-has-index'>x</span>: 4398</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-c2a0eb53-0394-419a-bd70-c8fd1d6748c7' class='xr-array-in' type='checkbox' checked><label for='section-c2a0eb53-0394-419a-bd70-c8fd1d6748c7' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-3fed7c68-7db8-4b45-86a4-77a26b8a2bdf' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3fed7c68-7db8-4b45-86a4-77a26b8a2bdf' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-da984088-0fee-429c-8e61-93f880bf222c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-da984088-0fee-429c-8e61-93f880bf222c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-28d28bf2-70de-4e3d-a8b7-55d02a05696d' class='xr-var-data-in' type='checkbox'><label for='data-28d28bf2-70de-4e3d-a8b7-55d02a05696d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.332e+06 4.332e+06 ... 4.313e+06</div><input id='attrs-35b8da78-44b1-4938-9c4b-3b17867000fd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-35b8da78-44b1-4938-9c4b-3b17867000fd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-daea3875-64e9-450c-807c-579c77a64b72' class='xr-var-data-in' type='checkbox'><label for='data-daea3875-64e9-450c-807c-579c77a64b72' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>Y</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([4331897.066018, 4331892.066788, 4331887.067557, ..., 4312675.025726,\n       4312670.026496, 4312665.027266], shape=(3848,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.371e+05 7.371e+05 ... 7.591e+05</div><input id='attrs-e63e44bb-c2e8-4ef9-aed0-399fbad192ed' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e63e44bb-c2e8-4ef9-aed0-399fbad192ed' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-34a7f339-4667-4f5b-8d21-8de77f3de98e' class='xr-var-data-in' type='checkbox'><label for='data-34a7f339-4667-4f5b-8d21-8de77f3de98e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>X</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([737080.034698, 737085.033928, 737090.033158, ..., 759051.651625,\n       759056.650855, 759061.650085], shape=(4398,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-9dc9a979-8474-4862-a6d3-74cce0935a6b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9dc9a979-8474-4862-a6d3-74cce0935a6b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7bab0553-94e1-4f9f-8037-25952cc50eae' class='xr-var-data-in' type='checkbox'><label for='data-7bab0553-94e1-4f9f-8037-25952cc50eae' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>NAD83</dd><dt><span>horizontal_datum_name :</span></dt><dd>North American Datum 1983</dd><dt><span>projected_crs_name :</span></dt><dd>NAD83 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>737077.535082875 4.999230244949035 0.0 4331899.565633087 0.0 -4.999230244949035</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-cf8cd733-c29e-476a-b9c2-aefd84b6c50a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-cf8cd733-c29e-476a-b9c2-aefd84b6c50a' class='xr-section-summary' >Attributes: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>visible imagery</dd><dt><span>timezone :</span></dt><dd>time in UTC</dd><dt><span>units :</span></dt><dd>digital numbers</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>long_name :</span></dt><dd>SRGB</dd><dt><span>_FillValue :</span></dt><dd>nan</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"STNmAiDSnO"}],"key":"GOmYZU1mWS"}],"key":"dFthjkVQTi"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the visible and infrared images side by side. This time, we will change the x and y axes limits (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bNGWyRY0kP"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NlpHyDQl7J"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"A5qs6yxXux"},{"type":"text","value":", and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fUQqRYLRWl"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_ylim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OMS1CTyCQh"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","key":"wX3lBH4DOa"},{"type":"text","value":") to zoom in closer.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lFZZRgHbDJ"}],"key":"RSXIw89EEl"}],"key":"AjWHu6EG5D"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(20,10), tight_layout=True)\n\n# Plot the IR imagery\nairborne_ir.plot(ax=axs[0], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('Airborne IR')\n\n# Plot the visible imagery\nairborne_vis.plot(ax=axs[1], \n                  cmap='Greys_r',\n                  cbar_kwargs={'label': 'DN'})\naxs[1].set_title('Airborne Vis')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # give each axis a label\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    \n    # set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)\n    ax.set_xlim((735000, 760000)) # x axis limits\n    ax.set_ylim((4320000, 4325000)) # y axis limits","key":"nr9HMtisGR"},{"type":"outputs","id":"ukmONLrK_ivdx2Ac9dI3g","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 2000x1000 with 4 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"e3efee70a1e5b5ac62aa8126e01e8d91","path":"/snow-observations-cookbook/build/e3efee70a1e5b5ac62aa8126e01e8d91.png"}}},"key":"HahHTqXpI4"}],"key":"jB8ozCRYXV"}],"key":"jCBftnKnaa"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sq7eHSQ9Kb"}],"key":"t5NLqH2a2K"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The visible imagery camera covers a slightly narrower width along the flight path than the IR cameras.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zIlfFcxm1a"}],"key":"OVu8G8aDlm"}],"key":"nP33iqBS2H"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Now what do you think the cold object on the eastern side of the image is?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nBVnMsuZPW"}],"key":"Izv6ULB1gh"}],"key":"btJeMjlhED"}],"key":"kMwLx9HsWx"}],"class":"hint","key":"WeiiOBVtpF"}],"key":"DIbXtfVyhm"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PMxRcvi0zp"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Ground-based temperature observations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"i2wn08YxVw"}],"identifier":"ground-based-temperature-observations","label":"Ground-based temperature observations","html_id":"ground-based-temperature-observations","implicit":true,"key":"WMmz9V5soT"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To provide a source of ‚Äúground truth‚Äù for the airborne and satellite thermal infrared images during the SnowEx 2020 Grand Mesa campaign, we can use ground-based snow surface temperature measurements. On February 5, 2020, we installed a thermal infrared radiometer pointing at the snow surface at snow pit #2S10 (left), and buried temperature sensors beneath the snow surface (right). These logged observations at 5-minute intervals until we removed the instrumentation a week later on February 12.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zcM9bUMnP6"}],"key":"YuhLyKh2yg"},{"type":"image","url":"/snow-observations-cookbook/build/snowpit_2s10-89c9d1ea339c2978391e50ca0132a128.png","width":600,"key":"XrLoF5mQGW","urlSource":"images/thermal-ir/snowpit_2s10.png"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Snow temperature sensor setup at snow pit 2S10: (left) tripod-mounted thermal ifrared radiometer to measure snow surface, (right) temperature probes to be buried beneath the snow surface.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fcDkFaK78Y"},{"type":"break","key":"N46w7Yd8aZ"},{"type":"text","value":"(Photos by Steven Pestana)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oSuABjOc3U"}],"key":"KmBhanMTbv"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What are some of the differences we might expect to see between the ground-based surface temperature data and the thermal IR images?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"VgcByHU4vj"}],"key":"tKe0w82waw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Emissivity differences?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"nJpoeHqScN"}],"key":"Czw7VeVTpU"}],"key":"x7GuU0nUJf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Our ground-based radiometer was looking at 45 deg off nadir, versus nadir ASTER versus variable view angle airborne (snow emissivity changes off-nadir)","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"lWsi9O2VGL"}],"key":"owJj9QjfRu"}],"key":"e3BjyBINnb"}],"key":"XtlVzIXqWE"}],"key":"XDWEv5TuzM"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Different TIR bandwidths (broad versus narrow)?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Gxk6TUuLhZ"}],"key":"llSNspWZCp"}],"key":"xII86GoTkQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Ground-based radiometer: 8-14 Œºm, Airborne IR cameras: 8-14 Œºm, ASTER band 14: 10.95-11.65 ¬µm","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"evIKk8Eaq3"}],"key":"xXHnfB9Gfu"}],"key":"vjSyLFDmsb"}],"key":"KhQZX04zJo"}],"key":"YYWZqNLoBV"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Different atmospheric path lengths?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"GGl8DIGwxv"}],"key":"Uotc3t1Gwj"}],"key":"SFKIYDJUIO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"From <1 meter, to 1 km, to entire atmospheric column (~100 km)","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"OmpCLAaP9w"}],"key":"lzQsvbIVJ3"}],"key":"QdmO2QSbkV"}],"key":"vqMWTnxqcT"}],"key":"BmduJWrskd"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"‚ÄúPoint‚Äù versus area, and geolocation accuracy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"mPlhy3QMJA"}],"key":"wTRJxCGeuu"}],"key":"HSG1lXQnGA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ground-based radiometer is measuring temperature for a spot (not really a single point) maybe ~1m in diameter. The airborne and ASTER imagers have spatial resolutions of 5m and 90m respectively. How confident are we in the geolocation of individual pixels in the imagery?","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Q92AyElmtH"}],"key":"MUahaeIwrS"}],"key":"oDxVTpjQcC"}],"key":"F5mMeS9CJ0"}],"key":"rAt8BalDrd"}],"key":"cgsccHnuj5"}],"class":"dropdown","key":"IHzAs518s0"}],"key":"IB6JHniwjZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Where is snow pit 2S10?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JEm3jWBpTS"}],"key":"Pc7VVOsmEo"}],"key":"ivsPrUZeFO"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can find this information through a query to the SnowEx SQL database. First, set up the connection:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ucYuTHoujC"}],"key":"vCb4pInCNp"}],"key":"SXx7UFsrKp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# This is what you will use for all of hackweek to access the db\ndb_name = 'snow:hackweek@db.snowexdata.org/snowex'\n# Using the function get_db, we receive 2 ways to interact with the database\nengine, session = get_db(db_name)","key":"ympTiXimqM"},{"type":"outputs","id":"__rb3aUtgkjEFJFooI9s2","children":[],"key":"oo4EmJ6nOq"}],"key":"NrlxG6LnxV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Then, query ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pnn7JaWTcc"},{"type":"link","url":"https://snowexsql.readthedocs.io/en/latest/database_structure.html#sites-table","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"SiteData","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xnadz0sply"}],"urlSource":"https://snowexsql.readthedocs.io/en/latest/database_structure.html#sites-table","key":"tpR7escX6J"},{"type":"text","value":" using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UGp7n5PNi5"},{"type":"link","url":"https://docs.sqlalchemy.org/en/14/orm/query.html#sqlalchemy.orm.Query.filter_by","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"filter_by","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FnKXqsNjHZ"}],"urlSource":"https://docs.sqlalchemy.org/en/14/orm/query.html#sqlalchemy.orm.Query.filter_by","key":"bGyt1WXEkk"},{"type":"text","value":" to find the entry with the site ID that we want (2S10). Preview the resulting geodataframe.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iVNzIA0m7J"}],"key":"qoMS8DCoVA"}],"key":"xwLvDi2eFn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Form the query to receive site_id='2S10' from the sites table\nqry = session.query(SiteData).filter_by(site_id='2S10')\n\n# Convert the record received into a geopandas dataframe\nsiteData_df = query_to_geopandas(qry, engine)\n\n# Preview the resulting geopandas dataframe\nsiteData_df","key":"ln2Tab63Nk"},{"type":"outputs","id":"xxSdZ6zorCOgjhu94_sva","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"              pit_id  slope_angle aspect  air_temp  total_depth  \\\n0  COGM2S10_20200205          0.0   None      18.5         77.0   \n1  COGM2S10_20200205          0.0   None      18.5         77.0   \n2  COGM2S10_20200205          0.0   None      18.5         77.0   \n3  COGM2S10_20200205          0.0   None      18.5         77.0   \n4  COGM2S10_20200205          0.0   None      18.5         77.0   \n\n                 weather_description precip           sky_cover      wind  \\\n0  Sunny and cold, some blowing snow   None  Few (< 1/4 of sky)  Moderate   \n1  Sunny and cold, some blowing snow   None  Few (< 1/4 of sky)  Moderate   \n2  Sunny and cold, some blowing snow   None  Few (< 1/4 of sky)  Moderate   \n3  Sunny and cold, some blowing snow   None  Few (< 1/4 of sky)  Moderate   \n4  Sunny and cold, some blowing snow   None  Few (< 1/4 of sky)  Moderate   \n\n  ground_condition  ...                    geom            time site_id  \\\n0           Frozen  ...  POINT (743076 4322689)  16:45:00+00:00    2S10   \n1           Frozen  ...  POINT (743076 4322689)  16:45:00+00:00    2S10   \n2           Frozen  ...  POINT (743076 4322689)  16:45:00+00:00    2S10   \n3           Frozen  ...  POINT (743076 4322689)  16:45:00+00:00    2S10   \n4           Frozen  ...  POINT (743076 4322689)  16:45:00+00:00    2S10   \n\n    site_name        date                     time_created  time_updated  \\\n0  Grand Mesa  2020-02-05 2022-06-30 22:28:52.494279+00:00          None   \n1  Grand Mesa  2020-02-05 2024-08-13 17:46:01.536373+00:00          None   \n2  Grand Mesa  2020-02-05 2024-08-15 16:29:45.960774+00:00          None   \n3  Grand Mesa  2020-02-05 2024-08-15 19:24:47.011834+00:00          None   \n4  Grand Mesa  2020-02-05 2024-08-15 19:57:20.851326+00:00          None   \n\n     id                                   doi date_accessed  \n0   130  https://doi.org/10.5067/DUD2VZEVBJ7S          None  \n1   737  https://doi.org/10.5067/DUD2VZEVBJ7S          None  \n2  1763  https://doi.org/10.5067/DUD2VZEVBJ7S          None  \n3  2789  https://doi.org/10.5067/DUD2VZEVBJ7S          None  \n4  3503  https://doi.org/10.5067/DUD2VZEVBJ7S          None  \n\n[5 rows x 31 columns]","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>pit_id</th>\n      <th>slope_angle</th>\n      <th>aspect</th>\n      <th>air_temp</th>\n      <th>total_depth</th>\n      <th>weather_description</th>\n      <th>precip</th>\n      <th>sky_cover</th>\n      <th>wind</th>\n      <th>ground_condition</th>\n      <th>...</th>\n      <th>geom</th>\n      <th>time</th>\n      <th>site_id</th>\n      <th>site_name</th>\n      <th>date</th>\n      <th>time_created</th>\n      <th>time_updated</th>\n      <th>id</th>\n      <th>doi</th>\n      <th>date_accessed</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>COGM2S10_20200205</td>\n      <td>0.0</td>\n      <td>None</td>\n      <td>18.5</td>\n      <td>77.0</td>\n      <td>Sunny and cold, some blowing snow</td>\n      <td>None</td>\n      <td>Few (&lt; 1/4 of sky)</td>\n      <td>Moderate</td>\n      <td>Frozen</td>\n      <td>...</td>\n      <td>POINT (743076 4322689)</td>\n      <td>16:45:00+00:00</td>\n      <td>2S10</td>\n      <td>Grand Mesa</td>\n      <td>2020-02-05</td>\n      <td>2022-06-30 22:28:52.494279+00:00</td>\n      <td>None</td>\n      <td>130</td>\n      <td>https://doi.org/10.5067/DUD2VZEVBJ7S</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>COGM2S10_20200205</td>\n      <td>0.0</td>\n      <td>None</td>\n      <td>18.5</td>\n      <td>77.0</td>\n      <td>Sunny and cold, some blowing snow</td>\n      <td>None</td>\n      <td>Few (&lt; 1/4 of sky)</td>\n      <td>Moderate</td>\n      <td>Frozen</td>\n      <td>...</td>\n      <td>POINT (743076 4322689)</td>\n      <td>16:45:00+00:00</td>\n      <td>2S10</td>\n      <td>Grand Mesa</td>\n      <td>2020-02-05</td>\n      <td>2024-08-13 17:46:01.536373+00:00</td>\n      <td>None</td>\n      <td>737</td>\n      <td>https://doi.org/10.5067/DUD2VZEVBJ7S</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>COGM2S10_20200205</td>\n      <td>0.0</td>\n      <td>None</td>\n      <td>18.5</td>\n      <td>77.0</td>\n      <td>Sunny and cold, some blowing snow</td>\n      <td>None</td>\n      <td>Few (&lt; 1/4 of sky)</td>\n      <td>Moderate</td>\n      <td>Frozen</td>\n      <td>...</td>\n      <td>POINT (743076 4322689)</td>\n      <td>16:45:00+00:00</td>\n      <td>2S10</td>\n      <td>Grand Mesa</td>\n      <td>2020-02-05</td>\n      <td>2024-08-15 16:29:45.960774+00:00</td>\n      <td>None</td>\n      <td>1763</td>\n      <td>https://doi.org/10.5067/DUD2VZEVBJ7S</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>COGM2S10_20200205</td>\n      <td>0.0</td>\n      <td>None</td>\n      <td>18.5</td>\n      <td>77.0</td>\n      <td>Sunny and cold, some blowing snow</td>\n      <td>None</td>\n      <td>Few (&lt; 1/4 of sky)</td>\n      <td>Moderate</td>\n      <td>Frozen</td>\n      <td>...</td>\n      <td>POINT (743076 4322689)</td>\n      <td>16:45:00+00:00</td>\n      <td>2S10</td>\n      <td>Grand Mesa</td>\n      <td>2020-02-05</td>\n      <td>2024-08-15 19:24:47.011834+00:00</td>\n      <td>None</td>\n      <td>2789</td>\n      <td>https://doi.org/10.5067/DUD2VZEVBJ7S</td>\n      <td>None</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>COGM2S10_20200205</td>\n      <td>0.0</td>\n      <td>None</td>\n      <td>18.5</td>\n      <td>77.0</td>\n      <td>Sunny and cold, some blowing snow</td>\n      <td>None</td>\n      <td>Few (&lt; 1/4 of sky)</td>\n      <td>Moderate</td>\n      <td>Frozen</td>\n      <td>...</td>\n      <td>POINT (743076 4322689)</td>\n      <td>16:45:00+00:00</td>\n      <td>2S10</td>\n      <td>Grand Mesa</td>\n      <td>2020-02-05</td>\n      <td>2024-08-15 19:57:20.851326+00:00</td>\n      <td>None</td>\n      <td>3503</td>\n      <td>https://doi.org/10.5067/DUD2VZEVBJ7S</td>\n      <td>None</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows √ó 31 columns</p>\n</div>","content_type":"text/html"}}},"key":"HaMxZzlqPz"}],"key":"S48J51IcHJ"}],"key":"MwuIbbUfZk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect of the geodatframe‚Äôs metadata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fE5d4lbiTV"}],"key":"QRkvcbo0ja"}],"key":"PMtLoAXlz8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# What is the coordinate reference system used here?\nsiteData_df.crs","key":"GBSWm4Ksxb"},{"type":"outputs","id":"3kPP4akjS7lCspoZQbK1j","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/plain":{"content":"<Projected CRS: EPSG:26912>\nName: NAD83 / UTM zone 12N\nAxis Info [cartesian]:\n- E[east]: Easting (metre)\n- N[north]: Northing (metre)\nArea of Use:\n- name: North America - between 114¬∞W and 108¬∞W - onshore and offshore. Canada - Alberta; Northwest Territories; Nunavut; Saskatchewan. United States (USA) - Arizona; Colorado; Idaho; Montana; New Mexico; Utah; Wyoming.\n- bounds: (-114.0, 31.33, -108.0, 84.0)\nCoordinate Operation:\n- name: UTM zone 12N\n- method: Transverse Mercator\nDatum: North American Datum 1983\n- Ellipsoid: GRS 1980\n- Prime Meridian: Greenwich","content_type":"text/plain"}}},"key":"M3havED34S"}],"key":"dsR54kVpmu"}],"key":"tIOXZG3MER"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Preview the geometry of this geodataframe, we should see that it is a POINT\nsiteData_df.geometry","key":"iY6EmTY4Th"},{"type":"outputs","id":"fe7I2F81b0TFRomO1i4Ub","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"0    POINT (743076 4322689)\n1    POINT (743076 4322689)\n2    POINT (743076 4322689)\n3    POINT (743076 4322689)\n4    POINT (743076 4322689)\nName: geom, dtype: geometry","content_type":"text/plain"}}},"key":"ax7O1c6rwE"}],"key":"i0ShDFNy5d"}],"key":"woq3QUn5cI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can now plot our snow pit site from this ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z0bNmg68nB"},{"type":"link","url":"https://geopandas.org/docs/reference/api/geopandas.GeoDataFrame.plot.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"geodataframe","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UIm6j69l17"}],"urlSource":"https://geopandas.org/docs/reference/api/geopandas.GeoDataFrame.plot.html","key":"Xr1upKqNuk"},{"type":"text","value":" on top of the airborne IR image. (See more tips about plotting geodataframes ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Mz9jW5u2To"},{"type":"link","url":"https://www.earthdatascience.org/courses/scientists-guide-to-plotting-data-in-python/plot-spatial-data/customize-vector-plots/python-change-spatial-extent-of-map-matplotlib-geopandas/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HMyrMTHSZQ"}],"urlSource":"https://www.earthdatascience.org/courses/scientists-guide-to-plotting-data-in-python/plot-spatial-data/customize-vector-plots/python-change-spatial-extent-of-map-matplotlib-geopandas/","key":"KT0TGnTWxQ"},{"type":"text","value":")","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M4tipq3i54"}],"key":"qnCZTbRaxa"}],"key":"GdvYHlDMd3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(20,5)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)\nax.set_xlim((735000, 760000)) # x axis limits\nax.set_ylim((4320000, 4325000)) # y axis limits\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10\\nwith Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"PGjqAbSuDB"},{"type":"outputs","id":"KbnKzkezTps3FIrYUeGvu","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 2000x500 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b9fcf81d3ad077a394e5f447d8b45c83","path":"/snow-observations-cookbook/build/b9fcf81d3ad077a394e5f447d8b45c83.png"}}},"key":"tI2UCQbxKU"}],"key":"oqDWS8sr0k"}],"key":"dJdjXqwvKH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Change the x and y axes limits (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"llqhx11IKs"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LGWnM8XKG3"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"pr4P8IWcVZ"},{"type":"text","value":", and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"maGO86PXLX"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_ylim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oY6daeaHnv"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","key":"x2qvfpp8Ek"},{"type":"text","value":") to zoom in to our point of interest. In this case we can use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"loNFXLnIY8"},{"type":"link","url":"https://geopandas.readthedocs.io/en/latest/docs/reference/api/geopandas.GeoSeries.total_bounds.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"df‚Äã.geometry‚Äã.total‚Äã_bounds","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gc5ZrO7Y91"}],"urlSource":"https://geopandas.readthedocs.io/en/latest/docs/reference/api/geopandas.GeoSeries.total_bounds.html","key":"XbQKgpJpKT"},{"type":"text","value":" to get the x and y values that define the area our geometry takes up. (In this case we have a point so it will return just the point‚Äôs location, but this would work if we had a polygon as well)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rS3RJMjHQP"}],"key":"uykQJt7lbw"}],"key":"fhYvkBvoDP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# set axes limits\nxmin, ymin, xmax, ymax = siteData_df.geometry.total_bounds # get the \"total bounds\" for our geometry\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10\\nAirborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"WqqriYEWy8"},{"type":"outputs","id":"nTxRf2RBZRzSU72Lvkkrp","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"b54635cf42e14a5fd3acab51b7beb461","path":"/snow-observations-cookbook/build/b54635cf42e14a5fd3acab51b7beb461.png"}}},"key":"TDOP368SCo"}],"key":"dZ2kW1wZm7"}],"key":"cdKRHclEal"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the snow temperature timeseries dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I4O6ZkPhme"}],"key":"I7rISeUrmr"}],"key":"qS7GirBeQh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This data is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"V7Et0aMsjl"},{"type":"link","url":"https://nsidc.org/data/SNEX20_VPTS_Raw/versions/1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"available through NSIDC","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qzQEpBabP8"}],"urlSource":"https://nsidc.org/data/SNEX20_VPTS_Raw/versions/1","key":"hSpAAJmHv1"},{"type":"text","value":", but we have already downloaded a local copy for this tutorial. (See the bonus notebook ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VPk1VhdXg2"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"thermal‚Äã-ir‚Äã-data‚Äã-download‚Äã.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EjCWPc79yi"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"ZhMTulTCsn"},{"type":"text","value":" for more details about data access methods)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xbpvq2j4S3"}],"key":"XZghQqGeVp"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The raw data file doesn‚Äôt include the column names, so we need to set the column headers following the dataset‚Äôs README file.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"msjicNHEU1"}],"key":"saAtTDRyup"}],"key":"u1ZgYojGVj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"!cat data/snow-temperature-README.txt","key":"fmjAz1nwH5"},{"type":"outputs","id":"BVT2iFbO2Uw81OX4YxTQZ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"Description:\r\n\tThis folder contains data files from two Campbell Scientific CR10X dataloggers which were installed at two sites on Grand Mesa to measure snow temperature profiles as part of the SnowEx 2020 field campaign.\r\n\t\r\n\t\"Grand Mesa 1\" (GM1) measured snow surface temperature with an Apogee SI-111 thermal infrared radiometer mounted on a tripod at a height of about 127 cm above the snow surface. The radiometer pointed 45 degrees off-nadir at the snow surface just to the west of the tripod. Five Campbell Scientific temperature probes were mounted vertically along a wooden stake with zip ties, at depths of 5, 10, 15, 20, and 30 cm below the snow surface. (CR10X_GM1_final_storage_1.dat) \r\n\t\r\n\t\"Grand Mesa 2\" (GM2) measured snow temperatures with five temperature probes mounted vertically on a wooden stake with zip ties at depths of 5, 10, 15, 20, and 30 cm below the snow surface. This location was just outside the fence perimeter of the Mesa West met station (northwest of the met station tower). Snow surface temperature is measured at the Mesa West station by its own set of thermal infrared radiometers, which can provide snow surface temperature adjacent to this vertical profile of snow temperature. The Mesa West station should also be able to provide similar snow temperatures below the surface with its own string of temperature sensors.\r\n\r\nDate/times: \r\n\tGM1: 2-5-2020 11:12 AM MST (UTC√¢ÀÜ‚Äô07:00) - 2-12-2020 3:36 PM MST (UTC√¢ÀÜ‚Äô07:00)\r\n\tGM2: 2-5-2020 12:35 PM MST (UTC√¢ÀÜ‚Äô07:00) - 2-12-2020 2:36 PM MST (UTC√¢ÀÜ‚Äô07:00)\r\n\r\nLocations: \r\n\tGM1 was located at Pit ID 2S10\r\n\tGM2 was located at the Mesa West met station \r\n\r\n\r\nFile formats:\r\n*.dat - comma-separated values from the Campbell Scientific CR10X Dataloggers\r\n*.xlsx - MS Excel worksheet\r\n\r\nColumns:\r\n\tGM1:\r\n\t\t'table', 'year', 'doy', 'time',\r\n\t\t'rad_avg', 'rad_max', 'rad_min', 'rad_std',\r\n\t\t'sb_avg', 'sb_max', 'sb_min', 'sb_std',\r\n\t\t'temp1_avg', 'temp1_max', 'temp1_min', 'temp1_std',\r\n\t\t'temp2_avg', 'temp2_max', 'temp2_min', 'temp2_std',\r\n\t\t'temp3_avg', 'temp3_max', 'temp3_min', 'temp3_std',\r\n\t\t'temp4_avg', 'temp4_max', 'temp4_min', 'temp4_std',\r\n\t\t'temp5_avg', 'temp5_max', 'temp5_min', 'temp5_std',\r\n\t\t'batt_a','batt_b'\r\n\tGM2:\r\n\t\t'table', 'year', 'doy', 'time',\r\n\t\t'temp1_avg', 'temp1_max', 'temp1_min', 'temp1_std',\r\n\t\t'temp2_avg', 'temp2_max', 'temp2_min', 'temp2_std',\r\n\t\t'temp3_avg', 'temp3_max', 'temp3_min', 'temp3_std',\r\n\t\t'temp4_avg', 'temp4_max', 'temp4_min', 'temp4_std',\r\n\t\t'temp5_avg', 'temp5_max', 'temp5_min', 'temp5_std',\r\n\t\t'batt_a','batt_b'\r\n\r\n\r\n\r\nResources:\r\n\tAn example jupyter notebook for reading and plotting the data is available on github:\r\n\t\thttps://github.com/spestana/snowex2020-snow-temp"},"key":"Wc82rWTuBQ"}],"key":"j83Y02qGyl"}],"key":"B8r2elFblf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create a list of column headers according to the readme above (for ‚ÄúGM1‚Äù which we can read was the datalogger at snowpit 2S10)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WwAbQAIIpV"}],"key":"ffVqUmJTLd"}],"key":"GLTsF0A7iU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"column_headers = ['table', 'year', 'doy', 'time', # year, day of year, time of day (local time, UTC-7)\n                  'rad_avg', 'rad_max', 'rad_min', 'rad_std', # radiometer surface temperature\n                  'sb_avg', 'sb_max', 'sb_min', 'sb_std', # radiometer sensor body temperature (for calibration)\n                  'temp1_avg', 'temp1_max', 'temp1_min', 'temp1_std', # temperature at 5 cm below snow surface\n                  'temp2_avg', 'temp2_max', 'temp2_min', 'temp2_std', #               10 cm\n                  'temp3_avg', 'temp3_max', 'temp3_min', 'temp3_std', #               15 cm\n                  'temp4_avg', 'temp4_max', 'temp4_min', 'temp4_std', #               20 cm\n                  'temp5_avg', 'temp5_max', 'temp5_min', 'temp5_std', #               30 cm\n                  'batt_a','batt_b', # battery voltage data\n                 ]","key":"jVBBvfLVdy"},{"type":"outputs","id":"NZl6hsSPlZh7PurWD_KM9","children":[],"key":"So7w1pWAYy"}],"key":"yVMAp4RMbq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open the file as a pandas data frame with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oUwNVONtsU"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"read_csv","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wBm2MtGvA5"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html","key":"cajRIe1z4C"}],"key":"T9mQOq9mp6"}],"key":"mH1spu4u4q"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df = pd.read_csv(f'data/CR10X_GM1_final_storage_1.dat',\n                 header = None, names = column_headers) \n\n# After the filepath we specify header=None because the file doesn't contain column headers, \n# then we specify names=column_headers to give our own names for each column.","key":"OpWqCofktw"},{"type":"outputs","id":"_ebR-uw2WKEyIqGplvMu0","children":[],"key":"huuGS4lCtI"}],"key":"d9M3NSIKeG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We need to do some formatting of the data fields, but we can preview what we just loaded fist","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rMxF0OWGZy"}],"key":"mbYMYvic7T"}],"key":"XRUYBuH6mr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.head() # show the first 5 rows of the dataframe","key":"ziMW4qg5kL"},{"type":"outputs","id":"yQCZXAiAk-JdqxWeGf4v0","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"   table  year  doy  time  rad_avg  rad_max  rad_min  rad_std  sb_avg  sb_max  \\\n0    101  2020   30  1537   22.963   22.963   22.963    0.000  22.832  22.832   \n1    101  2020   30  1538   22.962   22.963   22.961    0.001  22.832  22.832   \n2    101  2020   30  1539   25.080   26.810   22.968    1.484  22.832  22.832   \n3    101  2020   30  1540   25.320   25.569   25.133    0.184  22.839  22.846   \n4    102  2020   30  1540   12.050    0.000      NaN      NaN     NaN     NaN   \n\n   ...  temp4_avg  temp4_max  temp4_min  temp4_std  temp5_avg  temp5_max  \\\n0  ...   -99999.0   -99999.0   -99999.0        0.0   -99999.0   -99999.0   \n1  ...   -99999.0   -99999.0   -99999.0        0.0   -99999.0   -99999.0   \n2  ...   -99999.0   -99999.0   -99999.0        0.0   -99999.0   -99999.0   \n3  ...   -99999.0   -99999.0   -99999.0        0.0   -99999.0   -99999.0   \n4  ...        NaN        NaN        NaN        NaN        NaN        NaN   \n\n   temp5_min  temp5_std  batt_a  batt_b  \n0   -99999.0        0.0   22.96   22.83  \n1   -99999.0        0.0   22.96   22.83  \n2   -99999.0        0.0   24.47   22.83  \n3   -99999.0        0.0   25.42   22.85  \n4        NaN        NaN     NaN     NaN  \n\n[5 rows x 34 columns]","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>table</th>\n      <th>year</th>\n      <th>doy</th>\n      <th>time</th>\n      <th>rad_avg</th>\n      <th>rad_max</th>\n      <th>rad_min</th>\n      <th>rad_std</th>\n      <th>sb_avg</th>\n      <th>sb_max</th>\n      <th>...</th>\n      <th>temp4_avg</th>\n      <th>temp4_max</th>\n      <th>temp4_min</th>\n      <th>temp4_std</th>\n      <th>temp5_avg</th>\n      <th>temp5_max</th>\n      <th>temp5_min</th>\n      <th>temp5_std</th>\n      <th>batt_a</th>\n      <th>batt_b</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>101</td>\n      <td>2020</td>\n      <td>30</td>\n      <td>1537</td>\n      <td>22.963</td>\n      <td>22.963</td>\n      <td>22.963</td>\n      <td>0.000</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>22.96</td>\n      <td>22.83</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>101</td>\n      <td>2020</td>\n      <td>30</td>\n      <td>1538</td>\n      <td>22.962</td>\n      <td>22.963</td>\n      <td>22.961</td>\n      <td>0.001</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>22.96</td>\n      <td>22.83</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>101</td>\n      <td>2020</td>\n      <td>30</td>\n      <td>1539</td>\n      <td>25.080</td>\n      <td>26.810</td>\n      <td>22.968</td>\n      <td>1.484</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>24.47</td>\n      <td>22.83</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>101</td>\n      <td>2020</td>\n      <td>30</td>\n      <td>1540</td>\n      <td>25.320</td>\n      <td>25.569</td>\n      <td>25.133</td>\n      <td>0.184</td>\n      <td>22.839</td>\n      <td>22.846</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>25.42</td>\n      <td>22.85</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>102</td>\n      <td>2020</td>\n      <td>30</td>\n      <td>1540</td>\n      <td>12.050</td>\n      <td>0.000</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows √ó 34 columns</p>\n</div>","content_type":"text/html"}}},"key":"YI66f2e5kb"}],"key":"njpJG4DF59"}],"key":"Pk69TsZdha"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data cleanup and formatting","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BRT9HgYQGl"}],"key":"CscrDZC9z9"}],"key":"PxCdL52MST"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a zero-padded time string (e.g. for 9:30 AM we are changing '930' into '0930')\ndf['time_str'] = [('0' * (4 - len(str(df.time[i])))) + str(df.time[i]) for i in range(df.shape[0])]\n\n# locate where rows have time_str == 2400 (midnight), and the whole column 'doy'\n# where we are at midnight, we need to shift one day forward\ndf.loc[df['time_str'] == '2400','doy'] += 1\n\n# and then change midnight from '2400' to '0000'\ndf.time_str.replace('2400', '0000', inplace=True)","key":"hmWltbYd1Q"},{"type":"outputs","id":"Dub90pfOnqF4G78P75S8p","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3840/748583221.py:9: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.\nThe behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.\n\nFor example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.\n\n\n  df.time_str.replace('2400', '0000', inplace=True)\n"},"key":"ryx9YtitxX"}],"key":"AsPwYclMiZ"}],"key":"uxU5Obb93B"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This function lets us convert year and day of year (the format that the datalogger uses) to a pandas ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rv1N6LCpd3"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"datetime index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fXXMPKzLsf"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","key":"nanNjxHVPF"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zsHDb4kw7R"}],"key":"lE77f5RvDN"}],"key":"yrh3uEHOJ1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def compose_date(years, months=1, days=1, weeks=None, hours=None, minutes=None,\n                 seconds=None, milliseconds=None, microseconds=None, nanoseconds=None):\n    '''Compose a datetime object from various datetime components. This clever solution is from:\n        https://stackoverflow.com/questions/34258892/converting-year-and-day-of-year-into-datetime-index-in-pandas'''\n    years = np.asarray(years) - 1970\n    months = np.asarray(months) - 1\n    days = np.asarray(days) - 1\n    types = ('<M8[Y]', '<m8[M]', '<m8[D]', '<m8[W]', '<m8[h]',\n             '<m8[m]', '<m8[s]', '<m8[ms]', '<m8[us]', '<m8[ns]')\n    vals = (years, months, days, weeks, hours, minutes, seconds,\n            milliseconds, microseconds, nanoseconds)\n    return sum(np.asarray(v, dtype=t) for t, v in zip(types, vals)\n               if v is not None)","key":"HCSU9mtLGU"},{"type":"outputs","id":"gHvYN4c1PolQzSmEOFEju","children":[],"key":"kanuVxKruf"}],"key":"Fownhs3RLp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a datetime value from the date field and zero-padded time_str field, set this as our dataframe's index\ndf.index = compose_date(df['year'], \n                        days=df['doy'], \n                        hours=df['time_str'].str[:2],\n                        minutes=df['time_str'].str[2:])\n\n# Remove entries that are from table \"102\" (this contains datalogger battery information we're not interested in at the moment)\ndf = df[df.table != 102]\n\n# drop the columns we no longer need\ndf.drop(columns=['table','year','doy','time','time_str','batt_a','batt_b'], inplace=True)","key":"LUNueSFHEu"},{"type":"outputs","id":"cx87S31_RvGzJj_PTJ606","children":[],"key":"upLtV60ABI"}],"key":"DQ9UoUeNpC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the contents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lDgVoN2vix"}],"key":"rEv89QfsOk"}],"key":"toXfrPtm9M"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.head()","key":"vBl7xEgeEA"},{"type":"outputs","id":"bHwKuNtLhI_zASU--BmPY","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/plain":{"content":"                     rad_avg  rad_max  rad_min  rad_std  sb_avg  sb_max  \\\n2020-01-30 15:37:00   22.963   22.963   22.963    0.000  22.832  22.832   \n2020-01-30 15:38:00   22.962   22.963   22.961    0.001  22.832  22.832   \n2020-01-30 15:39:00   25.080   26.810   22.968    1.484  22.832  22.832   \n2020-01-30 15:40:00   25.320   25.569   25.133    0.184  22.839  22.846   \n2020-01-30 15:41:00   24.894   25.069   24.611    0.182  22.860  22.860   \n\n                     sb_min  sb_std  temp1_avg  temp1_max  ...  temp3_min  \\\n2020-01-30 15:37:00  22.832   0.000   -99999.0   -99999.0  ...   -99999.0   \n2020-01-30 15:38:00  22.832   0.000   -99999.0   -99999.0  ...   -99999.0   \n2020-01-30 15:39:00  22.832   0.000   -99999.0   -99999.0  ...   -99999.0   \n2020-01-30 15:40:00  22.832   0.005   -99999.0   -99999.0  ...   -99999.0   \n2020-01-30 15:41:00  22.860   0.000   -99999.0   -99999.0  ...   -99999.0   \n\n                     temp3_std  temp4_avg  temp4_max  temp4_min  temp4_std  \\\n2020-01-30 15:37:00        0.0   -99999.0   -99999.0   -99999.0        0.0   \n2020-01-30 15:38:00        0.0   -99999.0   -99999.0   -99999.0        0.0   \n2020-01-30 15:39:00        0.0   -99999.0   -99999.0   -99999.0        0.0   \n2020-01-30 15:40:00        0.0   -99999.0   -99999.0   -99999.0        0.0   \n2020-01-30 15:41:00        0.0   -99999.0   -99999.0   -99999.0        0.0   \n\n                     temp5_avg  temp5_max  temp5_min  temp5_std  \n2020-01-30 15:37:00   -99999.0   -99999.0   -99999.0        0.0  \n2020-01-30 15:38:00   -99999.0   -99999.0   -99999.0        0.0  \n2020-01-30 15:39:00   -99999.0   -99999.0   -99999.0        0.0  \n2020-01-30 15:40:00   -99999.0   -99999.0   -99999.0        0.0  \n2020-01-30 15:41:00   -99999.0   -99999.0   -99999.0        0.0  \n\n[5 rows x 28 columns]","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>rad_avg</th>\n      <th>rad_max</th>\n      <th>rad_min</th>\n      <th>rad_std</th>\n      <th>sb_avg</th>\n      <th>sb_max</th>\n      <th>sb_min</th>\n      <th>sb_std</th>\n      <th>temp1_avg</th>\n      <th>temp1_max</th>\n      <th>...</th>\n      <th>temp3_min</th>\n      <th>temp3_std</th>\n      <th>temp4_avg</th>\n      <th>temp4_max</th>\n      <th>temp4_min</th>\n      <th>temp4_std</th>\n      <th>temp5_avg</th>\n      <th>temp5_max</th>\n      <th>temp5_min</th>\n      <th>temp5_std</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2020-01-30 15:37:00</th>\n      <td>22.963</td>\n      <td>22.963</td>\n      <td>22.963</td>\n      <td>0.000</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>0.000</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2020-01-30 15:38:00</th>\n      <td>22.962</td>\n      <td>22.963</td>\n      <td>22.961</td>\n      <td>0.001</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>0.000</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2020-01-30 15:39:00</th>\n      <td>25.080</td>\n      <td>26.810</td>\n      <td>22.968</td>\n      <td>1.484</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>22.832</td>\n      <td>0.000</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2020-01-30 15:40:00</th>\n      <td>25.320</td>\n      <td>25.569</td>\n      <td>25.133</td>\n      <td>0.184</td>\n      <td>22.839</td>\n      <td>22.846</td>\n      <td>22.832</td>\n      <td>0.005</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>2020-01-30 15:41:00</th>\n      <td>24.894</td>\n      <td>25.069</td>\n      <td>24.611</td>\n      <td>0.182</td>\n      <td>22.860</td>\n      <td>22.860</td>\n      <td>22.860</td>\n      <td>0.000</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>...</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>-99999.0</td>\n      <td>0.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows √ó 28 columns</p>\n</div>","content_type":"text/html"}}},"key":"IhqJmvPmgS"}],"key":"yxkrqvRdqb"}],"key":"IHzsjy4ZO5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Make a simple plot of the data. We are interested in the variable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qRhn0vEdbY"},{"type":"inlineCode","value":"rad_avg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s2b55tMYBn"},{"type":"text","value":" which is the average temperature measured by the radiometer over each 5 minute period.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QEcQ9NBpnE"}],"key":"cua9Nm2tKq"}],"key":"GTUOyiz50h"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n\n# set axes limits\nplt.ylim((-35,5))\nplt.xlim((pd.Timestamp(2020,2,5,11,0),pd.Timestamp(2020,2,12,16,0)))\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"ed6cSkS7zB"},{"type":"outputs","id":"PXRqq5mUX4ggZN4ZA13WM","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"62788bcbc3d661ad10ae8c66f3546553","path":"/snow-observations-cookbook/build/62788bcbc3d661ad10ae8c66f3546553.png"}}},"key":"PpoOYK1sGg"}],"key":"Y5oE71f32I"}],"key":"no1clfa19k"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Bonus plot: look at snow temperatures below the snow surface","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DCC31FZ8sx"}],"key":"uKfKCXsE38"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Add the following to the above plot to add lines for temperature recorded at each depth interval below the snow surface:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"MmEt3hjw6d"}],"key":"g0cmtEVjXC"},{"type":"code","lang":"","value":"# plot the snow temperature at each depth it was measured\ndf.temp1_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.8,0.8,1], label='Ts @ -5 cm')\ndf.temp2_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.6,0.6,1], label='Ts @ -10 cm')\ndf.temp3_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.4,0.4,1], label='Ts @ -15 cm')\ndf.temp4_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.2,0.2,1], label='Ts @ -20 cm')\ndf.temp5_avg.plot(linestyle='-', marker='.', markersize=1, c=[0,0,1], label='Ts @ -30 cm')","position":{"start":{"line":6,"column":1},"end":{"line":13,"column":1}},"key":"eAPBvoWf24"}],"class":"dropdown ","key":"KpAxhqjWYd"}],"key":"JwraNM2M0W"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"But then we want to focus on the date/time when our IR image was from, so zoom in on Feb 8th by changing our plot‚Äôs ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fE3UuktI1g"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ew1PCxDnaA"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"FwYQxY8Ihi"},{"type":"text","value":" (using pandas ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fAyltwtBAL"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Timestamps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f78dBj5psk"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html","key":"oE4HCj3l8y"},{"type":"text","value":" for the x axis values).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vHQwoLfP3r"}],"key":"SkgukjkxFU"}],"key":"MHJrRl3O19"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# set axes limits\nplt.ylim((-15,0)) # set some temperature y-axis limits for our plot\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"gxGiTG5BaN"},{"type":"outputs","id":"7ZB5nq0QpfHDSKxHO8gbM","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"2095a78c18eb9037c6a72b27ede3da25","path":"/snow-observations-cookbook/build/2095a78c18eb9037c6a72b27ede3da25.png"}}},"key":"wQC6HExs7D"}],"key":"a8V8DBzUI8"}],"key":"SIUi2stFCK"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c1lD9z1urZ"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Compare Airborne IR against the ‚Äúground truth‚Äù snow surface temperature","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mkgv4OI6u4"}],"identifier":"compare-airborne-ir-against-the-ground-truth-snow-surface-temperature","label":"Compare Airborne IR against the ‚Äúground truth‚Äù snow surface temperature","html_id":"compare-airborne-ir-against-the-ground-truth-snow-surface-temperature","implicit":true,"key":"PhidC9hfKu"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What is the temperature at this point in the airborne IR image?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wNkcbnBarR"}],"key":"hHproD002C"}],"key":"cwGdPeWmom"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Use rioxarray‚Äôs ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rzjKeYfNRD"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"clip","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"d72RkdfRXz"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","key":"D66GYXUjRQ"},{"type":"text","value":" function to extract the raster values that intersect with the point‚Äôs geometry. Because we have a point, this will return a single value for the pixel that overlaps this point.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RM5XGRuLEo"}],"key":"VjR1KUNhmz"}],"key":"SbiHM5xXL2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# clip using our point's geometry\nairborne_ir_point_temperature = airborne_ir.rio.clip(siteData_df.geometry)\n\n# preview the result\nairborne_ir_point_temperature","key":"KbcQXYWbHd"},{"type":"outputs","id":"X-XDdghqUWgqbF6A-LLBl","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 1, x: 1)> Size: 4B\narray([[[-5.038153]]], dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 8B 4.323e+06\n  * x            (x) float64 8B 7.431e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 1, x: 1)&gt; Size: 4B\narray([[[-5.038153]]], dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 8B 4.323e+06\n  * x            (x) float64 8B 7.431e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 1</li><li><span class='xr-has-index'>x</span>: 1</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-58da0e01-1735-4fb8-90b2-dd404153d78c' class='xr-array-in' type='checkbox' checked><label for='section-58da0e01-1735-4fb8-90b2-dd404153d78c' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>-5.038</span></div><div class='xr-array-data'><pre>array([[[-5.038153]]], dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-0dea18ca-6416-44d7-bd30-75ed96964ad9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-0dea18ca-6416-44d7-bd30-75ed96964ad9' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-8b9729b8-1a36-493b-84dc-15cfffaf3036' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-8b9729b8-1a36-493b-84dc-15cfffaf3036' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b45c1542-2355-4dae-a931-4e3c048288f1' class='xr-var-data-in' type='checkbox'><label for='data-b45c1542-2355-4dae-a931-4e3c048288f1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.323e+06</div><input id='attrs-51a3c856-43b1-4492-b1eb-183dedebca15' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-51a3c856-43b1-4492-b1eb-183dedebca15' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d94356ee-8f19-4275-95e6-fc84c2234595' class='xr-var-data-in' type='checkbox'><label for='data-d94356ee-8f19-4275-95e6-fc84c2234595' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>Y</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([4322688.483907])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.431e+05</div><input id='attrs-59c307d8-3d3f-4ea5-865f-7702a3637b56' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-59c307d8-3d3f-4ea5-865f-7702a3637b56' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fb0ccbfd-97f9-4ad9-906e-bb7aacc2dc57' class='xr-var-data-in' type='checkbox'><label for='data-fb0ccbfd-97f9-4ad9-906e-bb7aacc2dc57' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>X</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([743074.111762])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-035527c8-ce16-465a-87ad-2165fbe33439' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-035527c8-ce16-465a-87ad-2165fbe33439' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-89bdfdc8-184d-4f41-ba54-40d64851eb95' class='xr-var-data-in' type='checkbox'><label for='data-89bdfdc8-184d-4f41-ba54-40d64851eb95' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>NAD83</dd><dt><span>horizontal_datum_name :</span></dt><dd>North American Datum 1983</dd><dt><span>projected_crs_name :</span></dt><dd>NAD83 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>743071.612146569 4.999230244949031 0.0 4322690.983521892 0.0 -4.999230244949127</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-21a1d971-0845-4d46-96f5-17c628a45da8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-21a1d971-0845-4d46-96f5-17c628a45da8' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Airborne thermal infrared imagery from University of Washington Applied Physics Lab Compact Airborne System for Imaging the Environment instrument. Imagery of Grand Mesa, Colorado from SnowEx 2020 field campaign.</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>long_name :</span></dt><dd>STCtemp</dd><dt><span>_FillValue :</span></dt><dd>nan</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"hYNfx1SFZv"}],"key":"OezWVGkWry"}],"key":"Dmc5lvLkNP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Our result is a DataArray with a single data value at one set of x and y coordinates.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CFjmKUisBD"}],"key":"IPFHM0l681"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Pixel = Point ?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"V1KPKzzM0i"}],"key":"VvEvbKmo90"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Should we expect that the temperature measured for an image pixel would be the same for an individual point on the ground? The airborne imagery is at 5 meter spatial resolution, whereas our ground-based radiometer measured a spot maybe only ~1 m in diameter. Additionally, the geolocation of the airborne imagery is less accurate than 5 meters (closer to 10-15 meters) meaning that if we picked a single pixel to overlap our ground point, it may be the wrong pixel. Let‚Äôs instead look at the average and distribution of temperatures from the airborne imagery in an area around this point.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RMT237dJsM"}],"key":"sABv72IALG"}],"key":"WeYsjoc20R"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Add a 100 m radius ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FGik6inTnD"},{"type":"link","url":"https://geopandas.org/docs/reference/api/geopandas.GeoSeries.buffer.html","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"buffer","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"sCgZmJlBsa"}],"urlSource":"https://geopandas.org/docs/reference/api/geopandas.GeoSeries.buffer.html","key":"oNmwxo4iGW"},{"type":"text","value":" around this point and get the temperature from the airborne imagery for a larger area around the snow pit.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rNwADSme7H"}],"key":"aqtcocbwFO"}],"key":"pinlvmDlPZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"r = 100 # radius of the buffer in meters (this is in meters because we are working in a UTM coordinate reference system)\n\n# create the buffered geometry\nsiteData_df_buffer = siteData_df.buffer(r)\n\n# preview the resulting geometry, we should see this is a POLYGON now\nsiteData_df_buffer","key":"VDorngktoc"},{"type":"outputs","id":"pqmKvKKZjzh_ur0fQThs9","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":31,"metadata":{},"data":{"text/plain":{"content":"0    POLYGON ((743176 4322689, 743175.518 4322679.1...\n1    POLYGON ((743176 4322689, 743175.518 4322679.1...\n2    POLYGON ((743176 4322689, 743175.518 4322679.1...\n3    POLYGON ((743176 4322689, 743175.518 4322679.1...\n4    POLYGON ((743176 4322689, 743175.518 4322679.1...\ndtype: geometry","content_type":"text/plain"}}},"key":"UgPITSP1lG"}],"key":"MOchXqRycu"}],"key":"iOJwUdfNkR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What does this polygon look like when we plot it on top of the airborne IR image now?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I7UJTHLJQO"}],"key":"S7rJOx1bEk"}],"key":"Y9KYsShtX9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n\n# set the same axes limits as above\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10, and 100 m radius buffer\\nwith ASTER Band 14 TIR imagery');","key":"CmkTuSo2Lr"},{"type":"outputs","id":"fwpQxVtSu0H3gEVjI1EAk","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"1fea2dc72f601daaa94e7309915d0f72","path":"/snow-observations-cookbook/build/1fea2dc72f601daaa94e7309915d0f72.png"}}},"key":"jwqT5Dy30Q"}],"key":"DN8n6yPpkz"}],"key":"Ulwl8Pvtab"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Clip the airborne IR raster again, now with our 200 m diameter polygon around the snow pit site.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vQz5bAj5Vn"}],"key":"pGUY5Giw1q"}],"key":"r4wUA9SHvc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# clip using our new geometry\nairborne_ir_area_temperature = airborne_ir.rio.clip(siteData_df_buffer.geometry)\n\n# preview the result\nairborne_ir_area_temperature","key":"McVKNvFxuY"},{"type":"outputs","id":"ANjbjjaPAJEx0nKndYw0Y","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 40, x: 40)> Size: 6kB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 40, 40), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 320B 4.323e+06 4.323e+06 ... 4.323e+06 4.323e+06\n  * x            (x) float64 320B 7.43e+05 7.43e+05 ... 7.432e+05 7.432e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 40, x: 40)&gt; Size: 6kB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 40, 40), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 320B 4.323e+06 4.323e+06 ... 4.323e+06 4.323e+06\n  * x            (x) float64 320B 7.43e+05 7.43e+05 ... 7.432e+05 7.432e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 40</li><li><span class='xr-has-index'>x</span>: 40</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-85c8a44a-c5b8-43aa-ad57-ec824071693e' class='xr-array-in' type='checkbox' checked><label for='section-85c8a44a-c5b8-43aa-ad57-ec824071693e' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 40, 40), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-41467732-4da0-4b75-aa28-efef3f9faba8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-41467732-4da0-4b75-aa28-efef3f9faba8' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-354b0a02-db04-4b7f-a531-19a874412d34' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-354b0a02-db04-4b7f-a531-19a874412d34' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-eebb0fea-1561-4c9d-8e07-7da580e2bf50' class='xr-var-data-in' type='checkbox'><label for='data-eebb0fea-1561-4c9d-8e07-7da580e2bf50' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.323e+06 4.323e+06 ... 4.323e+06</div><input id='attrs-4b2bbb3e-ca09-40f0-82d7-e298566b7ad9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4b2bbb3e-ca09-40f0-82d7-e298566b7ad9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-672c3b16-50e9-42e2-970a-099a317cec6d' class='xr-var-data-in' type='checkbox'><label for='data-672c3b16-50e9-42e2-970a-099a317cec6d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>Y</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([4322788.468512, 4322783.469281, 4322778.470051, 4322773.470821,\n       4322768.471591, 4322763.47236 , 4322758.47313 , 4322753.4739  ,\n       4322748.47467 , 4322743.475439, 4322738.476209, 4322733.476979,\n       4322728.477749, 4322723.478518, 4322718.479288, 4322713.480058,\n       4322708.480828, 4322703.481598, 4322698.482367, 4322693.483137,\n       4322688.483907, 4322683.484677, 4322678.485446, 4322673.486216,\n       4322668.486986, 4322663.487756, 4322658.488525, 4322653.489295,\n       4322648.490065, 4322643.490835, 4322638.491604, 4322633.492374,\n       4322628.493144, 4322623.493914, 4322618.494683, 4322613.495453,\n       4322608.496223, 4322603.496993, 4322598.497762, 4322593.498532])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.43e+05 7.43e+05 ... 7.432e+05</div><input id='attrs-c455ceb5-5983-410a-88b3-e9066598cdaa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c455ceb5-5983-410a-88b3-e9066598cdaa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8ce5f08a-602c-41be-95c1-a68f5760f0ea' class='xr-var-data-in' type='checkbox'><label for='data-8ce5f08a-602c-41be-95c1-a68f5760f0ea' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>X</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([742979.126387, 742984.125617, 742989.124848, 742994.124078,\n       742999.123308, 743004.122538, 743009.121769, 743014.120999,\n       743019.120229, 743024.119459, 743029.118689, 743034.11792 ,\n       743039.11715 , 743044.11638 , 743049.11561 , 743054.114841,\n       743059.114071, 743064.113301, 743069.112531, 743074.111762,\n       743079.110992, 743084.110222, 743089.109452, 743094.108683,\n       743099.107913, 743104.107143, 743109.106373, 743114.105604,\n       743119.104834, 743124.104064, 743129.103294, 743134.102525,\n       743139.101755, 743144.100985, 743149.100215, 743154.099446,\n       743159.098676, 743164.097906, 743169.097136, 743174.096367])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-6b156556-9d00-4214-9efa-0e15640e8cea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6b156556-9d00-4214-9efa-0e15640e8cea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e4d6b37f-3cc8-4722-8840-42ad1b32487e' class='xr-var-data-in' type='checkbox'><label for='data-e4d6b37f-3cc8-4722-8840-42ad1b32487e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>NAD83</dd><dt><span>horizontal_datum_name :</span></dt><dd>North American Datum 1983</dd><dt><span>projected_crs_name :</span></dt><dd>NAD83 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>742976.6267719149 4.999230244949174 0.0 4322790.968126791 0.0 -4.9992302449611135</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6419b45c-9266-45ee-946d-ec1bee7536c4' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6419b45c-9266-45ee-946d-ec1bee7536c4' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Airborne thermal infrared imagery from University of Washington Applied Physics Lab Compact Airborne System for Imaging the Environment instrument. Imagery of Grand Mesa, Colorado from SnowEx 2020 field campaign.</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>long_name :</span></dt><dd>STCtemp</dd><dt><span>_FillValue :</span></dt><dd>nan</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"yKw7WNLdxi"}],"key":"XKQUEnzFU5"}],"key":"YOFqQ7JKNz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The result of clipping is again a DataArray, this time though it is 40x40. We can plot this to see what it looks like, and to see the distribution of temperatures in the area.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wMM5eTj9aW"}],"key":"dMLrxa8B8d"}],"key":"BwiYQ1Nlsk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)\n\n# plot the portion of the airborne TIR image we selected within the buffer area geometry\nairborne_ir_area_temperature.plot(cmap='magma', vmin=-7, vmax=-4, ax=ax[0], \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\nax[0].set_title('Airborne TIR image within\\n100 m radius buffer (2S10)\\n')\nax[0].set_aspect('equal')\nax[0].set_xlabel('Eastings UTM 12N (m)')\nax[0].set_ylabel('Northings UTM 12N (m)')\nax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point's \"total bounds\"\nax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point's \"total bounds\"\n\n# plot the location of the snow pit of interest to the plot\nsiteData_df.plot(ax=ax[0], color='c', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax[0], edgecolor='c', facecolor='none')\n\n# plot a histogram of image temperature data within the buffer area geometry\nairborne_ir_area_temperature.plot.hist(ax=ax[1],\n                                       color='k', \n                                       zorder=1, # use zorder to make sure this plots below the point\n                                       label='zonal $T_S$ histogram') \n\n# plot a vertical line for the single-pixel temperature we think is right at the snow pit\nax[1].axvline(airborne_ir_point_temperature, \n              color='c',linestyle='--',  # set color and style\n              zorder=2, # use zorder to make sure this plots on top of the histogram\n              label='$T_S$ single pixel') \n\n# plot a vertical line for the mean temperature within the buffer area geometry\nax[1].axvline(airborne_ir_area_temperature.mean(), \n              color='m',linestyle='--',  # set color and style\n              zorder=2, # use zorder to make sure this plots on top of the histogram\n              label='zonal mean $T_S$') \n\nax[1].legend(loc='upper left') # add a legend\nax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot\nax[1].set_ylim((0,400)) # set ylim\nax[1].set_title('Snow surface temperatures\\nfrom Airborne TIR image (snow pit 2S10)')\nax[1].set_ylabel('Number of pixels');","key":"nBe2vu8k1A"},{"type":"outputs","id":"fLZTVlLwCdIWZBtPf-EYQ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x500 with 3 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"05a6fb6c853a60e787bac3778152d4d8","path":"/snow-observations-cookbook/build/05a6fb6c853a60e787bac3778152d4d8.png"}}},"key":"FHzAShn8ax"}],"key":"tFEDwWEhei"}],"key":"zIaXdxwH8a"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What do these plots tell us about the surface temperature around the snow pit as measured by the airborne IR cameras?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q3A8Vph9Dt"}],"key":"myjRnGMZtv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Is the snow surface temperature more variable or uniform in this area?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AkAars6cyo"}],"key":"k4wzT0DHn3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Note that we changed the minimum and maximum values of our colorbar!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ng1wJkIL4W"}],"key":"lxkZ2VMrec"}],"key":"C6fwweh1no"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Try computing the standard deviation of temperatures in this area","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xTjWJr9Oyc"}],"key":"f2pWWVFJLB"}],"key":"neu1aOKArP"}],"key":"l17h3nYz2i"}],"key":"g6AULQZiSN"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How does our single pixel at the center compare with the rest of this area?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"bgBKyYx8LO"}],"key":"F17Ks5ukgY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Try taking the mean or median of all temperatures in the area and compare against the single point. What is the difference?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LonI68aiZc"}],"key":"ftbn9zDy1l"}],"key":"NsEQts4xTF"}],"key":"NYbQR9k8Am"}],"key":"BlErzLr5VV"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"See ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PFgDLCfbFO"},{"type":"cite","url":"https://doi.org/10.1016/j.rse.2018.03.001","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Lundquist et al., 2018","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PqDrxgF497"}],"kind":"narrative","label":"Lundquist_2018","identifier":"https://doi.org/10.1016/j.rse.2018.03.001","enumerator":"1","key":"HsyN6tM0zf"},{"type":"text","value":" for an application of these methods with airborne and MODIS thermal infrared imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ToXPrdG2zi"}],"key":"CLcdDfE27A"}],"key":"UCpUzZrv7n"}],"key":"JuyIqrydLt"}],"class":"dropdown","key":"hcgBwcaxk0"}],"key":"yZPRZGTl4J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the airborne IR temperature data on top of the ground-based timeseries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bU3Dd7BAsb"}],"key":"jvLkX39Jrx"}],"key":"naTIdKOqzC"}],"key":"uEAb6LrjOZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# plot the mean airborne IR temperature from the area around the snow pit:\nplt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n         marker='o', c='r', linestyle='none',\n         label='Airborne IR mean $T_s$ for 100 m radius area')\n\n# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit\nplt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], \n                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='r',\n            label='Airborne IR $T_s$ range for 100 m radius area')\n\n\n# set axes limits\nplt.ylim((-15,0))\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"B6VeUAPoyH"},{"type":"outputs","id":"-j98KPs-qlSUtCBN9QSkp","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3840/1336368688.py:7: UserWarning: This axis already has a converter set and is updating to a potentially incompatible converter\n  plt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n"},"key":"fDmXQ7LsLZ"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"8671a83c4d70133019a38a012d3cdf77","path":"/snow-observations-cookbook/build/8671a83c4d70133019a38a012d3cdf77.png"}}},"key":"PXdt663e4V"}],"key":"rRgaVuu3Ox"}],"key":"IRUwHSZUVl"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Continuing with this analysis:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XdLUugpskp"}],"key":"sH0eqINc7A"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the above plot we‚Äôve added ‚Äúerror bars‚Äù to represent the full range of temperatures within the 100 m radius area around the snow pit.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pd7mkZoJbt"}],"key":"xEHwcx3Awe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Is this a fair comparison?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xE3k2FA32J"}],"key":"sVSvvAIRXo"}],"key":"aBpoQPgyhx"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Should we make the area smaller based on our confidence in the image‚Äôs geolocation accuracy (10-15 m)?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"pgQOuOTudJ"}],"key":"yMMUNj6hym"}],"key":"lS0spaUwbx"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What is the difference between the ‚Äúground truth‚Äù data and the airborne IR data at this point in time?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"J0U0GyN5Go"}],"key":"xMQhBhW5FJ"}],"key":"k1R8XglOQE"}],"key":"ctW8JiSfA0"}],"class":"dropdown","key":"cuWiNdNLZd"}],"key":"nPK8PgWUeR"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TUSLowNsIx"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Part 2: Satellite IR remote sensing obsevations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sxtrAVgg8b"}],"identifier":"part-2-satellite-ir-remote-sensing-obsevations","label":"Part 2: Satellite IR remote sensing obsevations","html_id":"part-2-satellite-ir-remote-sensing-obsevations","implicit":true,"key":"AXDQ6j3Uzx"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Satellite IR imagery with ASTER","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LjI4sUrKee"}],"identifier":"satellite-ir-imagery-with-aster","label":"Satellite IR imagery with ASTER","html_id":"satellite-ir-imagery-with-aster","implicit":true,"key":"caA1rntgGH"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Advantages of satellite IR images:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"GBUAo6fmNs"}],"key":"d1iIpYhSfd"},{"type":"text","value":" We don‚Äôt always have airplanes with IR cameras flying around. Satellites can provide images at more regular intervals for long-term studies, and can see areas that are difficult to access on the ground or by air.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lQa6Uvz5wa"}],"key":"JqLyPBNIKa"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What might be some diadvantages of satellite IR imagery compared to airborne IR imagery?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cXFpnz7atF"}],"key":"wOj7Ef77dm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Lower spatial resolution because they‚Äôre further away from the Earth‚Äôs surface","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"h31GIT6GiB"}],"key":"RFNmBn7wVC"}],"key":"OZq4t8ClKE"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Mixed pixel problem: with lower image resolutions, each pixel contains a more heterogeneous mixtures of surfaces and temperatures, meaning that temperature information is more blurred together","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xWN1TV1INB"}],"key":"Gs58LnytYL"}],"key":"CKfHx59BcX"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What other disadvantages can you think of?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"qzMRWbwYOa"}],"key":"WgcMMG9Thx"}],"key":"X5M3S61VFD"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How might these differences (advantages or disadvantages) change the type of research questions you can investigate?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"LIIiUDOWIN"}],"key":"t6AEWGzbN8"}],"key":"XVSyJ8mnXu"}],"key":"zJyLzwY0cV"}],"class":"dropdown","key":"lEJEheEGzt"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For this tutorial, we will look at an image from NASA‚Äôs ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dr8gLnO9Tg"},{"type":"link","url":"https://asterweb.jpl.nasa.gov/","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Advanced Spaceborne Thermal Emission and Reflection Radiometer","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"s4UR17kcoo"}],"urlSource":"https://asterweb.jpl.nasa.gov/","key":"WRpVA67hHF"},{"type":"text","value":" (ASTER) imager, which is onboard the Terra satellite along with a MODIS imager. We can compare an ASTER IR image of Grand Mesa that was taken at roughly the same time as the airborne IR image. The ASTER image we will be working with is from ASTER‚Äôs ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"T3lIWv8k1w"},{"type":"link","url":"https://asterweb.jpl.nasa.gov/characteristics.asp","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"band 14","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"kUKyrZMJ99"}],"urlSource":"https://asterweb.jpl.nasa.gov/characteristics.asp","key":"QAIv2gfKs5"},{"type":"text","value":" which is sensitive to radiance in the 10.95-11.65 ¬µm wavelength range.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"bUwfUGGybR"}],"key":"IqSnlhYTHg"}],"key":"xztgmwsI9R"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load an ASTER geotiff that we‚Äôve downloaded for this tutorial, and inspect its contents.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XY5wZgsLg8"}],"key":"VNxDzmlzIy"}],"key":"BI3GPajWbT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir = rioxarray.open_rasterio(S3_BASE_URL + 'AST_L1T_00302082020180748_20200209065849_17218_ImageData14.tif')","key":"xOcCI3f567"},{"type":"outputs","id":"ab16TosoLm1zkuUpQm4xA","children":[],"key":"dWsd2n3Ohf"}],"key":"pEJZZ8V6zK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the ASTER file we just opened","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o9Ld46CmIc"}],"key":"v5b5KS7Y52"}],"key":"MX5WFM8R44"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir","key":"fbLfdGxoLV"},{"type":"outputs","id":"IU6ES6XPb4-a5ucTJ8LpJ","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":37,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 817, x: 927)> Size: 2MB\n[757359 values with dtype=uint16]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 7kB 4.357e+06 4.356e+06 ... 4.283e+06 4.283e+06\n  * x            (x) float64 7kB 6.998e+05 6.998e+05 ... 7.83e+05 7.831e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    AREA_OR_POINT:  Area\n    _FillValue:     0\n    scale_factor:   1.0\n    add_offset:     0.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 817, x: 927)&gt; Size: 2MB\n[757359 values with dtype=uint16]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 7kB 4.357e+06 4.356e+06 ... 4.283e+06 4.283e+06\n  * x            (x) float64 7kB 6.998e+05 6.998e+05 ... 7.83e+05 7.831e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    AREA_OR_POINT:  Area\n    _FillValue:     0\n    scale_factor:   1.0\n    add_offset:     0.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 817</li><li><span class='xr-has-index'>x</span>: 927</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-822031ad-44cf-487b-94be-e050fe58756b' class='xr-array-in' type='checkbox' checked><label for='section-822031ad-44cf-487b-94be-e050fe58756b' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>...</span></div><div class='xr-array-data'><pre>[757359 values with dtype=uint16]</pre></div></div></li><li class='xr-section-item'><input id='section-4e7a55e3-a240-492e-b2d5-45a5eaa3d404' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4e7a55e3-a240-492e-b2d5-45a5eaa3d404' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-d02f0642-8090-4d9f-a5a1-4fe8c9b962dc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d02f0642-8090-4d9f-a5a1-4fe8c9b962dc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-69fbc018-7466-46b3-ab0a-88a0db387537' class='xr-var-data-in' type='checkbox'><label for='data-69fbc018-7466-46b3-ab0a-88a0db387537' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.357e+06 4.356e+06 ... 4.283e+06</div><input id='attrs-ecea79b7-1c09-4d2e-ad08-836e6daba5f1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ecea79b7-1c09-4d2e-ad08-836e6daba5f1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-761e64c6-591a-43ab-8a6a-e9a48fe1d66f' class='xr-var-data-in' type='checkbox'><label for='data-761e64c6-591a-43ab-8a6a-e9a48fe1d66f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([4356540., 4356450., 4356360., ..., 4283280., 4283190., 4283100.],\n      shape=(817,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.998e+05 6.998e+05 ... 7.831e+05</div><input id='attrs-2b58c7cb-67d2-4a39-8eab-ce177a48c13c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2b58c7cb-67d2-4a39-8eab-ce177a48c13c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a2c1ce32-17c3-496e-b9fd-10f5ca65c539' class='xr-var-data-in' type='checkbox'><label for='data-a2c1ce32-17c3-496e-b9fd-10f5ca65c539' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([699750., 699840., 699930., ..., 782910., 783000., 783090.], shape=(927,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-dd1179be-5fa9-47dc-84b1-0195eb2b7a4a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-dd1179be-5fa9-47dc-84b1-0195eb2b7a4a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-76c5f536-1463-40dc-927f-30df96b5b1a5' class='xr-var-data-in' type='checkbox'><label for='data-76c5f536-1463-40dc-927f-30df96b5b1a5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 12N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32612&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314245179</dd><dt><span>inverse_flattening :</span></dt><dd>298.257223563</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>WGS 84</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>WGS 84</dd><dt><span>horizontal_datum_name :</span></dt><dd>World Geodetic System 1984</dd><dt><span>projected_crs_name :</span></dt><dd>WGS 84 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 12N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32612&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>699705.0 90.0 0.0 4356585.0 0.0 -90.0</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0d8cc9b9-032b-48cf-8418-20d7bb74f1b7' class='xr-section-summary-in' type='checkbox'  checked><label for='section-0d8cc9b9-032b-48cf-8418-20d7bb74f1b7' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>_FillValue :</span></dt><dd>0</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"Y5JOL43b8P"}],"key":"qr9DVnIGzN"}],"key":"NyrZHEfVb0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is its CRS?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QDrZDHFI46"}],"key":"MuvZWfkgvg"}],"key":"Rsc0sbkW5l"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir.rio.crs","key":"ucyDE8Q7EX"},{"type":"outputs","id":"oUOjIL1L1vCz94f38hJ3z","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":38,"metadata":{},"data":{"text/plain":{"content":"CRS.from_wkt('PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32612\"]]')","content_type":"text/plain"}}},"key":"mlDVofe4UI"}],"key":"QkK7875POJ"}],"key":"I9zmFDLrwA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Reproject this ASTER image into our common coordinate system\naster_ir = aster_ir.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"ojQRz8db06"},{"type":"outputs","id":"4hLhZM3u25iUajHkqaZ3W","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/AST_L1T_00302082020180748_20200209065849_17218_ImageData14.tif.msk: 403\nWarning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/AST_L1T_00302082020180748_20200209065849_17218_ImageData14.tif.MSK: 403\n"},"key":"Ae92APQ84b"}],"key":"PwQnGozeBN"}],"key":"xFFtB2hWdz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When was this image taken?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HBz25mV6gn"}],"key":"kAexCjdLIu"}],"key":"pSo5Uvk2B8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir_timestamp = pd.Timestamp(2020,2,8,18,7,48) - pd.Timedelta(hours=7)","key":"bB3CCt0BLm"},{"type":"outputs","id":"zh9hFtW54yuPEsiXUTYa3","children":[],"key":"zd7KfwFOod"}],"key":"nh1f3zdBnM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the image. What are the units of the values on the colorbar?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DQi9oWWNeo"}],"key":"xDw7fhPavb"}],"key":"DgsQTsArga"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir.plot()","key":"W9Xd0s5cK0"},{"type":"outputs","id":"2Pw8FWWYb0MFyM51t5xwo","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"5bce8ae0ab4359a319eb74241315e544","path":"/snow-observations-cookbook/build/5bce8ae0ab4359a319eb74241315e544.png"}}},"key":"rscuBAJzmi"}],"key":"ShNy4MsVoj"}],"key":"SxAfiCctpv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It‚Äôs necessary to read the product documentation to understand what we are looking at here.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iillvaYNwO"}],"key":"UIhGnvFNjB"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hES5lNp6lm"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ASTER Level 1 Precision Terrain Corrected Registered At-Sensor Radiance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yVEybopsfV"}],"key":"in9yc4hVk5"},{"type":"text","value":" (AST_L1T) product. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Rmo2LY5JMp"},{"type":"link","url":"https://lpdaac.usgs.gov/products/ast_l1tv003/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Product documentation is available here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Gd0Js4rF5C"}],"urlSource":"https://lpdaac.usgs.gov/products/ast_l1tv003/","key":"maFWvqepbx"},{"type":"text","value":". Also helpful is the ** (AST_L1B) ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bnBBrE5b3v"},{"type":"link","url":"https://lpdaac.usgs.gov/products/ast_l1bv003/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"product documentation here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YtRu2usfbD"}],"urlSource":"https://lpdaac.usgs.gov/products/ast_l1bv003/","key":"m9dgxIH9qu"},{"type":"text","value":" from which AST_L1T is derived.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hr5FUXitnD"}],"key":"IGj4gZdECc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The values here are stored as scaled ‚Äúdigital number‚Äù (DN) values rather than the actual radiance values. The product documentation also provides information about how to unscale these values back into radiance units, and from radiance to brightness temperature, using laboratory calibrated constants.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nvuT1qoFLd"}],"key":"Qu3a7QEl60"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"I‚Äôve written two functions here to do this unit conversion for the five ASTER TIR bands in two steps (DN to radiance, radiance to brightness temperature). The function takes as its arguments the DN or radiance values respectively, and the band number (in our case band number ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zgMm8wU4At"},{"type":"inlineCode","value":"14","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"wkqr2lsFQu"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rA9RWZ0Q4o"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"not the band wavelengths","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TgR2yViv86"}],"key":"KTiAEJVFMB"},{"type":"text","value":").","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"VDjVoJe6cH"}],"key":"IDIWQJlhSz"}],"key":"o5MHDHq1RH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def tir_dn2rad(DN, band):\n    '''Convert AST_L1T Digital Number values to At-Sensor Radiance for the TIR bands (bands 10-14).'''\n    ucc = [6.822e-3, 6.780e-3, 6.590e-3, 5.693e-3, 5.225e-3]\n    rad = (DN-1.) * ucc[band-10]\n    return rad\n\ndef tir_rad2tb(rad, band):\n    '''Convert AST_L1T At-Sensor Radiance to Brightness Temperature [K] for the TIR bands (bands 10-14).'''\n    k1 = [3047.47, 2480.93, 1930.80, 865.65, 649.60]\n    k2 = [1736.18, 1666.21, 1584.72,1349.82, 1274.49]\n    tb = k2[band-10] /  np.log((k1[band-10]/rad) + 1)\n    return tb","key":"NMlNbHezGl"},{"type":"outputs","id":"cV7_ioMBowLfIZLiZJpyt","children":[],"key":"E2sKPmqnhk"}],"key":"qRb4mZjOd1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use the above functions to convert from DN to radiance, radiance to brightness temperature (assume and emissivity of 1 for all surfaces, note that the airborne imagery also assumed emissivity of 1).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tny55BMZrz"}],"key":"clE7qSEsTr"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Then convert from degeees K to degrees C by subtracting 273.15.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wUzl2ETYcq"}],"key":"m2lxQaJtHD"}],"key":"RRgNoMEH42"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_band14_rad = tir_dn2rad( aster_ir, band=14 ) # convert from DN to radiance\naster_band14_tb_k = tir_rad2tb( aster_band14_rad, band=14 ) # convert from radiance to brightness temperature (K)\naster_band14_tb_c = aster_band14_tb_k - 273.15 # convert from K to C\n\n# Note that an \"invalid value encountered...\" warning may pop up here. This is because the above function tries to take the log of \"nan\" values that are outside the imaged area\n# we can ignore this warning and proceed","key":"BxG7q54saP"},{"type":"outputs","id":"CpJEicbWLVASTilDwi85E","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/snow-observations-cookbook-test/lib/python3.13/site-packages/xarray/computation/apply_ufunc.py:818: RuntimeWarning: invalid value encountered in log\n  result_data = func(*input_data)\n"},"key":"WwAsMezdmR"}],"key":"ubSVkLp245"}],"key":"L7UUwTLNK0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"During this unit conversion, xarray dropped the coordinate reference system attributes, so here we add the original crs to the new ASTER degrees celsius dataarray.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aAMTvk4Q4g"}],"key":"Y8wHGqZUFu"}],"key":"QqR8qZ9e7J"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_band14_tb_c.rio.set_crs(aster_ir.rio.crs, inplace=True);","key":"nidRm0gTHq"},{"type":"outputs","id":"p2Ji_00wDBTRBuzsZLJAt","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3840/3871339668.py:1: FutureWarning: It is recommended to use 'rio.write_crs()' instead. 'rio.set_crs()' will likelybe removed in a future release.\n  aster_band14_tb_c.rio.set_crs(aster_ir.rio.crs, inplace=True);\n"},"key":"DNRh7Gl3C3"}],"key":"uBHhrIBCSo"}],"key":"ASHdmYgH67"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot our image again, this time setting our colorscale and colorbar values. We should see ‚Äúrealistic‚Äù surface temperature values in degrees C now.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PJrkOkmFfh"}],"key":"RzcOyajh7j"}],"key":"WdssoFsCFN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(15,10))\nax.set_aspect('equal')\naster_band14_tb_c.plot(ax=ax,\n                       cmap='magma', \n                       vmin=-20, vmax=20, # note that we have a wider temperature range on our colorbar for this image, -20 to +20 C instead of -10 to +10 C\n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})","key":"ecFuq87Qyi"},{"type":"outputs","id":"rEyhhYTlcMYqIJ-oFVBUR","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"9b2170af45ee2f7e2f4e12d968871ce8","path":"/snow-observations-cookbook/build/9b2170af45ee2f7e2f4e12d968871ce8.png"}}},"key":"hunz34KywI"}],"key":"Aj79SUwaIT"}],"key":"YocNr7okY1"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VcfEfw2gwb"}],"key":"gqRAGTM5QA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vXoQkxReI7"}],"key":"n6HqeA8UFy"}],"key":"CnsZfxdQoR"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"R161mwLcOU"}],"key":"NAnHwnrsJu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What do you think that cold linear feature across the image is? (Hint: think about the cold object we saw in the airborne IR image)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OoRnBzVEIS"}],"key":"O1fkbpoYHp"}],"key":"OKEYG2NbdV"}],"key":"ZdD0qUnPuW"}],"key":"ukkuz7nkcV"}],"key":"ulBHjB0axr"}],"class":"hint","key":"TkAAgvMlnE"}],"key":"scsKj2Tb4C"},{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[],"key":"A4yITLMpN8"}],"key":"RmDAsFqdTh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot ASTER next to Airborne IR to see spatial resolution differences","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KZkpS0G6fj"}],"key":"S57WEf8Wt1"}],"key":"bVh4u5LWxC"}],"key":"d8mo5etwSC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(12,6), tight_layout=True)\n\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels and limits\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_xlim((735000, 760000))\n    ax.set_ylabel('Northings UTM 12N (m)')\n    ax.set_ylim((4320000, 4325000))","key":"sVA78xTzAP"},{"type":"outputs","id":"jvTeIyXOn6emJyX2YBF1V","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1200x600 with 4 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"fea2bdf8d47e4b2c6770ed89c16072f2","path":"/snow-observations-cookbook/build/fea2bdf8d47e4b2c6770ed89c16072f2.png"}}},"key":"rikOp30zOS"}],"key":"yvTKTRYFRB"}],"key":"FcfYN0Iis3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Make another plot to zoom in on snow pit 2S10:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uNVVUyO47s"}],"key":"dBr576erB2"}],"key":"yZSnZ4CYuZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(12,4), tight_layout=True)\n\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    # set the same axes limits as above\n    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\n    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"f0uSKUNcYt"},{"type":"outputs","id":"tRTxVTxZnevYsXALDrm0X","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1200x400 with 4 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"777f0e1e218342862bc55fe0eda5e048","path":"/snow-observations-cookbook/build/777f0e1e218342862bc55fe0eda5e048.png"}}},"key":"kBOvwtzOnB"}],"key":"eURUmxMLxu"}],"key":"dF6Uhr4DSq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get the temperature of the ASTER pixel at the snow pit point using rioxarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JKPehXJdnx"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"clip","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGThnblB2F"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","key":"X45X1VNo54"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vBwPL74g2W"}],"key":"wpvhcXImUO"}],"key":"btjtBQtRhp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# First clip to the single point\naster_band14_tb_c_point_temperature = aster_band14_tb_c.rio.clip(siteData_df.geometry)\n\n# Second clip to the 100 m radius buffered area\naster_band14_tb_c_area_temperature = aster_band14_tb_c.rio.clip(siteData_df_buffer.geometry)\n\n# preview the result\naster_band14_tb_c_area_temperature","key":"sryl962oNl"},{"type":"outputs","id":"VoZu2NFPWpHknf439qr30","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":48,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 2, x: 2)> Size: 32B\narray([[[-6.08382303, -6.1361369 ],\n        [-6.0315384 , -6.24085249]]])\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 16B 4.323e+06 4.323e+06\n  * x            (x) float64 16B 7.43e+05 7.431e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    _FillValue:     0.0","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 2, x: 2)&gt; Size: 32B\narray([[[-6.08382303, -6.1361369 ],\n        [-6.0315384 , -6.24085249]]])\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 16B 4.323e+06 4.323e+06\n  * x            (x) float64 16B 7.43e+05 7.431e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    _FillValue:     0.0</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 2</li><li><span class='xr-has-index'>x</span>: 2</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-51900880-6058-4c5e-b031-5ed3f30eb87f' class='xr-array-in' type='checkbox' checked><label for='section-51900880-6058-4c5e-b031-5ed3f30eb87f' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>-6.084 -6.136 -6.032 -6.241</span></div><div class='xr-array-data'><pre>array([[[-6.08382303, -6.1361369 ],\n        [-6.0315384 , -6.24085249]]])</pre></div></div></li><li class='xr-section-item'><input id='section-34c9f607-70ef-4d99-82ec-6ee0a3f37e9d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-34c9f607-70ef-4d99-82ec-6ee0a3f37e9d' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-b4a5051e-d900-4a7c-9e27-7bec70413214' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b4a5051e-d900-4a7c-9e27-7bec70413214' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b256a74d-ae63-4393-83d7-12a996e47a59' class='xr-var-data-in' type='checkbox'><label for='data-b256a74d-ae63-4393-83d7-12a996e47a59' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.323e+06 4.323e+06</div><input id='attrs-0f083c36-e36f-488f-9de4-d2a584902dac' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0f083c36-e36f-488f-9de4-d2a584902dac' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-626a11ed-9d85-4eb7-812c-45093ba2906e' class='xr-var-data-in' type='checkbox'><label for='data-626a11ed-9d85-4eb7-812c-45093ba2906e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>Y</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([4322699.894656, 4322609.894627])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.43e+05 7.431e+05</div><input id='attrs-6714dc0b-da14-4ad7-a6a9-a6b3bb077cfb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6714dc0b-da14-4ad7-a6a9-a6b3bb077cfb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cbf6aac8-e0de-4d1e-8801-64e34ece64a8' class='xr-var-data-in' type='checkbox'><label for='data-cbf6aac8-e0de-4d1e-8801-64e34ece64a8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>X</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([743040.138147, 743130.138176])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-f2b1fee1-a0af-4b0d-9a33-e70ab240620d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f2b1fee1-a0af-4b0d-9a33-e70ab240620d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7c419af3-91c9-4bc8-bfe8-083ecd7bffaa' class='xr-var-data-in' type='checkbox'><label for='data-7c419af3-91c9-4bc8-bfe8-083ecd7bffaa' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>NAD83</dd><dt><span>horizontal_datum_name :</span></dt><dd>North American Datum 1983</dd><dt><span>projected_crs_name :</span></dt><dd>NAD83 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>742995.1381323172 90.00002922664862 0.0 4322744.894670639 0.0 -90.00002922583371</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-aa02760d-567e-4393-a3db-7d0985aec1b4' class='xr-section-summary-in' type='checkbox'  checked><label for='section-aa02760d-567e-4393-a3db-7d0985aec1b4' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>_FillValue :</span></dt><dd>0.0</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"krQzwJmOEG"}],"key":"bOovuyacaV"}],"key":"Cf84g58oHF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How many ASTER pixels in the area did we select?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TJPEB5hVHO"}],"key":"keyXWyZC5R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the clipped area:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"diT21dyubP"}],"key":"JbxlEcW28f"}],"key":"OFQVkIijX4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)\n\n# plot the portion of the airborne TIR image we selected within the buffer area geometry\naster_band14_tb_c_area_temperature.plot(cmap='magma', vmin=-7, vmax=-4, ax=ax[0], \n                 cbar_kwargs={'label': 'Temperature $\\degree C$'})\nax[0].set_title('ASTER TIR image within\\n100 m radius buffer (2S10)\\n')\nax[0].set_aspect('equal')\nax[0].set_xlabel('Eastings UTM 12N (m)')\nax[0].set_ylabel('Northings UTM 12N (m)')\nax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point's \"total bounds\"\nax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point's \"total bounds\"\n\n# plot the location of the snow pit of interest to the plot\nsiteData_df.plot(ax=ax[0], color='r', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax[0], edgecolor='r', facecolor='none')\n\n# plot a histogram of image temperature data within the buffer area geometry\naster_band14_tb_c_area_temperature.plot.hist(ax=ax[1], color='k');\nax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot\nax[1].set_title('Histogram of temperatures from ASTER TIR image\\n100 m radius buffer (2S10)')\nax[1].set_ylabel('Number of pixels');","key":"lVZQnecaFo"},{"type":"outputs","id":"JzsgmfAkbno2L_Da37yb9","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"<>:5: SyntaxWarning: invalid escape sequence '\\d'\n<>:5: SyntaxWarning: invalid escape sequence '\\d'\n/tmp/ipykernel_3840/3974720511.py:5: SyntaxWarning: invalid escape sequence '\\d'\n  cbar_kwargs={'label': 'Temperature $\\degree C$'})\n"},"key":"gCNEqBpzo3"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x500 with 3 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"15622abb3f15c026d3607f1bfbd055ee","path":"/snow-observations-cookbook/build/15622abb3f15c026d3607f1bfbd055ee.png"}}},"key":"CnJggregMs"}],"key":"wnznO2Rgg7"}],"key":"bXicXyX2b8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ASTER IR temperature data on top of the ground-based timeseries and airborne IR temperature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C3jinPQCKS"}],"key":"nxS6VJx8IF"}],"key":"gCmrGyCWdR"}],"key":"A8sbpAnLgq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# plot the mean airborne IR temperature from the area around the snow pit:\nplt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n         marker='o', c='r', linestyle='none',\n         label='Airborne IR mean $T_s$ for 100 m radius area')\n# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit\nplt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], \n                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='r',\n            )#label='Airborne IR $T_s$ range for 100 m radius area')\n\n# plot the mean ASTER IR temperature from the area around the snow pit:\nplt.plot(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),\n         marker='o', c='b', linestyle='none',\n        label='ASTER IR mean $T_s$ for 100 m radius area')\n# plot an error bar showing the maximum and minimum ASTER IR temperature around the snow pit\nplt.errorbar(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),\n             yerr=[[aster_band14_tb_c_area_temperature.mean()-aster_band14_tb_c_area_temperature.min()], \n                   [aster_band14_tb_c_area_temperature.max()-aster_band14_tb_c_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='b',\n            )#label='ASTER IR $T_s$ range for 100 m radius area')\n\n\n# set axes limits\nplt.ylim((-15,0))\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel('Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"oabIw1LcjU"},{"type":"outputs","id":"207_0GtoPznqYanMPmbqS","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"<>:37: SyntaxWarning: invalid escape sequence '\\d'\n<>:37: SyntaxWarning: invalid escape sequence '\\d'\n/tmp/ipykernel_3840/4068806060.py:37: SyntaxWarning: invalid escape sequence '\\d'\n  plt.ylabel('Temperature [$C\\degree$]')\n/tmp/ipykernel_3840/4068806060.py:7: UserWarning: This axis already has a converter set and is updating to a potentially incompatible converter\n  plt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n"},"key":"u5M8ASvdti"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1000x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"255a74eb29d48d82ae3b6e2f9e9f7d49","path":"/snow-observations-cookbook/build/255a74eb29d48d82ae3b6e2f9e9f7d49.png"}}},"key":"zocbEW3uQG"}],"key":"wgB83DOl9A"}],"key":"qcrISW43tS"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SNEhl4GYaz"},{"type":"heading","depth":4,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Bonus activity: comparing two thermal IR rasters","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vEklBsSiyb"}],"identifier":"bonus-activity-comparing-two-thermal-ir-rasters","label":"Bonus activity: comparing two thermal IR rasters","html_id":"bonus-activity-comparing-two-thermal-ir-rasters","implicit":true,"key":"luihYogVOO"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"How does the finer spatial resolution airborne IR image compare with the coarser resolution ASTER IR image?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"lj4CwDjpIb"}],"key":"WDtDPLzPf8"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"One way to compare these two images is to ‚Äúupscale‚Äù the finer resolution airborne IR image to the same spatial resolution as ASTER.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hQ3u1jQqPa"}],"key":"MDo7Q72mzp"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We can use the rioxarray ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"q2HLxegtuw"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject_match","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"reproject_match","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"UoCxjtcUeI"}],"urlSource":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject_match","key":"NDxR7Jcdjs"},{"type":"text","value":" function to do this. (","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lrqYY7WI15"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"also see this example","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cXayGNkY6h"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","key":"XrWt3EkhkA"},{"type":"text","value":")","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tuzfXtGakn"}],"key":"KmybpnLJvi"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Note that this function has ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"IjecO5oYqv"},{"type":"link","url":"https://rasterio.readthedocs.io/en/stable/api/rasterio.enums.html#rasterio.enums.Resampling","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"multiple options","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HIZYrSUtBk"}],"urlSource":"https://rasterio.readthedocs.io/en/stable/api/rasterio.enums.html#rasterio.enums.Resampling","key":"sYWPEUywNb"},{"type":"text","value":" for how we want to resample the image data to the new spatial resolution. We will use ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ilRSY9rS6D"},{"type":"inlineCode","value":"resampling=5","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HlV0DYnrlr"},{"type":"text","value":" which corresponds to taking the mean value.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"iF54BOVlQ5"}],"key":"KMYrkJ1eEe"}],"key":"cb9cceDFOW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir_repr = airborne_ir.rio.reproject_match(aster_ir, resampling=5)","key":"EN0N4SJ9BQ"},{"type":"outputs","id":"dTh0KhU78EDhYbtRNNFUt","children":[],"key":"zyfJPVxMbk"}],"key":"R6YAtGzaDr"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Preview the result.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xBx5JOFFJU"}],"key":"N83e7gr1op"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What are the image dimensions of the reprojected airborne IR image compared with the original?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"owX2tKZg9x"}],"key":"rd8nhQqWmi"}],"key":"GioqYLc7s5"}],"key":"PkAIm5i0x6"}],"key":"ohNsKQvAc6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir_repr","key":"jWAG8iVUEl"},{"type":"outputs","id":"KMCWbZBF3EnTXW9xPWFz3","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":52,"metadata":{},"data":{"text/plain":{"content":"<xarray.DataArray (band: 1, y: 817, x: 927)> Size: 3MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 817, 927), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 7kB 4.357e+06 4.356e+06 ... 4.283e+06 4.283e+06\n  * x            (x) float64 7kB 6.998e+05 6.998e+05 ... 7.83e+05 7.831e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray (band: 1, y: 817, x: 927)&gt; Size: 3MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 817, 927), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 7kB 4.357e+06 4.356e+06 ... 4.283e+06 4.283e+06\n  * x            (x) float64 7kB 6.998e+05 6.998e+05 ... 7.83e+05 7.831e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\n    _FillValue:     nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-obj-name'></div><ul class='xr-dim-list'><li><span class='xr-has-index'>band</span>: 1</li><li><span class='xr-has-index'>y</span>: 817</li><li><span class='xr-has-index'>x</span>: 927</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-5e9997d5-ada4-4c53-9e32-3ecbdd8f9cac' class='xr-array-in' type='checkbox' checked><label for='section-5e9997d5-ada4-4c53-9e32-3ecbdd8f9cac' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 817, 927), dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-84d71f04-25f4-4e31-9155-6ab71b57c63e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-84d71f04-25f4-4e31-9155-6ab71b57c63e' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>band</span></div><div class='xr-var-dims'>(band)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1</div><input id='attrs-7026f033-8db4-45b7-b458-feed49262d2f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7026f033-8db4-45b7-b458-feed49262d2f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a4ee6917-6794-4b96-9997-223d3b6d60f0' class='xr-var-data-in' type='checkbox'><label for='data-a4ee6917-6794-4b96-9997-223d3b6d60f0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.357e+06 4.356e+06 ... 4.283e+06</div><input id='attrs-642aeb4b-f329-4172-a62d-6d9c22f92fdd' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-642aeb4b-f329-4172-a62d-6d9c22f92fdd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a7f1c4f-6708-4a29-b79b-ecc4140256c6' class='xr-var-data-in' type='checkbox'><label for='data-8a7f1c4f-6708-4a29-b79b-ecc4140256c6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>Y</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([4356539.905645, 4356449.905616, 4356359.905587, ..., 4283279.881855,\n       4283189.881826, 4283099.881796], shape=(817,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.998e+05 6.998e+05 ... 7.831e+05</div><input id='attrs-31b4d20e-b7f2-4461-85ba-f9c1e11f4d9e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-31b4d20e-b7f2-4461-85ba-f9c1e11f4d9e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8230c574-107e-4c91-b60e-ce735d8ca77d' class='xr-var-data-in' type='checkbox'><label for='data-8230c574-107e-4c91-b60e-ce735d8ca77d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>X</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>units :</span></dt><dd>metre</dd></dl></div><div class='xr-var-data'><pre>array([699750.124089, 699840.124118, 699930.124147, ..., 782910.151094,\n       783000.151124, 783090.151153], shape=(927,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>spatial_ref</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0</div><input id='attrs-415620ab-cbb7-4c2e-808f-491b06e9e8cb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-415620ab-cbb7-4c2e-808f-491b06e9e8cb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-563676d6-2e58-4bac-bebe-bc8c85f1b46a' class='xr-var-data-in' type='checkbox'><label for='data-563676d6-2e58-4bac-bebe-bc8c85f1b46a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>semi_major_axis :</span></dt><dd>6378137.0</dd><dt><span>semi_minor_axis :</span></dt><dd>6356752.314140356</dd><dt><span>inverse_flattening :</span></dt><dd>298.257222101</dd><dt><span>reference_ellipsoid_name :</span></dt><dd>GRS 1980</dd><dt><span>longitude_of_prime_meridian :</span></dt><dd>0.0</dd><dt><span>prime_meridian_name :</span></dt><dd>Greenwich</dd><dt><span>geographic_crs_name :</span></dt><dd>NAD83</dd><dt><span>horizontal_datum_name :</span></dt><dd>North American Datum 1983</dd><dt><span>projected_crs_name :</span></dt><dd>NAD83 / UTM zone 12N</dd><dt><span>grid_mapping_name :</span></dt><dd>transverse_mercator</dd><dt><span>latitude_of_projection_origin :</span></dt><dd>0.0</dd><dt><span>longitude_of_central_meridian :</span></dt><dd>-111.0</dd><dt><span>false_easting :</span></dt><dd>500000.0</dd><dt><span>false_northing :</span></dt><dd>0.0</dd><dt><span>scale_factor_at_central_meridian :</span></dt><dd>0.9996</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]</dd><dt><span>GeoTransform :</span></dt><dd>699705.124074325 90.00002922659544 0.0 4356584.90565984 0.0 -90.00002922659498</dd></dl></div><div class='xr-var-data'><pre>array(0)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2206a96e-74c9-4cb5-b5c1-51cffdf5a8ca' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2206a96e-74c9-4cb5-b5c1-51cffdf5a8ca' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Airborne thermal infrared imagery from University of Washington Applied Physics Lab Compact Airborne System for Imaging the Environment instrument. Imagery of Grand Mesa, Colorado from SnowEx 2020 field campaign.</dd><dt><span>AREA_OR_POINT :</span></dt><dd>Area</dd><dt><span>scale_factor :</span></dt><dd>1.0</dd><dt><span>add_offset :</span></dt><dd>0.0</dd><dt><span>long_name :</span></dt><dd>STCtemp</dd><dt><span>_FillValue :</span></dt><dd>nan</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"qL7aUjKpnZ"}],"key":"ISV49hcGKw"}],"key":"mMsLszcQw7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ASTER image, original airborne IR image, and resampled airborne IR image next to each other to visualize these spatial resolution differences.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dXUhtzAYnp"}],"key":"I4ivIC1HCL"}],"key":"WIynS77fXF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15,4), tight_layout=True)\n\n# ASTER IR image\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n# Original airborne IR image\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# Resampled airborne IR image\nairborne_ir_repr.plot(ax=axs[2], \n                      cmap='magma', \n                      vmin=-10, vmax=10, \n                      cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[2].set_title('Airborne IR resampled (mean)\\nto ASTER resolution (90m)')\naxs[2].set_aspect('equal')\n\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    # set the same axes limits as above\n    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\n    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"OA7ukKkGCd"},{"type":"outputs","id":"lPSRjNCuUtDKGJpg7BmvP","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x400 with 6 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"fe5e0e6ce20502b85f149b41d847439a","path":"/snow-observations-cookbook/build/fe5e0e6ce20502b85f149b41d847439a.png"}}},"key":"EnTzZGsEcs"}],"key":"xUFzXpXx5k"}],"key":"U3414sx8ul"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, compute the difference between the ASTER IR image and resampled airborne IR image, then plot the result:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lzjq8qUPE6"}],"key":"wdRrQQPHDD"}],"key":"UukyHvar1e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Subtract reprojected airborne IR image from ASTER IR image\ndifference_image = aster_band14_tb_c - airborne_ir_repr","key":"kKQX6PM6sB"},{"type":"outputs","id":"n4bGfd3BqW9lmD3OdMw2R","children":[],"key":"qBITBAQ9lI"}],"key":"tvvfMSYQmC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(6,5), tight_layout=True)\n\n# Difference image\ndifference_image.plot(ax=ax, \n                       cmap='RdBu_r', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': 'Temperature $\\degree C$'})\nax.set_title('Temperature Difference\\n(ASTER IR - Reprojected Airborne IR)\\n')\nax.set_aspect('equal')\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n# set the same axes limits as above\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)); # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"E5Lix4kaD3"},{"type":"outputs","id":"dVbxLEdhB2l2fMQD-7ar0","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"<>:7: SyntaxWarning: invalid escape sequence '\\d'\n<>:7: SyntaxWarning: invalid escape sequence '\\d'\n/tmp/ipykernel_3840/1907299178.py:7: SyntaxWarning: invalid escape sequence '\\d'\n  cbar_kwargs={'label': 'Temperature $\\degree C$'})\n"},"key":"g1DuMiSHvK"},{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 600x500 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"d023b976cc4f547b76a344093c0e74f2","path":"/snow-observations-cookbook/build/d023b976cc4f547b76a344093c0e74f2.png"}}},"key":"zgOQozidFh"}],"key":"d1kK3z8iZo"}],"key":"asEcZi6LW2"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ndmQU6AB5R"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Next steps:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"WzeOTtG6Qm"}],"identifier":"next-steps","label":"Next steps:","html_id":"next-steps","implicit":true,"key":"y0MXSPQWzi"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Project ideas with these data:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gAXuXLSdUT"}],"identifier":"project-ideas-with-these-data","label":"Project ideas with these data:","html_id":"project-ideas-with-these-data","implicit":true,"key":"Gyupq6aJ7X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare more snow pit temperature data (using snowexsql queries) against airborne and satellite IR imagery","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XIHrq0CvC9"}],"key":"OLjBSDoQKn"}],"key":"rWSHkS1Vf9"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Investigate spatial patterns of snow temperature from open areas to forested areas on the mesa, differences between ASTER and airborne IR imagery","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Pfg8m3nxyz"}],"key":"ex00saOAmp"}],"key":"xMKNmYMCzO"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Improved data visualization using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"n6NeWqPsTF"},{"type":"link","url":"https://hvplot.holoviz.org/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"hvplot","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"nj1bCzFbUG"}],"urlSource":"https://hvplot.holoviz.org/","key":"LQ7OOGfNo6"},{"type":"text","value":" or something similar to create interactive plots of IR and/or visible imagery","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Yu1jGOJEs5"}],"key":"P1aSRMqZGV"}],"key":"JFZsBn1vr2"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare thermal infrared and SAR imagery, or snow temperature observations and snow model outputs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kXMkMlMyx5"}],"key":"ZbdyMAU39Q"}],"key":"eVH173fW8Y"}],"key":"C4dxjN7J0D"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"HMxOkku6fx"}],"key":"MVEIzH4cIO"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Contact Steven Pestana during the hackweek for help accessing more airborne IR or visible imagery and related datasets","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"yrcxunk6eg"}],"key":"J50q2AvbbR"}],"key":"z3mcxZWL2s"}],"key":"TUm1Y17150"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Data access/download and pre-processing","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"byKAm44xEC"}],"identifier":"data-access-download-and-pre-processing","label":"Data access/download and pre-processing","html_id":"data-access-download-and-pre-processing","implicit":true,"key":"gjB2Y3KEdt"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"See the jupyter notebook ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"hSkYuuwpSc"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"thermal‚Äã-ir‚Äã-data‚Äã-download‚Äã.ipynb","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"GmJ9GNXP1O"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"qWyFEjjPck"},{"type":"text","value":" for more details about data access methods through the NASA EarthData API, and pre-processing ASTER data into geotiff images.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"ewPYrWrRJo"}],"key":"ClImpStcpK"},{"type":"heading","depth":3,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Additional learning resources:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"YCgCiYsfqe"}],"identifier":"additional-learning-resources","label":"Additional learning resources:","html_id":"additional-learning-resources","implicit":true,"key":"q6caevegny"},{"type":"admonition","kind":"seealso","children":[{"type":"admonitionTitle","children":[{"type":"link","url":"https://numpy.org","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"NumPy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"fMdRPqh6rL"}],"urlSource":"https://numpy.org","key":"DThG4Ic1f8"},{"type":"text","value":" learning resources:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"Je9PBWiP7z"}],"key":"pDvVSap5Hn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_0.ipynb","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"NumPy and the ndarray","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"NGFYvsNbqC"}],"urlSource":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_0.ipynb","data":{"kind":"file","org":"waterhackweek","repo":"waterdata","reference":"master","file":"gridded_data_tutorial_0.ipynb","raw":"https://raw.githubusercontent.com/waterhackweek/waterdata/master/gridded_data_tutorial_0.ipynb"},"internal":false,"protocol":"github","key":"StU5tPh9O0"}],"key":"Kd5eVya7mw"}],"key":"O0UMQxhXCo"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://numpy.org/devdocs/user/absolute_beginners.html","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"NumPy: the absolute basics for beginners","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"PI3BP622kB"}],"urlSource":"https://numpy.org/devdocs/user/absolute_beginners.html","key":"j7NmhJPhP0"}],"key":"Kl25JXREwV"}],"key":"Kq0axlLklv"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scipy-lectures.org/intro/numpy/index.html","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"NumPy: creating and manipulating numerical data","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"prAEXrGBtI"}],"urlSource":"https://scipy-lectures.org/intro/numpy/index.html","key":"SSrRYHToEn"}],"key":"skgbP4xOGw"}],"key":"j2GnYSv9MX"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scipy-lectures.org/advanced/advanced_numpy/index.html","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Advanced NumPy","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"bqdQaYAcOK"}],"urlSource":"https://scipy-lectures.org/advanced/advanced_numpy/index.html","key":"KziiwlrIba"}],"key":"RQrYkhI5rF"}],"key":"cGpzGi3869"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"NumPy for MATLAB users","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"NSAoG0YLe8"}],"urlSource":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","key":"fOXeieg88f"}],"key":"FDt1XEpD5o"}],"key":"plmN9F7ThC"}],"key":"Eb22tLmgCZ"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"link","url":"https://xarray.pydata.org/en/stable/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"cS7vKdhMob"}],"urlSource":"https://xarray.pydata.org/en/stable/","key":"PnX8vmd5x7"},{"type":"text","value":" and ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"GkP1ZGwKF2"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"rioxarray","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"SBE1PeQtuO"}],"urlSource":"https://corteva.github.io/rioxarray/stable/","key":"eETp1MYUR7"},{"type":"text","value":" learning resources:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"yfrRPqJf38"}],"key":"scQtqagQML"}],"key":"xbkSCtoZwO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_1.ipynb","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Introduction to xarray","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"WvlIdgEMiu"}],"urlSource":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_1.ipynb","data":{"kind":"file","org":"waterhackweek","repo":"waterdata","reference":"master","file":"gridded_data_tutorial_1.ipynb","raw":"https://raw.githubusercontent.com/waterhackweek/waterdata/master/gridded_data_tutorial_1.ipynb"},"internal":false,"protocol":"github","key":"FrVyA7tYfq"}],"key":"Q3RT4SxUPh"}],"key":"oKff8i9pzM"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/geohackweek/raster-2019","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"GeoHackWeek 2019 raster tools","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"gUscZRQ5EV"}],"urlSource":"https://github.com/geohackweek/raster-2019","error":true,"key":"NqQ24x22ck"}],"key":"aGuDVwStzZ"}],"key":"N23L6B1eaq"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://rasterio.readthedocs.io/en/latest/","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"rasterio","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"p71fDjTzIX"}],"urlSource":"https://rasterio.readthedocs.io/en/latest/","key":"V1kODNTtgN"}],"key":"KzvdyRqEMQ"}],"key":"RYIWAVsUPC"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scitools.org.uk/cartopy/docs/latest/","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"cartopy","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"XSAAxHQLRh"}],"urlSource":"https://scitools.org.uk/cartopy/docs/latest/","key":"Kud3l9nt11"}],"key":"m2poRnPEge"}],"key":"cpJdE9213V"}],"key":"cofYL7pPHh"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"strong","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"link","url":"https://asterweb.jpl.nasa.gov/","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"ASTER","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"Gb2HGEvJGZ"}],"urlSource":"https://asterweb.jpl.nasa.gov/","key":"NE3xXQYgyl"},{"type":"text","value":" resources:","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"GNQqFVQQ5X"}],"key":"eHGqMilbNZ"}],"key":"q7N3a9AsTO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://git.earthdata.nasa.gov/projects/LPDUR/repos/aster-l1t/browse","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"ASTER L1T Scripts and Tutorials","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"Lp6Wf5HFCt"}],"urlSource":"https://git.earthdata.nasa.gov/projects/LPDUR/repos/aster-l1t/browse","key":"lMntOcDr94"}],"key":"HHxDNgAtb5"}],"key":"yxQj38CHms"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/UW-GDA/aster-thermal/","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Validating ASTER Thermal Infrared Imaging for use in Snow Models","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"Uz3GvcWYaV"}],"urlSource":"https://github.com/UW-GDA/aster-thermal/","error":true,"key":"iMFUtcGBIo"}],"key":"e9kGAWpSpf"}],"key":"b5mMeBoYhX"}],"key":"DwcywcuitL"}],"key":"ikmgzGMnPz"}],"key":"gEZeMNOgWg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open an airborne TIR mosaic NetCDF file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tKtw0wOpSb"}],"key":"U2t3jpeUXd"}],"key":"sJ22hp3R6t"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Open airborne TIR mosaic NetCDF file\nwith fsspec.open(S3_BASE_URL + 'SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_APLUW.nc') as f:\n    ds = xr.open_dataset(f, decode_times=False)\n    ds = ds.load()","key":"UfAIBQbB3h"},{"type":"outputs","id":"gVFgeRJ-OnY-XHP52lrTW","children":[],"key":"IJRz4tIz4g"}],"key":"WPjz5arAXg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the dataset and its dimensions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Su9pB2y7MN"}],"key":"f6MQVSg0cb"}],"key":"vGtrWZZaJS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Preview the dataset\nds","key":"XxlCFg4Yga"},{"type":"outputs","id":"7LU5RzW129sqXmL7ip5f2","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":57,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 1GB\nDimensions:    (pass: 17, easting, x: 4171, northing, y: 3581, na: 1)\nDimensions without coordinates: pass, easting, x, northing, y, na\nData variables:\n    STBmosaic  (pass, easting, x, northing, y) float32 1GB nan nan ... nan nan\n    DEM        (easting, x, northing, y) float32 60MB 1.935e+03 ... 2.913e+03\n    E_UTM      (easting, x, na) float64 33kB 2.182e+05 2.182e+05 ... 2.39e+05\n    N_UTM      (na, northing, y) float64 29kB 4.314e+06 4.314e+06 ... 4.332e+06\n    time       (pass, na) float64 136B 1.581e+09 1.581e+09 ... 1.581e+09\nAttributes:\n    processed date:  19-Aug-2020 18:54:53","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"üìÅ\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"‚ñ∫\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"‚ñº\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 1GB\nDimensions:    (pass: 17, easting, x: 4171, northing, y: 3581, na: 1)\nDimensions without coordinates: pass, easting, x, northing, y, na\nData variables:\n    STBmosaic  (pass, easting, x, northing, y) float32 1GB nan nan ... nan nan\n    DEM        (easting, x, northing, y) float32 60MB 1.935e+03 ... 2.913e+03\n    E_UTM      (easting, x, na) float64 33kB 2.182e+05 2.182e+05 ... 2.39e+05\n    N_UTM      (na, northing, y) float64 29kB 4.314e+06 4.314e+06 ... 4.332e+06\n    time       (pass, na) float64 136B 1.581e+09 1.581e+09 ... 1.581e+09\nAttributes:\n    processed date:  19-Aug-2020 18:54:53</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-971a977d-dd9e-4878-b38c-edbf09df4abf' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-971a977d-dd9e-4878-b38c-edbf09df4abf' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span>pass</span>: 17</li><li><span>easting, x</span>: 4171</li><li><span>northing, y</span>: 3581</li><li><span>na</span>: 1</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-eb8a4a04-9d42-4c21-8203-f64ce9dee85b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-eb8a4a04-9d42-4c21-8203-f64ce9dee85b' class='xr-section-summary' >Data variables: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>STBmosaic</span></div><div class='xr-var-dims'>(pass, easting, x, northing, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-fd4a0c34-a8f0-490c-92a1-7ea2d3c07c39' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fd4a0c34-a8f0-490c-92a1-7ea2d3c07c39' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6a59bb3d-80ab-4eda-a4a0-77707539741b' class='xr-var-data-in' type='checkbox'><label for='data-6a59bb3d-80ab-4eda-a4a0-77707539741b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>Celsius</dd><dt><span>description :</span></dt><dd>land and snow surface brightness temperature - no emissivity correction</dd></dl></div><div class='xr-var-data'><pre>array([[[      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        ...,\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan]],\n\n       [[      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n...\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan]],\n\n       [[      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        ...,\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan],\n        [      nan,       nan,       nan, ...,       nan,       nan,\n               nan]]], shape=(17, 4171, 3581), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>DEM</span></div><div class='xr-var-dims'>(easting, x, northing, y)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>1.935e+03 1.936e+03 ... 2.913e+03</div><input id='attrs-9a172897-7982-48a6-abcc-93d8a3f56a8e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9a172897-7982-48a6-abcc-93d8a3f56a8e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-75d94b6e-0548-45b2-9585-fb7c1c8026ed' class='xr-var-data-in' type='checkbox'><label for='data-75d94b6e-0548-45b2-9585-fb7c1c8026ed' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>digital elevation map used for georectification</dd><dt><span>source :</span></dt><dd>https://www.usgs.gov/centers/eros/science/usgs-eros-archive-digital-elevation-shuttle-radar-topography-mission-srtm-1-arc?qt-science_center_objects=0#qt-science_center_objects</dd><dt><span>horizontal datum :</span></dt><dd>WGS84</dd><dt><span>vertical datum :</span></dt><dd>EGM96</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>original resolution :</span></dt><dd>30 m / 1 arc-second</dd></dl></div><div class='xr-var-data'><pre>array([[1935.4832, 1936.0806, 1936.6781, ..., 2284.6523, 2282.4795,\n        2280.3066],\n       [1937.1373, 1937.8013, 1938.4651, ..., 2283.467 , 2281.4966,\n        2279.526 ],\n       [1938.7915, 1939.5217, 1940.252 , ..., 2282.2817, 2280.5137,\n        2278.7454],\n       ...,\n       [2073.4038, 2073.5137, 2073.6238, ..., 2910.9653, 2911.0288,\n        2911.092 ],\n       [2072.8281, 2072.9624, 2073.0964, ..., 2911.671 , 2911.7969,\n        2911.9229],\n       [2072.2522, 2072.4106, 2072.569 , ..., 2912.3767, 2912.5654,\n        2912.754 ]], shape=(4171, 3581), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>E_UTM</span></div><div class='xr-var-dims'>(easting, x, na)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.182e+05 2.182e+05 ... 2.39e+05</div><input id='attrs-6fd006b2-5a7e-4120-b5a0-7ceebf9b6833' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6fd006b2-5a7e-4120-b5a0-7ceebf9b6833' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-70f79a8a-a4ae-43ac-880a-4bcb08545a02' class='xr-var-data-in' type='checkbox'><label for='data-70f79a8a-a4ae-43ac-880a-4bcb08545a02' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>eastings, WGS84, UTM MGRS 13S</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>dx :</span></dt><dd>5.0</dd></dl></div><div class='xr-var-data'><pre>array([[218150.],\n       [218155.],\n       [218160.],\n       ...,\n       [238990.],\n       [238995.],\n       [239000.]], shape=(4171, 1))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>N_UTM</span></div><div class='xr-var-dims'>(na, northing, y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>4.314e+06 4.314e+06 ... 4.332e+06</div><input id='attrs-f4385c94-3a5f-4e71-a5eb-a9d1b0ab3cfa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f4385c94-3a5f-4e71-a5eb-a9d1b0ab3cfa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-d36bd09c-a34b-4dea-8096-1c10f8c823a3' class='xr-var-data-in' type='checkbox'><label for='data-d36bd09c-a34b-4dea-8096-1c10f8c823a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>WGS84, UTM MGRS 13S</dd><dt><span>units :</span></dt><dd>meters</dd><dt><span>dy :</span></dt><dd>5.0</dd></dl></div><div class='xr-var-data'><pre>array([[4314100., 4314105., 4314110., ..., 4331990., 4331995., 4332000.]],\n      shape=(1, 3581))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time</span></div><div class='xr-var-dims'>(pass, na)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.581e+09 1.581e+09 ... 1.581e+09</div><input id='attrs-aab79584-6941-4749-abbb-59a7013929d9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-aab79584-6941-4749-abbb-59a7013929d9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4cbfca87-810d-47df-a3c5-8d7a04cbed3e' class='xr-var-data-in' type='checkbox'><label for='data-4cbfca87-810d-47df-a3c5-8d7a04cbed3e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>epoch time, seconds since 1 Jan 1970, 0000 UTC</dd><dt><span>description :</span></dt><dd>mean epoch time of each mosaic</dd></dl></div><div class='xr-var-data'><pre>array([[1.58117444e+09],\n       [1.58117500e+09],\n       [1.58117571e+09],\n       [1.58117658e+09],\n       [1.58117736e+09],\n       [1.58117807e+09],\n       [1.58118526e+09],\n       [1.58118596e+09],\n       [1.58118656e+09],\n       [1.58118726e+09],\n       [1.58118782e+09],\n       [1.58118847e+09],\n       [1.58118878e+09],\n       [1.58118953e+09],\n       [1.58119030e+09],\n       [1.58119107e+09],\n       [1.58119178e+09]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8f08d981-a769-42fa-a4ff-e73b0be4f923' class='xr-section-summary-in' type='checkbox'  checked><label for='section-8f08d981-a769-42fa-a4ff-e73b0be4f923' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>processed date :</span></dt><dd>19-Aug-2020 18:54:53</dd></dl></div></li></ul></div></div>","content_type":"text/html"}}},"key":"pazGbbzKLx"}],"key":"gDNCQM3ccd"}],"key":"oun4BQdQIr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Take a look at the dimensions in the dataset\nds.dims","key":"QKjOqqb2dA"},{"type":"outputs","id":"GwVrAfb6eL1NNxlEXZ9zO","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":58,"metadata":{},"data":{"text/plain":{"content":"FrozenMappingWarningOnValuesAccess({'pass': 17, 'easting, x': 4171, 'northing, y': 3581, 'na': 1})","content_type":"text/plain"}}},"key":"G6DSlYf7dx"}],"key":"yKeTMA76Cp"}],"key":"QGKtXbE3Wo"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There is an extra dimension (‚Äúna‚Äù) that we will want to drop, we will want to rename some of the dims, assign coordinates to those dims, and add a coordinate reference system for plotting.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eol8nlcWvl"}],"key":"tZQo61BzFu"}],"key":"VOqxzQg4pR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Drop the extra \"na\" dimension from E_UTM, N_UTM, and time\nds['E_UTM'] = ds['E_UTM'].isel(na=0, drop=True)\nds['N_UTM'] = ds['N_UTM'].isel(na=0, drop=True)\nds['time'] = ds['time'].isel(na=0, drop=True)","key":"Hl712NWm5f"},{"type":"outputs","id":"WCbORSOhN3Zy7jKjp6OP3","children":[],"key":"fIWKuy7lfj"}],"key":"MG1zN39v39"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rename the dimensions to some easier to use names","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tdV7RucHO3"}],"key":"idpfis2SoZ"}],"key":"msHSOVEkZf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Rename dims\nds = ds.rename({\"pass\" : \"time\", \n                \"easting, x\" : \"easting\", \n                \"northing, y\" : \"northing\"})","key":"G3quKnJhL6"},{"type":"outputs","id":"uZr_XHiNXXv7WmDSTCWrp","children":[],"key":"WxiV5Rh2Qn"}],"key":"i43bi8oDSz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This NetCDF file was generated in MATLAB, and the dates/times are in an epoch format. Use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"imEu6cdRA0"},{"type":"link","url":"https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"utcfromtimestamp()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LkrwjMBxjK"}],"urlSource":"https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp","key":"rfDVugxMb8"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VCd9KMqXWj"},{"type":"link","url":"https://docs.python.org/3/library/datetime.html#datetime.date.isoformat","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"isoformat()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BC27IwalWl"}],"urlSource":"https://docs.python.org/3/library/datetime.html#datetime.date.isoformat","key":"nswfh9K88V"},{"type":"text","value":" to convert and reformat into a more convenient format.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kWPnspdGcY"}],"key":"UcQ87U6n1J"}],"key":"XDYUh8wX1C"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Decode matlab (epoch) format times\nutctime = [datetime.utcfromtimestamp(this_time).isoformat() for this_time in ds.time.values]","key":"yUJDFm832O"},{"type":"outputs","id":"0mY-o0f3Y3YtLaKG20mck","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_3840/3153572546.py:2: DeprecationWarning: datetime.datetime.utcfromtimestamp() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.fromtimestamp(timestamp, datetime.UTC).\n  utctime = [datetime.utcfromtimestamp(this_time).isoformat() for this_time in ds.time.values]\n"},"key":"Z8NwutvA7l"}],"key":"kElqYN8N0b"}],"key":"SXHfbHw3Iq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Assign and then transpose coordinates in our dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uWsqNwEh3r"}],"key":"fLcWnbxRaN"}],"key":"cYzDZABwws"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Assign coordinates to the \"northing\",  \"easting\", and \"time\" dimensions\nds = ds.assign_coords({\"time\": utctime, \"northing\": ds.N_UTM, \"easting\": ds.E_UTM})","key":"WxzAFIVEq0"},{"type":"outputs","id":"5iBqXrcOohhngX9VT5O17","children":[],"key":"aBkPuDYI4e"}],"key":"QtDxERwECv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Transpose coords\nds = ds.transpose(\"time\", \"northing\", \"easting\")","key":"Ie9CsosdV8"},{"type":"outputs","id":"QkdpBpuHW4GkwOu55NWA8","children":[],"key":"KxecBRvUSO"}],"key":"TXmyS8UoFF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set spatial dimensions then define which coordinate reference system the spatial dimensions are in","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EzGrJ5DSfZ"}],"key":"zgHrad4PzN"}],"key":"eGBI61MU2D"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Write the coordinate reference system for the spatial dims with rioxarray\n# https://github.com/corteva/rioxarray/issues/379\nds.rio.write_crs('epsg:32612', inplace=True,\n                ).rio.set_spatial_dims('easting', 'northing', inplace=True,\n                                      ).rio.write_coordinate_system(inplace=True)","key":"bZTpUy30b4"},{"type":"outputs","id":"i2HyAMttvaVH59oKCI7_J","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 1GB\nDimensions:      (time: 17, northing: 3581, easting: 4171)\nCoordinates:\n  * time         (time) <U26 2kB '2020-02-08T15:07:17.946189' ... '2020-02-08...\n  * northing     (northing) float64 29kB 4.314e+06 4.314e+06 ... 4.332e+06\n  * easting      (easting) float64 33kB 2.182e+05 2.182e+05 ... 2.39e+05\n    spatial_ref  int64 8B 0\nData variables:\n    STBmosaic    (time, northing, easting) float32 1GB nan nan nan ... nan nan\n    DEM          (northing, easting) float32 60MB 1.935e+03 ... 2.913e+03\n    E_UTM        (easting) float64 33kB 2.182e+05 2.182e+05 ... 2.39e+05\n    N_UTM        (northing) float64 29kB 4.314e+06 4.314e+06 ... 4.332e+06\nAttributes:\n    processed date:  19-Aug-2020 18:54:53","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"cee72f5f40b300bfc9ade4c9e0f3316c","path":"/snow-observations-cookbook/build/cee72f5f40b300bfc9ade4c9e0f3316c.html"}}},"key":"qIWC9bGwMZ"}],"key":"y3rg3kiyf5"}],"key":"c46pgUIDdH"}],"key":"pqPTSsDNO9"},"references":{"cite":{"order":["Lundquist_2018"],"data":{"Lundquist_2018":{"label":"Lundquist_2018","enumerator":"1","doi":"10.1016/j.rse.2018.03.001","html":"Lundquist, J. D., Chickadel, C., Cristea, N., Currier, W. R., Henn, B., Keenan, E., & Dozier, J. (2018). Separating snow and forest temperatures with thermal infrared remote sensing. <i>Remote Sensing of Environment</i>, <i>209</i>, 764‚Äì779. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1016/j.rse.2018.03.001\">10.1016/j.rse.2018.03.001</a>","url":"https://doi.org/10.1016/j.rse.2018.03.001"}}}},"footer":{"navigation":{"prev":{"title":"GPR and Lidar","url":"/notebooks/gpr-lidar-hackweektutorial","group":"Observations"},"next":{"title":"Time-lapse Cameras","url":"/notebooks/timelapse-camera-tutorial","group":"Observations"}}},"domain":"http://localhost:3000"}