<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Thermal Infrared - Snow Observations Cookbook</title><meta property="og:title" content="Thermal Infrared - Snow Observations Cookbook"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG"/><meta property="og:image" content="/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG"/><link rel="stylesheet" href="/snow-observations-cookbook/_preview/5/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/snow-observations-cookbook/_preview/5/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-T52X8HNYE8"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-T52X8HNYE8');</script><link rel="icon" href="/snow-observations-cookbook/_preview/5/favicon.ico"/><link rel="stylesheet" href="/snow-observations-cookbook/_preview/5/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="https://projectpythia.org"><div class="myst-home-link-logo mr-3 flex items-center"><img src="/snow-observations-cookbook/_preview/5/build/config-item-24692dda-62d3a8eb66205c75b9682243ed409252.svg" class="h-9 dark:hidden" height="2.25rem"/><img src="/snow-observations-cookbook/_preview/5/build/config-item-84d6d338-a86c868a7955444cd63d36280871ce09.svg" class="hidden h-9 dark:block" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"><div class="myst-top-nav-item relative inline-block mx-2 grow-0"><a href="https://projectpythia.org" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Home</a></div><div class="myst-top-nav-item relative inline-block mx-2 grow-0"><a href="https://foundations.projectpythia.org" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Foundations</a></div><div class="myst-top-nav-item relative inline-block mx-2 grow-0"><a href="https://cookbooks.projectpythia.org/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Cookbooks</a></div><div class="myst-top-nav-item relative inline-block mx-2 grow-0"><a href="https://projectpythia.org/resource-gallery/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Resources</a></div><div class="myst-top-nav-item relative inline-block mx-2 grow-0"><a href="https://projectpythia.org/#join-us" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-full mx-2 py-1 text-md font-medium dark:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">Community</a></div></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"><div class="myst-action-menu relative" data-headlessui-state=""><div><button class="myst-action-menu-button flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rr5cp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://projectpythia.org" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">Project Pythia</a></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"><a href="https://projectpythia.org" target="_blank" rel="noopener noreferrer" class="myst-primary-sidebar-item-short p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Home</a><a href="https://foundations.projectpythia.org" target="_blank" rel="noopener noreferrer" class="myst-primary-sidebar-item-short p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Foundations</a><a href="https://cookbooks.projectpythia.org/" target="_blank" rel="noopener noreferrer" class="myst-primary-sidebar-item-short p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Cookbooks</a><a href="https://projectpythia.org/resource-gallery/" target="_blank" rel="noopener noreferrer" class="myst-primary-sidebar-item-short p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Resources</a><a href="https://projectpythia.org/#join-us" target="_blank" rel="noopener noreferrer" class="myst-primary-sidebar-item-short p-2 my-1 rounded-lg hover:bg-slate-300/30 block break-words focus:outline outline-blue-200 outline-2 rounded">Community</a></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Snow Observations Cookbook" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/snow-observations-cookbook/_preview/5/">Snow Observations Cookbook</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Preamble" class="block break-words rounded py-2 grow cursor-pointer">Preamble</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Data Access" class="block break-words rounded py-2 grow cursor-pointer">Data Access</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Observations" class="block break-words rounded py-2 grow cursor-pointer">Observations</div><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="myst-fm-license-cc-badge opacity-50 hover:opacity-100 text-inherit hover:text-inherit myst-fm-license-content" aria-label="Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-main inline-block mx-1"><title>Content License: Creative Commons Attribution 4.0 International (CC-BY-4.0)</title><path d="M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-cc-icon myst-fm-license-cc-icon-by inline-block mr-1"><title>Credit must be given to the creator</title><path d="M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"></path></svg></a><a href="https://opensource.org/licenses/Apache-2.0" target="_blank" rel="noopener noreferrer" title="Code License: Apache License 2.0 (Apache-2.0)" class="myst-fm-license-badge text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-license-icon myst-fm-license-icon-osi mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46] myst-fm-license-code"><path d="M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"></path></svg></a><a href="https://en.wikipedia.org/wiki/Open_access" target="_blank" rel="noopener noreferrer" title="Open Access" class="myst-fm-open-access-badge text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-block-open-access-icon mr-1 inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"><path d="M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"></path><path d="M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"></path><circle cx="12" cy="15.6" r="1.7"></circle></svg></a><a href="https://github.com/SnowEx/snow-observations-cookbook" title="GitHub Repository: SnowEx/snow-observations-cookbook" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/SnowEx/snow-observations-cookbook/edit/HEAD/notebooks/thermal-ir-tutorial.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div><button class="myst-fm-launch-button inline-flex size-[24px] hover:text-[#E18435] items-center justify-center" aria-label="Launch in external computing interface" title="Launch in external computing interface" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:Re8ucp:" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="myst-fm-launch-icon"><path d="M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><h1 class="myst-fm-block-title mb-0">Thermal Infrared</h1><header class="myst-fm-authors-affiliations mt-4 not-prose"><div class="myst-fm-authors-list"><span class="myst-fm-author font-semibold text-sm myst-fm-author-item inline-block"><button class="myst-fm-author-popover focus:shadow-[0_0_0_2px] focus:shadow-black outline-none hover:underline" aria-label="Author Details" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R78ucp:" data-state="closed"><span class="myst-fm-author-name">The NASA Snow Observations Community</span></button></span></div></header></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div class="myst-jp-nb-toolbar sticky top-[60px] pb-[14px] flex justify-end w-full z-20 pointer-events-none"><div class="myst-jp-nb-toolbar-inner flex p-1 m-1 space-x-1 border rounded-full shadow pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur"><div class="myst-jp-nb-toolbar-power rounded"><button class="myst-jp-nb-toolbar-power-btn flex text-center rounded-full cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60" aria-label="start compute environment"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="inline-block w-6 h-6 align-top"><title>Launch kernel</title><path stroke-linecap="round" stroke-linejoin="round" d="M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"></path></svg></button></div></div></div><div id="skip-to-article"></div><div id="wW8DS82NZk" class="myst-jp-nb-block relative group/block"><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Learning Objectives</div></div><div class="myst-admonition-body px-4 py-1"><p><strong>At the conclusion of this tutorial, you will be able to:</strong></p><ul><li><p>understand the differences between sources of thermal IR observations, the advantages and disadvantages of each, and types of research questions we can address with those observations</p></li><li><p>visualize point and raster thermal infrared datasets together, then compute error statistics between point and raster datasets</p></li><li><p>access and visualize airborne and satellite thermal infrared imagery, then scale imagery of different spatial resolutions for comparison</p></li></ul></div></aside></div><div id="GmGGwccjYB" class="myst-jp-nb-block relative group/block"><p><strong>Download the sample datasets for this tutorial</strong></p><p>For ease of access during the hackweek, sample files are available for download for running the command in the cell below. (See the bonus notebook “<a class="link" href="/snow-observations-cookbook/_preview/5./thermal-ir-data-download.ipynb">thermal<wbr/>-ir<wbr/>-data<wbr/>-download<wbr/>.ipynb</a>” for more details about data access methods)</p></div><div id="jfo79Qj5te" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># S3 base URL for tutorial data
S3_BASE_URL = &quot;https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="UQzmSnRg57U1TOy1d67Fo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Xqhgam1xxW" class="myst-jp-nb-block relative group/block"><p><strong>Import the packages we’ll need for this tutorial</strong></p></div><div id="zgiGKivMuo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Import some general-purpose packages for handling different data structures
import numpy as np # for working with n-D arrays
import pandas as pd # for reading our csv data file and working with tabular data

# Import matplotlib which we&#x27;ll use for plotting images and graphs
import matplotlib.pyplot as plt

# Import these packages for working with raster data
import xarray as xr # xarray lets us work with n-D arrays and labeled data, such as NetCDF files
import rioxarray # rioxarray provides capabilities of the rasterio package to xarray, letting us easily work with files such as GeoTIFFs
import fsspec

# Import some packages for working with the SnowEx SQL database
from snowexsql.lambda_client import SnowExLambdaClient
from datetime import datetime # Import some tools to build dates 
</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="2AO-xrYwLYdwmO_-cUlI3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="hhxdGIr1eQ" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="part-1-comparing-airborne-ir-imagery-with-ground-truth-observations" class="relative group"><span class="heading-text">Part 1: Comparing airborne IR imagery with ground-truth observations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-1-comparing-airborne-ir-imagery-with-ground-truth-observations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="airborne-ir-imagery" class="relative group"><span class="heading-text">Airborne IR imagery</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#airborne-ir-imagery" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><img id="HyJfsDocHn" style="width:600px;margin-left:auto;margin-right:auto" src="/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG" data-canonical-url="images/thermal-ir/twinotter1.JPG" class=""/><p>The Naval Postgraduate School Twin Otter aircraft carried the UW APL thermal infrared imager and SWESARR instrument over Grand Mesa for SnowEx 2020. (Photo by Chris Chickadel)</p></div><div id="JvEh8sDXbu" class="myst-jp-nb-block relative group/block"><p>Load IR image mosaic geotiff file</p></div><div id="KT0uBQmOce" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir = rioxarray.open_rasterio(S3_BASE_URL + &#x27;SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="iGrF8H3izbjVBMNSk4unw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="uPGFL7Rxmz" class="myst-jp-nb-block relative group/block"><p>Inspect the contents of the file we just opened</p></div><div id="qj3PiTKeFH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hOTVNPNLFUiSS1pnIXr6l" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="hpFw2sa9fJ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir.rio.crs # original CRS</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pgfTC2ZsDI9KLRUZ9MOUT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>CRS.from_wkt(&#x27;PROJCS[&quot;WGS 84 / UTM zone 12N&quot;,GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;32612&quot;]]&#x27;)</span></code></div></div></div><div id="IcZ6Uip67k" class="myst-jp-nb-block relative group/block"><p>Under the dataarray’s attributes we can see that we have a coordinate reference system already defined (crs) as <a target="_blank" rel="noreferrer" href="https://epsg.io/32612" class="link">EPSG:32612<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. We can also find this through <code>da.rio.crs</code>.</p><p>However, we would like to reproject this into the common projection used by datasets on the SnowEx SQL database: <a target="_blank" rel="noreferrer" href="https://epsg.io/26912" class="link">EPSG:26912<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. We can do that using rioxarray’s <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject" class="link">reproject<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> method (see an example <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/reproject.html" class="link">here<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>).</p><p>NOTE: Reprojections typically require a lot of processing time, so expect this cell to run for up to 1 minute.</p></div><div id="wzPcap25gL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir = airborne_ir.rio.reproject(&#x27;EPSG:26912&#x27;) # overwrite itself with new reprojected data array</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="kPG90c1ZGLRcKhrHrCpiz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403
Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403
</span></code></pre></div></div></div></div><div id="fyqxqfdOmv" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir.rio.crs # new CRS</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lHK50KnHel0ssfjIzW5un" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>CRS.from_wkt(&#x27;PROJCS[&quot;NAD83 / UTM zone 12N&quot;,GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.257222101,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]],PROJECTION[&quot;Transverse_Mercator&quot;],PARAMETER[&quot;latitude_of_origin&quot;,0],PARAMETER[&quot;central_meridian&quot;,-111],PARAMETER[&quot;scale_factor&quot;,0.9996],PARAMETER[&quot;false_easting&quot;,500000],PARAMETER[&quot;false_northing&quot;,0],UNIT[&quot;metre&quot;,1,AUTHORITY[&quot;EPSG&quot;,&quot;9001&quot;]],AXIS[&quot;Easting&quot;,EAST],AXIS[&quot;Northing&quot;,NORTH],AUTHORITY[&quot;EPSG&quot;,&quot;26912&quot;]]&#x27;)</span></code></div></div></div><div id="FSaYOxCGi4" class="myst-jp-nb-block relative group/block"><p>Next, the filename shows us when this imagery was taken in UTC time, “2020-02-08T181915”</p><p>We can create a pandas timestamp variable in local time for comparison with other datasets:</p></div><div id="KRlpn24Hrx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a pandas timestamp, subtract 7 hours from UTC time to get local time (MST, UTC-7)
airborne_ir_timestamp = pd.Timestamp(2020,2,8,18,19,15) - pd.Timedelta(hours=7)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pk7KF765cab3wuU5_AFVa" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sn2qnqHqG6" class="myst-jp-nb-block relative group/block"><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">What color scale should we use for temperature?</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><p>Common advice you may have heard is to <a target="_blank" rel="noreferrer" href="https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/" class="link">avoid using rainbow color scales<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. Luckily <a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/tutorials/colors/colormaps.html" class="link">matplotlib gives us lots of options<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to choose from.</p><p>When representing images of temperature, sometimes we want to pick colors that intuitively suggest temperature, such as the “magma” colorbar below. Other times we might be interested in both magnitude and sign, such as temperatures above or below melting point, in which case we could use something like “RdBu_r” below. I often pick simple greyscale, though less visually interesting, it is sometimes easier to pick out details in a continuous color scale like they “Greys” scale below. <strong>Make sure to include a labeled colorbar so your plot can be correctly interpreted!</strong></p><img id="fA7023Q08q" style="width:300px;margin-left:auto;margin-right:auto" src="/snow-observations-cookbook/_preview/5/build/colorbars-29d09f350622672d00390a1370156ba7.png" data-canonical-url="images/thermal-ir/colorbars.png" class=""/><p>Some matplotlib color scale options (top to bottom): “magma”, “RdBu_r”, “Greys”</p></div></details></div><div id="eBHe5wCQbc" class="myst-jp-nb-block relative group/block"><p>Plot the airborne TIR image.</p><ul><li><p>What does our chosen colorscale tell us about temperatures here?</p></li><li><p>What can we see?</p></li></ul></div><div id="fqZrHRq8xF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(20,10)) # create a new matplotlib figure, set the figure size
ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;

# plot the airborne infrared image
airborne_ir.plot(cmap=&#x27;magma&#x27;, vmin=-10, vmax=10,ax=ax, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})

# set axes labels
ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)

ax.set_title(&#x27;Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="JFfcTHmEsr9psrO_UUO_s" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/snow-observations-cookbook/_preview/5/build/71dd381e68b816bf31db6635da198351.png" alt="&lt;Figure size 2000x1000 with 2 Axes&gt;"/></div></div></div><div id="v6YgsCdxce" class="myst-jp-nb-block relative group/block"><aside class="myst-admonition myst-admonition-hint my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600 hint"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Image interpretation</div></div><div class="myst-admonition-body px-4 py-1"><ul><li><p>What does our chosen colorscale tell us about temperatures here?</p><ul><li><p>The colorbar on the right shows us that colder temperatures are represented with dark purple to black colors.</p></li><li><p>Warmer temperatures are represented with lighter orange/yellow.</p></li></ul></li><li><p>What can we see?</p><ul><li><p>We see a narrow stripe of imagery, this is a mosaic of individual camera images taken from the aircraft along a single flight line over Grand Mesa.</p></li><li><p>On the left (west) side of the image we see warmer but varied temperatures (yellow, orange, and purple), then an abrupt transition to uniformly cold temperatures (purple). This is the westernmost edge of the mesa where the snow on top is much colder than the lower elevation slopes of the mountain.</p></li><li><p>Continuing to move from left (west) to right (east) we see patches of lighter colors, corresponding with warmer temperatures. These are patches of forest on the central and eastern portions of the mesa.</p></li><li><p>Finally near the easternmost side of the image we see a very dark region that means it is much colder than the rest of the scene. What might this cold area or object be?</p></li></ul></li></ul></div></aside></div><div id="X2gyYcTr5c" class="myst-jp-nb-block relative group/block"><h3 id="bonus-activity" class="relative group"><span class="heading-text">Bonus activity:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#bonus-activity" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To help with our image interpretation, we can load visible imagery taken concurrently from the UW-APL airborne instrument. (Note: this example image is a single band black and white image, though we also have full RGB images available through NSIDC)</p></div><div id="aJHWqGr1Pg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_vis = rioxarray.open_rasterio(S3_BASE_URL + &#x27;SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif&#x27;)

# note that the filename is identical with the same timestamp, but is labeled &quot;EO&quot; (electro-optical) rather than &quot;IR&quot; (infrared)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="4px3hP_MgjQ-CUmiOujAm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dnHgWyVRjS" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Also reproject the airborne visible imagery into EPSG:26912
airborne_vis = airborne_vis.rio.reproject(&#x27;EPSG:26912&#x27;) # overwrite itself with new reprojected data array</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="RQbgjmc-FRYG1aismYOCd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403
Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403
</span></code></pre></div></div></div></div><div id="DFm3osm3C0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_vis</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="9LjZ5KZm9qu9Dq2PzIXYw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="qF8FFKJDfG" class="myst-jp-nb-block relative group/block"><p>Plot the visible and infrared images side by side. This time, we will change the x and y axes limits (<a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html" class="link">set_xlim<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>, and <a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html" class="link">set_ylim<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>) to zoom in closer.</p></div><div id="eCxnfmjb0M" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(20,10), tight_layout=True)

# Plot the IR imagery
airborne_ir.plot(ax=axs[0], 
                 cmap=&#x27;magma&#x27;, 
                 vmin=-10, vmax=10, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[0].set_title(&#x27;Airborne IR&#x27;)

# Plot the visible imagery
airborne_vis.plot(ax=axs[1], 
                  cmap=&#x27;Greys_r&#x27;,
                  cbar_kwargs={&#x27;label&#x27;: &#x27;DN&#x27;})
axs[1].set_title(&#x27;Airborne Vis&#x27;)

# for each subplot, do the following:
for ax in axs: 
    ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;
    
    # give each axis a label
    ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
    ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
    
    # set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)
    ax.set_xlim((735000, 760000)) # x axis limits
    ax.set_ylim((4320000, 4325000)) # y axis limits</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="33lZlAyGKQOTaAus33fkK" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/snow-observations-cookbook/_preview/5/build/e3efee70a1e5b5ac62aa8126e01e8d91.png" alt="&lt;Figure size 2000x1000 with 4 Axes&gt;"/></div></div></div><div id="bIM2PeoRrM" class="myst-jp-nb-block relative group/block"><aside class="myst-admonition myst-admonition-hint my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600 hint"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Image interpretation</div></div><div class="myst-admonition-body px-4 py-1"><ul><li><p>The visible imagery camera covers a slightly narrower width along the flight path than the IR cameras.</p></li><li><p>Now what do you think the cold object on the eastern side of the image is?</p></li></ul></div></aside></div><div id="GEazw52iKg" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h3 id="ground-based-temperature-observations" class="relative group"><span class="heading-text">Ground-based temperature observations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#ground-based-temperature-observations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To provide a source of “ground truth” for the airborne and satellite thermal infrared images during the SnowEx 2020 Grand Mesa campaign, we can use ground-based snow surface temperature measurements. On February 5, 2020, we installed a thermal infrared radiometer pointing at the snow surface at snow pit #2S10 (left), and buried temperature sensors beneath the snow surface (right). These logged observations at 5-minute intervals until we removed the instrumentation a week later on February 12.</p><img id="rbPr4jN3Z8" style="width:600px;margin-left:auto;margin-right:auto" src="/snow-observations-cookbook/_preview/5/build/snowpit_2s10-95980a748e3fb322756b174686f12fd5.png" data-canonical-url="images/thermal-ir/snowpit_2s10.png" class=""/><p>Snow temperature sensor setup at snow pit 2S10: (left) tripod-mounted thermal ifrared radiometer to measure snow surface, (right) temperature probes to be buried beneath the snow surface.<br/>(Photos by Steven Pestana)</p><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">What are some of the differences we might expect to see between the ground-based surface temperature data and the thermal IR images?</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><ul><li><p><em>Emissivity differences?</em></p><ul><li><p>Our ground-based radiometer was looking at 45 deg off nadir, versus nadir ASTER versus variable view angle airborne (snow emissivity changes off-nadir)</p></li></ul></li><li><p><em>Different TIR bandwidths (broad versus narrow)?</em></p><ul><li><p>Ground-based radiometer: 8-14 μm, Airborne IR cameras: 8-14 μm, ASTER band 14: 10.95-11.65 µm</p></li></ul></li><li><p><em>Different atmospheric path lengths?</em></p><ul><li><p>From &lt;1 meter, to 1 km, to entire atmospheric column (~100 km)</p></li></ul></li><li><p><em>“Point” versus area, and geolocation accuracy</em></p><ul><li><p>The ground-based radiometer is measuring temperature for a spot (not really a single point) maybe ~1m in diameter. The airborne and ASTER imagers have spatial resolutions of 5m and 90m respectively. How confident are we in the geolocation of individual pixels in the imagery?</p></li></ul></li></ul></div></details></div><div id="zvfHQ2BiHq" class="myst-jp-nb-block relative group/block"><p><strong>Where is snow pit 2S10?</strong></p><p>We can find this information through a query to the SnowEx SQL database. First, set up the connection:</p></div><div id="Xf1qdU6Kkz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Initialize client
client = SnowExLambdaClient()

# Get all measurement classes dynamically
classes = client.get_measurement_classes()
LayerMeasurements = classes[&#x27;LayerMeasurements&#x27;]

print(&quot;🔍 Testing Lambda connection...&quot;)
connection_test = client.test_connection()
print(f&quot;✅ Connected: {connection_test.get(&#x27;connected&#x27;, False)}&quot;)
if connection_test.get(&#x27;connected&#x27;):
    print(f&quot;📊 Database: {connection_test.get(&#x27;version&#x27;, &#x27;Unknown version&#x27;)}&quot;)
else:
    print(&quot;❌ Connection failed&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="H0_1-_e0N-3eM3L7kRn5r" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>🔍 Testing Lambda connection...
</span></code></pre></div></div><div data-name="safe-output-error"><div><pre class="myst-jp-error-output text-sm font-thin font-system jupyter-error"><code><span style="color:rgb(187, 0, 0)">---------------------------------------------------------------------------</span><span>
</span><span style="color:rgb(187, 0, 0)">NoCredentialsError</span><span>                        Traceback (most recent call last)
</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:237</span><span>, in </span><span style="color:rgb(0, 187, 187)">SnowExLambdaClient._invoke_lambda</span><span style="color:rgb(0, 0, 187)">(self, action, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    236</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">try</span><span>:
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">237</span><span>     response = </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">lambda_client</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">invoke</span><span style="background-color:rgb(187, 187, 0)">(</span><span>
</span><span style="color:rgb(0, 187, 0)">    238</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">FunctionName</span><span style="background-color:rgb(187, 187, 0)">=</span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">function_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span>
</span><span style="color:rgb(0, 187, 0)">    239</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">InvocationType</span><span style="background-color:rgb(187, 187, 0)">=</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">&#x27;</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">RequestResponse</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">&#x27;</span><span style="background-color:rgb(187, 187, 0)">,</span><span>
</span><span style="color:rgb(0, 187, 0)">    240</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">Payload</span><span style="background-color:rgb(187, 187, 0)">=</span><span style="background-color:rgb(187, 187, 0)">json</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">dumps</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">payload</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">    241</span><span> </span><span style="background-color:rgb(187, 187, 0)">    </span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">    243</span><span>     result = json.loads(response[</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">Payload</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>].read().decode(</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">utf-8</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>))

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:602</span><span>, in </span><span style="color:rgb(0, 187, 187)">ClientCreator._create_api_method.&lt;locals&gt;._api_call</span><span style="color:rgb(0, 0, 187)">(self, *args, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    601</span><span> </span><span style="color:rgb(95, 135, 135);font-style:italic"># The &quot;self&quot; in this scope is referring to the BaseClient.</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">602</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_make_api_call</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">operation_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">kwargs</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/context.py:123</span><span>, in </span><span style="color:rgb(0, 187, 187)">with_current_context.&lt;locals&gt;.decorator.&lt;locals&gt;.wrapper</span><span style="color:rgb(0, 0, 187)">(*args, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    122</span><span>     hook()
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">123</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0)">func</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">args</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">kwargs</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:1060</span><span>, in </span><span style="color:rgb(0, 187, 187)">BaseClient._make_api_call</span><span style="color:rgb(0, 0, 187)">(self, operation_name, api_params)</span><span>
</span><span style="color:rgb(0, 187, 0)">   1059</span><span>     apply_request_checksum(request_dict)
</span><span style="color:rgb(0, 187, 0)">-&gt; </span><span style="color:rgb(0, 187, 0)">1060</span><span>     http, parsed_response = </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_make_request</span><span style="background-color:rgb(187, 187, 0)">(</span><span>
</span><span style="color:rgb(0, 187, 0)">   1061</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">operation_model</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">request_dict</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">request_context</span><span>
</span><span style="color:rgb(0, 187, 0)">   1062</span><span> </span><span style="background-color:rgb(187, 187, 0)">    </span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">   1064</span><span> </span><span style="color:rgb(0, 135, 0)">self</span><span>.meta.events.emit(
</span><span style="color:rgb(0, 187, 0)">   1065</span><span>     </span><span style="color:rgb(187, 187, 0)">f</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">after-call.</span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span>service_id</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">.</span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span>operation_name</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>,
</span><span style="color:rgb(0, 187, 0)">   1066</span><span>     http_response=http,
</span><span style="color:rgb(0, 187, 0)">   (...)</span><span style="color:rgb(0, 187, 0)">   1069</span><span>     context=request_context,
</span><span style="color:rgb(0, 187, 0)">   1070</span><span> )

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:1084</span><span>, in </span><span style="color:rgb(0, 187, 187)">BaseClient._make_request</span><span style="color:rgb(0, 0, 187)">(self, operation_model, request_dict, request_context)</span><span>
</span><span style="color:rgb(0, 187, 0)">   1083</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">try</span><span>:
</span><span style="color:rgb(0, 187, 0)">-&gt; </span><span style="color:rgb(0, 187, 0)">1084</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_endpoint</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">make_request</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">operation_model</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">request_dict</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">   1085</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">except</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">Exception</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">as</span><span> e:

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:119</span><span>, in </span><span style="color:rgb(0, 187, 187)">Endpoint.make_request</span><span style="color:rgb(0, 0, 187)">(self, operation_model, request_dict)</span><span>
</span><span style="color:rgb(0, 187, 0)">    114</span><span> logger.debug(
</span><span style="color:rgb(0, 187, 0)">    115</span><span>     </span><span style="color:rgb(187, 187, 0)">&quot;</span><span style="color:rgb(187, 187, 0)">Making request for </span><span style="color:rgb(175, 95, 135);font-weight:bold">%s</span><span style="color:rgb(187, 187, 0)"> with params: </span><span style="color:rgb(175, 95, 135);font-weight:bold">%s</span><span style="color:rgb(187, 187, 0)">&quot;</span><span>,
</span><span style="color:rgb(0, 187, 0)">    116</span><span>     operation_model,
</span><span style="color:rgb(0, 187, 0)">    117</span><span>     request_dict,
</span><span style="color:rgb(0, 187, 0)">    118</span><span> )
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">119</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_send_request</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">request_dict</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">operation_model</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:196</span><span>, in </span><span style="color:rgb(0, 187, 187)">Endpoint._send_request</span><span style="color:rgb(0, 0, 187)">(self, request_dict, operation_model)</span><span>
</span><span style="color:rgb(0, 187, 0)">    195</span><span> </span><span style="color:rgb(0, 135, 0)">self</span><span>._update_retries_context(context, attempts)
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">196</span><span> request = </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">create_request</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">request_dict</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">operation_model</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">    197</span><span> success_response, exception = </span><span style="color:rgb(0, 135, 0)">self</span><span>._get_response(
</span><span style="color:rgb(0, 187, 0)">    198</span><span>     request, operation_model, context
</span><span style="color:rgb(0, 187, 0)">    199</span><span> )

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:132</span><span>, in </span><span style="color:rgb(0, 187, 187)">Endpoint.create_request</span><span style="color:rgb(0, 0, 187)">(self, params, operation_model)</span><span>
</span><span style="color:rgb(0, 187, 0)">    131</span><span>     event_name = </span><span style="color:rgb(187, 187, 0)">f</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">request-created.</span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span>service_id</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">.</span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span>operation_model.name</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">132</span><span>     </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_event_emitter</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">emit</span><span style="background-color:rgb(187, 187, 0)">(</span><span>
</span><span style="color:rgb(0, 187, 0)">    133</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">event_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span>
</span><span style="color:rgb(0, 187, 0)">    134</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">request</span><span style="background-color:rgb(187, 187, 0)">=</span><span style="background-color:rgb(187, 187, 0)">request</span><span style="background-color:rgb(187, 187, 0)">,</span><span>
</span><span style="color:rgb(0, 187, 0)">    135</span><span> </span><span style="background-color:rgb(187, 187, 0)">        </span><span style="background-color:rgb(187, 187, 0)">operation_name</span><span style="background-color:rgb(187, 187, 0)">=</span><span style="background-color:rgb(187, 187, 0)">operation_model</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">name</span><span style="background-color:rgb(187, 187, 0)">,</span><span>
</span><span style="color:rgb(0, 187, 0)">    136</span><span> </span><span style="background-color:rgb(187, 187, 0)">    </span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">    137</span><span> prepared_request = </span><span style="color:rgb(0, 135, 0)">self</span><span>.prepare_request(request)

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:412</span><span>, in </span><span style="color:rgb(0, 187, 187)">EventAliaser.emit</span><span style="color:rgb(0, 0, 187)">(self, event_name, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    411</span><span> aliased_event_name = </span><span style="color:rgb(0, 135, 0)">self</span><span>._alias_event_name(event_name)
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">412</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_emitter</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">emit</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">aliased_event_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">kwargs</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:256</span><span>, in </span><span style="color:rgb(0, 187, 187)">HierarchicalEmitter.emit</span><span style="color:rgb(0, 0, 187)">(self, event_name, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    246</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">&quot;&quot;&quot;</span><span>
</span><span style="color:rgb(0, 187, 0)">    247</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">Emit an event by name with arguments passed as keyword args.</span><span>
</span><span style="color:rgb(0, 187, 0)">    248</span><span> 
</span><span style="color:rgb(0, 187, 0)">   (...)</span><span style="color:rgb(0, 187, 0)">    254</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">         handlers.</span><span>
</span><span style="color:rgb(0, 187, 0)">    255</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">&quot;&quot;&quot;</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">256</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_emit</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">event_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">kwargs</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:239</span><span>, in </span><span style="color:rgb(0, 187, 187)">HierarchicalEmitter._emit</span><span style="color:rgb(0, 0, 187)">(self, event_name, kwargs, stop_on_response)</span><span>
</span><span style="color:rgb(0, 187, 0)">    238</span><span> logger.debug(</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">Event </span><span style="color:rgb(175, 95, 135);font-weight:bold">%s</span><span style="color:rgb(187, 187, 0)">: calling handler </span><span style="color:rgb(175, 95, 135);font-weight:bold">%s</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>, event_name, handler)
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">239</span><span> response = </span><span style="background-color:rgb(187, 187, 0)">handler</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">*</span><span style="background-color:rgb(187, 187, 0)">kwargs</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">    240</span><span> responses.append((handler, response))

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/signers.py:108</span><span>, in </span><span style="color:rgb(0, 187, 187)">RequestSigner.handler</span><span style="color:rgb(0, 0, 187)">(self, operation_name, request, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    103</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">def</span><span style="color:rgb(undefined, undefined, undefined)"> </span><span style="color:rgb(0, 0, 187)">handler</span><span>(</span><span style="color:rgb(0, 135, 0)">self</span><span>, operation_name=</span><span style="color:rgb(0, 135, 0);font-weight:bold">None</span><span>, request=</span><span style="color:rgb(0, 135, 0);font-weight:bold">None</span><span>, **kwargs):
</span><span style="color:rgb(0, 187, 0)">    104</span><span>     </span><span style="color:rgb(95, 135, 135);font-style:italic"># This is typically hooked up to the &quot;request-created&quot; event</span><span>
</span><span style="color:rgb(0, 187, 0)">    105</span><span>     </span><span style="color:rgb(95, 135, 135);font-style:italic"># from a client&#x27;s event emitter.  When a new request is created</span><span>
</span><span style="color:rgb(0, 187, 0)">    106</span><span>     </span><span style="color:rgb(95, 135, 135);font-style:italic"># this method is invoked to sign the request.</span><span>
</span><span style="color:rgb(0, 187, 0)">    107</span><span>     </span><span style="color:rgb(95, 135, 135);font-style:italic"># Don&#x27;t call this method directly.</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">108</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">sign</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">operation_name</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">request</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/signers.py:200</span><span>, in </span><span style="color:rgb(0, 187, 187)">RequestSigner.sign</span><span style="color:rgb(0, 0, 187)">(self, operation_name, request, region_name, signing_type, expires_in, signing_name)</span><span>
</span><span style="color:rgb(0, 187, 0)">    198</span><span>         </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> e
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">200</span><span> </span><span style="background-color:rgb(187, 187, 0)">auth</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">add_auth</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">request</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/auth.py:422</span><span>, in </span><span style="color:rgb(0, 187, 187)">SigV4Auth.add_auth</span><span style="color:rgb(0, 0, 187)">(self, request)</span><span>
</span><span style="color:rgb(0, 187, 0)">    421</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">if</span><span> </span><span style="color:rgb(0, 135, 0)">self</span><span>.credentials </span><span style="color:rgb(175, 0, 255);font-weight:bold">is</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">None</span><span>:
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">422</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> NoCredentialsError()
</span><span style="color:rgb(0, 187, 0)">    423</span><span> datetime_now = get_current_datetime()

</span><span style="color:rgb(187, 0, 0)">NoCredentialsError</span><span>: Unable to locate credentials

During handling of the above exception, another exception occurred:

</span><span style="color:rgb(187, 0, 0)">Exception</span><span>                                 Traceback (most recent call last)
</span><span style="color:rgb(0, 187, 187)">Cell</span><span style="color:rgb(0, 187, 187)"> </span><span style="color:rgb(0, 187, 0)">In[14]</span><span style="color:rgb(0, 187, 0)">, line 9</span><span>
</span><span style="color:rgb(0, 187, 0)">      6</span><span> LayerMeasurements = classes[</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">LayerMeasurements</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>]
</span><span style="color:rgb(0, 187, 0)">      8</span><span> </span><span style="color:rgb(0, 135, 0)">print</span><span>(</span><span style="color:rgb(187, 187, 0)">&quot;</span><span style="color:rgb(187, 187, 0)">🔍 Testing Lambda connection...</span><span style="color:rgb(187, 187, 0)">&quot;</span><span>)
</span><span style="color:rgb(0, 187, 0)">----&gt; </span><span style="color:rgb(0, 187, 0)">9</span><span> connection_test = </span><span style="background-color:rgb(187, 187, 0)">client</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">test_connection</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0)">     10</span><span> </span><span style="color:rgb(0, 135, 0)">print</span><span>(</span><span style="color:rgb(187, 187, 0)">f</span><span style="color:rgb(187, 187, 0)">&quot;</span><span style="color:rgb(187, 187, 0)">✅ Connected: </span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span>connection_test.get(</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">connected</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>,</span><span style="color:rgb(undefined, undefined, undefined)"> </span><span style="color:rgb(0, 135, 0);font-weight:bold">False</span><span>)</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">&quot;</span><span>)
</span><span style="color:rgb(0, 187, 0)">     11</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">if</span><span> connection_test.get(</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span style="color:rgb(187, 187, 0)">connected</span><span style="color:rgb(187, 187, 0)">&#x27;</span><span>):

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:269</span><span>, in </span><span style="color:rgb(0, 187, 187)">SnowExLambdaClient.test_connection</span><span style="color:rgb(0, 0, 187)">(self)</span><span>
</span><span style="color:rgb(0, 187, 0)">    262</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">def</span><span style="color:rgb(undefined, undefined, undefined)"> </span><span style="color:rgb(0, 0, 187)">test_connection</span><span>(</span><span style="color:rgb(0, 135, 0)">self</span><span>) -&gt; Dict[</span><span style="color:rgb(0, 135, 0)">str</span><span>, Any]:
</span><span style="color:rgb(0, 187, 0)">    263</span><span> </span><span style="color:rgb(undefined, undefined, undefined)">    </span><span style="color:rgb(187, 187, 0);font-style:italic">&quot;&quot;&quot;</span><span>
</span><span style="color:rgb(0, 187, 0)">    264</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">    Test database connection through Lambda</span><span>
</span><span style="color:rgb(0, 187, 0)">    265</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">    </span><span>
</span><span style="color:rgb(0, 187, 0)">    266</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">    Returns:</span><span>
</span><span style="color:rgb(0, 187, 0)">    267</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">        Dict with connection status and database version info</span><span>
</span><span style="color:rgb(0, 187, 0)">    268</span><span> </span><span style="color:rgb(187, 187, 0);font-style:italic">    &quot;&quot;&quot;</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">269</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">return</span><span> </span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0)">self</span><span style="background-color:rgb(187, 187, 0)">.</span><span style="background-color:rgb(187, 187, 0)">_invoke_lambda</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">&#x27;</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">test_connection</span><span style="background-color:rgb(187, 187, 0);color:rgb(187, 187, 0)">&#x27;</span><span style="background-color:rgb(187, 187, 0)">)</span><span>

</span><span style="color:rgb(0, 187, 187)">File </span><span style="color:rgb(0, 187, 0)">~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:260</span><span>, in </span><span style="color:rgb(0, 187, 187)">SnowExLambdaClient._invoke_lambda</span><span style="color:rgb(0, 0, 187)">(self, action, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0)">    258</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">Exception</span><span>(</span><span style="color:rgb(187, 187, 0)">f</span><span style="color:rgb(187, 187, 0)">&quot;</span><span style="color:rgb(187, 187, 0)">Failed to parse Lambda response: </span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span style="color:rgb(0, 135, 0)">str</span><span>(e)</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">&quot;</span><span>)
</span><span style="color:rgb(0, 187, 0)">    259</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">except</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">Exception</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">as</span><span> e:
</span><span style="color:rgb(0, 187, 0)">--&gt; </span><span style="color:rgb(0, 187, 0)">260</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">Exception</span><span>(</span><span style="color:rgb(187, 187, 0)">f</span><span style="color:rgb(187, 187, 0)">&quot;</span><span style="color:rgb(187, 187, 0)">Lambda invocation failed: </span><span style="color:rgb(175, 95, 135);font-weight:bold">{</span><span style="color:rgb(0, 135, 0)">str</span><span>(e)</span><span style="color:rgb(175, 95, 135);font-weight:bold">}</span><span style="color:rgb(187, 187, 0)">&quot;</span><span>)

</span><span style="color:rgb(187, 0, 0)">Exception</span><span>: Lambda invocation failed: Unable to locate credentials</span></code></pre></div></div></div></div><div id="QknzwLy4ZY" class="myst-jp-nb-block relative group/block"><p>Then, set up a query to find the entry with the site ID that we want (2S10). Preview the resulting geodataframe.</p></div><div id="oxzYjyZOtl" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Get all sites containing &#x27;2S10&#x27;
sites_with_2S10 = [site for site in LayerMeasurements.all_sites if &#x27;2S10&#x27; in site]
print(f&quot;Found {len(sites_with_2S10)} sites containing &#x27;2S10&#x27;:&quot;)
siteLocations = LayerMeasurements.get_sites(site_names=sites_with_2S10)
siteLocations
siteData_df = siteLocations </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="zI0JiSA9UC7PgXzb_OvgM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qnxRgqxLfL" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Form the query to receive site_id=&#x27;2S10&#x27; from the sites table
qry = session.query(SiteData).filter_by(site_id=&#x27;2S10&#x27;)

# Convert the record received into a geopandas dataframe
siteData_df = query_to_geopandas(qry, engine)

# Preview the resulting geopandas dataframe
siteData_df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="kcDLKoSuX9EFFdzKxUlnD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Qko6prp3IJ" class="myst-jp-nb-block relative group/block"><p>Inspect of the geodatframe’s metadata</p></div><div id="CVc1yXjmMc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># What is the coordinate reference system used here?
siteData_df.crs</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="f4n5ADr7Y6ScTx9Tf-9_v" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="I1Yb8g2tZ4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Preview the geometry of this geodataframe, we should see that it is a POINT
siteData_df.geometry</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="x1O1yHvkMIWMiP36uqaDO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JyeFhihsxT" class="myst-jp-nb-block relative group/block"><p>We can now plot our snow pit site from this <a target="_blank" rel="noreferrer" href="https://geopandas.org/docs/reference/api/geopandas.GeoDataFrame.plot.html" class="link">geodataframe<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> on top of the airborne IR image. Note we will first have to reproject the snow pit location to UTM12N since it is currently in geographic coordinates. (See more tips about plotting geodataframes <a target="_blank" rel="noreferrer" href="https://www.earthdatascience.org/courses/scientists-guide-to-plotting-data-in-python/plot-spatial-data/customize-vector-plots/python-change-spatial-extent-of-map-matplotlib-geopandas/" class="link">here<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>)</p></div><div id="SrncPPvmDp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(20,5)) # create a new matplotlib figure, set the figure size
ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;

# plot the airborne infrared image
airborne_ir.plot(cmap=&#x27;magma&#x27;, vmin=-10, vmax=10, ax=ax, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})

# Reproject siteData_df to match airborne_ir&#x27;s CRS (EPSG:26912)
siteData_df = siteData_df.to_crs(&#x27;EPSG:26912&#x27;)

# plot the location of the snow pit of interest
siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)

# set axes labels
ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)

# set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)
ax.set_xlim((735000, 760000)) # x axis limits
ax.set_ylim((4320000, 4325000)) # y axis limits

# set plot title
ax.set_title(&#x27;Location of Snow Pit 2S10\nwith Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="vsHfrM8rGD1sSGA8VldeO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Jxux2Pppsd" class="myst-jp-nb-block relative group/block"><p>Change the x and y axes limits (<a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html" class="link">set_xlim<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>, and <a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html" class="link">set_ylim<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>) to zoom in to our point of interest. In this case we can use <a target="_blank" rel="noreferrer" href="https://geopandas.readthedocs.io/en/latest/docs/reference/api/geopandas.GeoSeries.total_bounds.html" class="link">df<wbr/>.geometry<wbr/>.total<wbr/>_bounds<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to get the x and y values that define the area our geometry takes up. (In this case we have a point so it will return just the point’s location, but this would work if we had a polygon as well)</p></div><div id="aGnG4iUYCP" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size
ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;

# plot the airborne infrared image
airborne_ir.plot(cmap=&#x27;magma&#x27;, vmin=-10, vmax=10, ax=ax, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})

# plot the location of the snow pit of interest
siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)

# set axes limits
xmin, ymin, xmax, ymax = siteData_df.geometry.total_bounds # get the &quot;total bounds&quot; for our geometry
ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;
ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;

# set axes labels
ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)

# set plot title
ax.set_title(&#x27;Location of Snow Pit 2S10\nAirborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="LmzUdFTAMaolF6Xm0HMAs" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="p82AdAy8DD" class="myst-jp-nb-block relative group/block"><p><strong>Import the snow temperature timeseries dataset</strong></p><p>This data is <a target="_blank" rel="noreferrer" href="https://nsidc.org/data/SNEX20_VPTS_Raw/versions/1" class="link">available through NSIDC<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>, but we have already downloaded a local copy for this tutorial. (See the bonus notebook <a class="link" href="/snow-observations-cookbook/_preview/5./thermal-ir-data-download.ipynb">thermal<wbr/>-ir<wbr/>-data<wbr/>-download<wbr/>.ipynb</a> for more details about data access methods)</p><p>The raw data file doesn’t include the column names, so we need to set the column headers following the dataset’s README file.</p></div><div id="WwSaF3gnca" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">!cat data/snow-temperature-README.txt</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_uxTpHcuIPcx9QFZzpBc4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="nFJBbZByO6" class="myst-jp-nb-block relative group/block"><p>Create a list of column headers according to the readme above (for “GM1” which we can read was the datalogger at snowpit 2S10)</p></div><div id="UErAL9YdGc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">column_headers = [&#x27;table&#x27;, &#x27;year&#x27;, &#x27;doy&#x27;, &#x27;time&#x27;, # year, day of year, time of day (local time, UTC-7)
                  &#x27;rad_avg&#x27;, &#x27;rad_max&#x27;, &#x27;rad_min&#x27;, &#x27;rad_std&#x27;, # radiometer surface temperature
                  &#x27;sb_avg&#x27;, &#x27;sb_max&#x27;, &#x27;sb_min&#x27;, &#x27;sb_std&#x27;, # radiometer sensor body temperature (for calibration)
                  &#x27;temp1_avg&#x27;, &#x27;temp1_max&#x27;, &#x27;temp1_min&#x27;, &#x27;temp1_std&#x27;, # temperature at 5 cm below snow surface
                  &#x27;temp2_avg&#x27;, &#x27;temp2_max&#x27;, &#x27;temp2_min&#x27;, &#x27;temp2_std&#x27;, #               10 cm
                  &#x27;temp3_avg&#x27;, &#x27;temp3_max&#x27;, &#x27;temp3_min&#x27;, &#x27;temp3_std&#x27;, #               15 cm
                  &#x27;temp4_avg&#x27;, &#x27;temp4_max&#x27;, &#x27;temp4_min&#x27;, &#x27;temp4_std&#x27;, #               20 cm
                  &#x27;temp5_avg&#x27;, &#x27;temp5_max&#x27;, &#x27;temp5_min&#x27;, &#x27;temp5_std&#x27;, #               30 cm
                  &#x27;batt_a&#x27;,&#x27;batt_b&#x27;, # battery voltage data
                 ]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="vfKu0yE0wxL7NVtmu2tgL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KZQtIhsJV8" class="myst-jp-nb-block relative group/block"><p>Open the file as a pandas data frame with <a target="_blank" rel="noreferrer" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" class="link">read_csv<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></div><div id="rb5UDhx12V" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df = pd.read_csv(f&#x27;data/CR10X_GM1_final_storage_1.dat&#x27;,
                 header = None, names = column_headers) 

# After the filepath we specify header=None because the file doesn&#x27;t contain column headers, 
# then we specify names=column_headers to give our own names for each column.</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="y_sM2ND3cFfgTEUaH_1c6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ieQhvede6a" class="myst-jp-nb-block relative group/block"><p>We need to do some formatting of the data fields, but we can preview what we just loaded fist</p></div><div id="JheOFrOfp3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df.head() # show the first 5 rows of the dataframe</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="KNjtjDGJm_efVLF7Hjdgz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sj9hT8oeHz" class="myst-jp-nb-block relative group/block"><p>Data cleanup and formatting</p></div><div id="G6xnLzhTPN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a zero-padded time string (e.g. for 9:30 AM we are changing &#x27;930&#x27; into &#x27;0930&#x27;)
df[&#x27;time_str&#x27;] = [(&#x27;0&#x27; * (4 - len(str(df.time[i])))) + str(df.time[i]) for i in range(df.shape[0])]

# locate where rows have time_str == 2400 (midnight), and the whole column &#x27;doy&#x27;
# where we are at midnight, we need to shift one day forward
df.loc[df[&#x27;time_str&#x27;] == &#x27;2400&#x27;,&#x27;doy&#x27;] += 1

# and then change midnight from &#x27;2400&#x27; to &#x27;0000&#x27;
df.time_str.replace(&#x27;2400&#x27;, &#x27;0000&#x27;, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="JbnG1XNIO8DVBCEnEe2rA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="NfDCapjXpB" class="myst-jp-nb-block relative group/block"><p>This function lets us convert year and day of year (the format that the datalogger uses) to a pandas <a target="_blank" rel="noreferrer" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html" class="link">datetime index<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>:</p></div><div id="Y0pNYpvT5V" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def compose_date(years, months=1, days=1, weeks=None, hours=None, minutes=None,
                 seconds=None, milliseconds=None, microseconds=None, nanoseconds=None):
    &#x27;&#x27;&#x27;Compose a datetime object from various datetime components. This clever solution is from:
        https://stackoverflow.com/questions/34258892/converting-year-and-day-of-year-into-datetime-index-in-pandas&#x27;&#x27;&#x27;
    years = np.asarray(years) - 1970
    months = np.asarray(months) - 1
    days = np.asarray(days) - 1
    types = (&#x27;&lt;M8[Y]&#x27;, &#x27;&lt;m8[M]&#x27;, &#x27;&lt;m8[D]&#x27;, &#x27;&lt;m8[W]&#x27;, &#x27;&lt;m8[h]&#x27;,
             &#x27;&lt;m8[m]&#x27;, &#x27;&lt;m8[s]&#x27;, &#x27;&lt;m8[ms]&#x27;, &#x27;&lt;m8[us]&#x27;, &#x27;&lt;m8[ns]&#x27;)
    vals = (years, months, days, weeks, hours, minutes, seconds,
            milliseconds, microseconds, nanoseconds)
    return sum(np.asarray(v, dtype=t) for t, v in zip(types, vals)
               if v is not None)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="3ayxXRShR1G1gvVS0Xkw4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="kDGfdtpnTq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a datetime value from the date field and zero-padded time_str field, set this as our dataframe&#x27;s index
df.index = compose_date(df[&#x27;year&#x27;], 
                        days=df[&#x27;doy&#x27;], 
                        hours=df[&#x27;time_str&#x27;].str[:2],
                        minutes=df[&#x27;time_str&#x27;].str[2:])

# Remove entries that are from table &quot;102&quot; (this contains datalogger battery information we&#x27;re not interested in at the moment)
df = df[df.table != 102]

# drop the columns we no longer need
df.drop(columns=[&#x27;table&#x27;,&#x27;year&#x27;,&#x27;doy&#x27;,&#x27;time&#x27;,&#x27;time_str&#x27;,&#x27;batt_a&#x27;,&#x27;batt_b&#x27;], inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="p8OcxZnUp_U14fm2beFrW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ifhqnbQzH9" class="myst-jp-nb-block relative group/block"><p>Inspect the contents</p></div><div id="ZP9blOuPRj" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ypXTHt_N7mkSYIDyqvcU0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="dDuQtaCHa6" class="myst-jp-nb-block relative group/block"><p>Make a simple plot of the data. We are interested in the variable <code>rad_avg</code> which is the average temperature measured by the radiometer over each 5 minute period.</p></div><div id="hDCerMjWVH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.figure(figsize=(10,4))

# plot radiometer average temperature
df.rad_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;&#x27;, markersize=1, c=&#x27;k&#x27;, label=&#x27;Ground-based $T_s$&#x27;)


# set axes limits
plt.ylim((-35,5))
plt.xlim((pd.Timestamp(2020,2,5,11,0),pd.Timestamp(2020,2,12,16,0)))

# add a legend to the plot
plt.legend()

# set axes labels
plt.ylabel(r&#x27;Temperature [$C\degree$]&#x27;)
plt.xlabel(&#x27;Time&#x27;)

# add grid lines to the plot
plt.grid(&#x27;on&#x27;)

# set the plot title
plt.title(&#x27;Snow Surface Temperature at Snow Pit 2S10&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WMVP5_2VqcWTFsNn3wyT6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jxJ7b3IwhO" class="myst-jp-nb-block relative group/block"><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Bonus plot: look at snow temperatures below the snow surface</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><p>Add the following to the above plot to add lines for temperature recorded at each depth interval below the snow surface:</p><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre"># plot the snow temperature at each depth it was measured
df.temp1_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, markersize=1, c=[0.8,0.8,1], label=&#x27;Ts @ -5 cm&#x27;)
df.temp2_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, markersize=1, c=[0.6,0.6,1], label=&#x27;Ts @ -10 cm&#x27;)
df.temp3_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, markersize=1, c=[0.4,0.4,1], label=&#x27;Ts @ -15 cm&#x27;)
df.temp4_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, markersize=1, c=[0.2,0.2,1], label=&#x27;Ts @ -20 cm&#x27;)
df.temp5_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;.&#x27;, markersize=1, c=[0,0,1], label=&#x27;Ts @ -30 cm&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div></details></div><div id="pgvx9XtemT" class="myst-jp-nb-block relative group/block"><p>But then we want to focus on the date/time when our IR image was from, so zoom in on Feb 8th by changing our plot’s <a target="_blank" rel="noreferrer" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html" class="link">xlim<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> (using pandas <a target="_blank" rel="noreferrer" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html" class="link">Timestamps<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> for the x axis values).</p></div><div id="s5CIpmQGa9" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.figure(figsize=(10,4))

# plot radiometer average temperature
df.rad_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;&#x27;, markersize=1, c=&#x27;k&#x27;, label=&#x27;Ground-based $T_s$&#x27;)

# set axes limits
plt.ylim((-15,0)) # set some temperature y-axis limits for our plot
plt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020

# add a legend to the plot
plt.legend()

# set axes labels
plt.ylabel(r&#x27;Temperature [$C\degree$]&#x27;)
plt.xlabel(&#x27;Time&#x27;)

# add grid lines to the plot
plt.grid(&#x27;on&#x27;)

# set the plot title
plt.title(&#x27;Snow Surface Temperature at Snow Pit 2S10&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="COYGuZul_yJvz80YFBWlg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JlqVGXpFzA" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h3 id="compare-airborne-ir-against-the-ground-truth-snow-surface-temperature" class="relative group"><span class="heading-text">Compare Airborne IR against the “ground truth” snow surface temperature</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#compare-airborne-ir-against-the-ground-truth-snow-surface-temperature" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>What is the temperature at this point in the airborne IR image?</strong></p><p>Use rioxarray’s <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/clip_geom.html" class="link">clip<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> function to extract the raster values that intersect with the point’s geometry. Because we have a point, this will return a single value for the pixel that overlaps this point.</p></div><div id="F3sTCjpxmJ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># clip using our point&#x27;s geometry
airborne_ir_point_temperature = airborne_ir.rio.clip(siteData_df.geometry)

# preview the result
airborne_ir_point_temperature</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="biz6EeDWEkrNmhbVLUmJY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QGhrDxBlaH" class="myst-jp-nb-block relative group/block"><p>Our result is a DataArray with a single data value at one set of x and y coordinates.</p><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Pixel = Point ?</div></div><div class="myst-admonition-body px-4 py-1"><p>Should we expect that the temperature measured for an image pixel would be the same for an individual point on the ground? The airborne imagery is at 5 meter spatial resolution, whereas our ground-based radiometer measured a spot maybe only ~1 m in diameter. Additionally, the geolocation of the airborne imagery is less accurate than 5 meters (closer to 10-15 meters) meaning that if we picked a single pixel to overlap our ground point, it may be the wrong pixel. Let’s instead look at the average and distribution of temperatures from the airborne imagery in an area around this point.</p></div></aside><p>Add a 100 m radius <a target="_blank" rel="noreferrer" href="https://geopandas.org/docs/reference/api/geopandas.GeoSeries.buffer.html" class="link">buffer<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> around this point and get the temperature from the airborne imagery for a larger area around the snow pit.</p></div><div id="ufG1d2Be46" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">r = 100 # radius of the buffer in meters (this is in meters because we are working in a UTM coordinate reference system)

# create the buffered geometry
siteData_df_buffer = siteData_df.buffer(r)

# preview the resulting geometry, we should see this is a POLYGON now
siteData_df_buffer</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="m6-lLT8wUc53mdHpM6zQT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zkO0pcFmrv" class="myst-jp-nb-block relative group/block"><p>What does this polygon look like when we plot it on top of the airborne IR image now?</p></div><div id="Q5CfmWTxvp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size
ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;

# plot the airborne infrared image
airborne_ir.plot(cmap=&#x27;magma&#x27;, vmin=-10, vmax=10, ax=ax, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})

# plot the location of the snow pit of interest
siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)

# plot the area of the buffer we made around the snow pit
siteData_df_buffer.plot(ax=ax, edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)

# set the same axes limits as above
ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;
ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;

# set axes labels
ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)

# set plot title
ax.set_title(&#x27;Location of Snow Pit 2S10, and 100 m radius buffer\nwith ASTER Band 14 TIR imagery&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Wi2FRai107xtDp2GE3Tj_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="skX1eXH8Wt" class="myst-jp-nb-block relative group/block"><p>Clip the airborne IR raster again, now with our 200 m diameter polygon around the snow pit site.</p></div><div id="HBrnR3WLV1" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># clip using our new geometry
airborne_ir_area_temperature = airborne_ir.rio.clip(siteData_df_buffer.geometry)

# preview the result
airborne_ir_area_temperature</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="28euJApGjZ7wHPgKgKo0M" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QFW34G06Kv" class="myst-jp-nb-block relative group/block"><p>The result of clipping is again a DataArray, this time though it is 40x40. We can plot this to see what it looks like, and to see the distribution of temperatures in the area.</p></div><div id="IlKKH5TS0C" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)

# plot the portion of the airborne TIR image we selected within the buffer area geometry
airborne_ir_area_temperature.plot(cmap=&#x27;magma&#x27;, vmin=-7, vmax=-4, ax=ax[0], 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
ax[0].set_title(&#x27;Airborne TIR image within\n100 m radius buffer (2S10)\n&#x27;)
ax[0].set_aspect(&#x27;equal&#x27;)
ax[0].set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax[0].set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
ax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point&#x27;s &quot;total bounds&quot;
ax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point&#x27;s &quot;total bounds&quot;

# plot the location of the snow pit of interest to the plot
siteData_df.plot(ax=ax[0], color=&#x27;c&#x27;, marker=&#x27;x&#x27;)

# plot the area of the buffer we made around the snow pit
siteData_df_buffer.plot(ax=ax[0], edgecolor=&#x27;c&#x27;, facecolor=&#x27;none&#x27;)

# plot a histogram of image temperature data within the buffer area geometry
airborne_ir_area_temperature.plot.hist(ax=ax[1],
                                       color=&#x27;k&#x27;, 
                                       zorder=1, # use zorder to make sure this plots below the point
                                       label=&#x27;zonal $T_S$ histogram&#x27;) 

# plot a vertical line for the single-pixel temperature we think is right at the snow pit
ax[1].axvline(airborne_ir_point_temperature, 
              color=&#x27;c&#x27;,linestyle=&#x27;--&#x27;,  # set color and style
              zorder=2, # use zorder to make sure this plots on top of the histogram
              label=&#x27;$T_S$ single pixel&#x27;) 

# plot a vertical line for the mean temperature within the buffer area geometry
ax[1].axvline(airborne_ir_area_temperature.mean(), 
              color=&#x27;m&#x27;,linestyle=&#x27;--&#x27;,  # set color and style
              zorder=2, # use zorder to make sure this plots on top of the histogram
              label=&#x27;zonal mean $T_S$&#x27;) 

ax[1].legend(loc=&#x27;upper left&#x27;) # add a legend
ax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot
ax[1].set_ylim((0,400)) # set ylim
ax[1].set_title(&#x27;Snow surface temperatures\nfrom Airborne TIR image (snow pit 2S10)&#x27;)
ax[1].set_ylabel(&#x27;Number of pixels&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XJ3OG8I6J4JYUxXTFvvDN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GfkLMSSxCC" class="myst-jp-nb-block relative group/block"><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">What do these plots tell us about the surface temperature around the snow pit as measured by the airborne IR cameras?</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><ul><li><p>Is the snow surface temperature more variable or uniform in this area?</p><ul><li><p>Note that we changed the minimum and maximum values of our colorbar!</p></li><li><p>Try computing the standard deviation of temperatures in this area</p></li></ul></li><li><p>How does our single pixel at the center compare with the rest of this area?</p><ul><li><p>Try taking the mean or median of all temperatures in the area and compare against the single point. What is the difference?</p></li></ul></li><li><p>See <cite class="" data-state="closed"><a href="https://doi.org/10.1016/j.rse.2018.03.001" target="_blank" rel="noreferrer" class="hover-link">Lundquist et al., 2018</a></cite> for an application of these methods with airborne and MODIS thermal infrared imagery</p></li></ul></div></details></div><div id="mhLTwAyoCa" class="myst-jp-nb-block relative group/block"><p><strong>Plot the airborne IR temperature data on top of the ground-based timeseries</strong></p></div><div id="egh59BQDcD" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.figure(figsize=(10,4))

# plot radiometer average temperature
df.rad_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;&#x27;, markersize=1, c=&#x27;k&#x27;, label=&#x27;Ground-based $T_s$&#x27;)

# plot the mean airborne IR temperature from the area around the snow pit:
plt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),
         marker=&#x27;o&#x27;, c=&#x27;r&#x27;, linestyle=&#x27;none&#x27;,
         label=&#x27;Airborne IR mean $T_s$ for 100 m radius area&#x27;)

# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit
plt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),
             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], 
                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],
            capsize=3, fmt=&#x27;none&#x27;, ecolor=&#x27;r&#x27;,
            label=&#x27;Airborne IR $T_s$ range for 100 m radius area&#x27;)


# set axes limits
plt.ylim((-15,0))
plt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020

# add a legend to the plot
plt.legend()

# set axes labels
plt.ylabel(r&#x27;Temperature [$C\degree$]&#x27;)
plt.xlabel(&#x27;Time&#x27;)

# add grid lines to the plot
plt.grid(&#x27;on&#x27;)

# set the plot title
plt.title(&#x27;Snow Surface Temperature at Snow Pit 2S10&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="cr2H9Gg-lH4PwtgMFd3mu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ti46lRrbQC" class="myst-jp-nb-block relative group/block"><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Continuing with this analysis:</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><p>In the above plot we’ve added “error bars” to represent the full range of temperatures within the 100 m radius area around the snow pit.</p><ul><li><p>Is this a fair comparison?</p></li><li><p>Should we make the area smaller based on our confidence in the image’s geolocation accuracy (10-15 m)?</p></li><li><p>What is the difference between the “ground truth” data and the airborne IR data at this point in time?</p></li></ul></div></details></div><div id="w0Ptycyn5p" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="part-2-satellite-ir-remote-sensing-obsevations" class="relative group"><span class="heading-text">Part 2: Satellite IR remote sensing obsevations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#part-2-satellite-ir-remote-sensing-obsevations" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="satellite-ir-imagery-with-aster" class="relative group"><span class="heading-text">Satellite IR imagery with ASTER</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#satellite-ir-imagery-with-aster" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Advantages of satellite IR images:</strong> We don’t always have airplanes with IR cameras flying around. Satellites can provide images at more regular intervals for long-term studies, and can see areas that are difficult to access on the ground or by air.</p><details class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500 dropdown"><summary class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900 cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">What might be some diadvantages of satellite IR imagery compared to airborne IR imagery?</div><div class="self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none transition-transform details-toggle"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></summary><div class="myst-admonition-body px-4 py-1 details-body"><ul><li><p>Lower spatial resolution because they’re further away from the Earth’s surface</p></li><li><p>Mixed pixel problem: with lower image resolutions, each pixel contains a more heterogeneous mixtures of surfaces and temperatures, meaning that temperature information is more blurred together</p></li><li><p>What other disadvantages can you think of?</p></li><li><p>How might these differences (advantages or disadvantages) change the type of research questions you can investigate?</p></li></ul></div></details><p>For this tutorial, we will look at an image from NASA’s <a target="_blank" rel="noreferrer" href="https://asterweb.jpl.nasa.gov/" class="link">Advanced Spaceborne Thermal Emission and Reflection Radiometer<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> (ASTER) imager, which is onboard the Terra satellite along with a MODIS imager. We can compare an ASTER IR image of Grand Mesa that was taken at roughly the same time as the airborne IR image. The ASTER image we will be working with is from ASTER’s <a target="_blank" rel="noreferrer" href="https://asterweb.jpl.nasa.gov/characteristics.asp" class="link">band 14<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> which is sensitive to radiance in the 10.95-11.65 µm wavelength range.</p></div><div id="JPZqocKC7X" class="myst-jp-nb-block relative group/block"><p>Load an ASTER geotiff that we’ve downloaded for this tutorial, and inspect its contents.</p></div><div id="Yt8reQCCED" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_ir = rioxarray.open_rasterio(S3_BASE_URL + &#x27;AST_L1T_00302082020180748_20200209065849_17218_ImageData14.tif&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="y-ZfYYc26rGxyXFQf2ukE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="r3dbNqDXfL" class="myst-jp-nb-block relative group/block"><p>Inspect the ASTER file we just opened</p></div><div id="reGvjWgZGq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_ir</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Y0gIlg58Iu9OWI2WPJiB6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="my9K2BKwGg" class="myst-jp-nb-block relative group/block"><p>What is its CRS?</p></div><div id="kUrZmWiICm" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_ir.rio.crs</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0ZpWkWxVU0JYg25_CniBk" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="jevtTtSmrB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Reproject this ASTER image into our common coordinate system
aster_ir = aster_ir.rio.reproject(&#x27;EPSG:26912&#x27;) # overwrite itself with new reprojected data array</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="jmgJN9r-H6KSnLX3tTtn3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="MQlAZEGaKj" class="myst-jp-nb-block relative group/block"><p>When was this image taken?</p></div><div id="JuDyl0RFYb" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_ir_timestamp = pd.Timestamp(2020,2,8,18,7,48) - pd.Timedelta(hours=7)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Rf3L69ZHEO39pJsxUlsgF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ujaG5PosZU" class="myst-jp-nb-block relative group/block"><p>Plot the image. What are the units of the values on the colorbar?</p></div><div id="ZpoPIcrDib" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_ir.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ugbU509K38uqrJjENrUUT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XVYHGbFs90" class="myst-jp-nb-block relative group/block"><p>It’s necessary to read the product documentation to understand what we are looking at here.</p><p>We are using the <em>ASTER Level 1 Precision Terrain Corrected Registered At-Sensor Radiance</em> (AST_L1T) product. <a target="_blank" rel="noreferrer" href="https://lpdaac.usgs.gov/products/ast_l1tv003/" class="link">Product documentation is available here<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. Also helpful is the ** (AST_L1B) <a target="_blank" rel="noreferrer" href="https://lpdaac.usgs.gov/products/ast_l1bv003/" class="link">product documentation here<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> from which AST_L1T is derived.</p><p>The values here are stored as scaled “digital number” (DN) values rather than the actual radiance values. The product documentation also provides information about how to unscale these values back into radiance units, and from radiance to brightness temperature, using laboratory calibrated constants.</p><p>I’ve written two functions here to do this unit conversion for the five ASTER TIR bands in two steps (DN to radiance, radiance to brightness temperature). The function takes as its arguments the DN or radiance values respectively, and the band number (in our case band number <code>14</code>, <em>not the band wavelengths</em>).</p></div><div id="hmHKWzSkDt" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">def tir_dn2rad(DN, band):
    &#x27;&#x27;&#x27;Convert AST_L1T Digital Number values to At-Sensor Radiance for the TIR bands (bands 10-14).&#x27;&#x27;&#x27;
    ucc = [6.822e-3, 6.780e-3, 6.590e-3, 5.693e-3, 5.225e-3]
    rad = (DN-1.) * ucc[band-10]
    return rad

def tir_rad2tb(rad, band):
    &#x27;&#x27;&#x27;Convert AST_L1T At-Sensor Radiance to Brightness Temperature [K] for the TIR bands (bands 10-14).&#x27;&#x27;&#x27;
    k1 = [3047.47, 2480.93, 1930.80, 865.65, 649.60]
    k2 = [1736.18, 1666.21, 1584.72,1349.82, 1274.49]
    tb = k2[band-10] /  np.log((k1[band-10]/rad) + 1)
    return tb</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="tZDhWAbG8sWR-IcU-YBYD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ohgWm0Cgwz" class="myst-jp-nb-block relative group/block"><p>Use the above functions to convert from DN to radiance, radiance to brightness temperature (assume and emissivity of 1 for all surfaces, note that the airborne imagery also assumed emissivity of 1).</p><p>Then convert from degeees K to degrees C by subtracting 273.15.</p></div><div id="uEgGjAQGHC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_band14_rad = tir_dn2rad( aster_ir, band=14 ) # convert from DN to radiance
aster_band14_tb_k = tir_rad2tb( aster_band14_rad, band=14 ) # convert from radiance to brightness temperature (K)
aster_band14_tb_c = aster_band14_tb_k - 273.15 # convert from K to C

# Note that an &quot;invalid value encountered...&quot; warning may pop up here. This is because the above function tries to take the log of &quot;nan&quot; values that are outside the imaged area
# we can ignore this warning and proceed</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FVCrJ0bybigk42f8ekq_F" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wEkDuUN2cT" class="myst-jp-nb-block relative group/block"><p>During this unit conversion, xarray dropped the coordinate reference system attributes, so here we add the original crs to the new ASTER degrees celsius dataarray.</p></div><div id="vK7FK53FPF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">aster_band14_tb_c.rio.set_crs(aster_ir.rio.crs, inplace=True);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="H0SKr8Obx8NcRd_uscBMd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="rcWoCAzBoG" class="myst-jp-nb-block relative group/block"><p>Plot our image again, this time setting our colorscale and colorbar values. We should see “realistic” surface temperature values in degrees C now.</p></div><div id="GAH5W7KtRz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(figsize=(15,10))
ax.set_aspect(&#x27;equal&#x27;)
aster_band14_tb_c.plot(ax=ax,
                       cmap=&#x27;magma&#x27;, 
                       vmin=-20, vmax=20, # note that we have a wider temperature range on our colorbar for this image, -20 to +20 C instead of -10 to +10 C
                       cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="l1-EdMXvdvMQfHQcRvQaf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qhWdp3F0t9" class="myst-jp-nb-block relative group/block"><aside class="myst-admonition myst-admonition-hint my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600 hint"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Image interpretation</div></div><div class="myst-admonition-body px-4 py-1"><ul><li><p>What does our chosen colorscale tell us about temperatures here?</p></li><li><p>What can we see?</p><ul><li><p>What do you think that cold linear feature across the image is? (Hint: think about the cold object we saw in the airborne IR image)</p></li></ul></li></ul></div></aside></div><div id="Xbf6T5eiqx" class="myst-jp-nb-block relative group/block"><ul><li></li></ul><p><strong>Plot ASTER next to Airborne IR to see spatial resolution differences</strong></p></div><div id="scLZoq1esz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(12,6), tight_layout=True)

aster_band14_tb_c.plot(ax=axs[0], 
                       cmap=&#x27;magma&#x27;, 
                       vmin=-10, vmax=10, 
                       cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[0].set_title(&#x27;ASTER IR&#x27;)
axs[0].set_aspect(&#x27;equal&#x27;)


airborne_ir.plot(ax=axs[1], 
                 cmap=&#x27;magma&#x27;, 
                 vmin=-10, vmax=10, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[1].set_title(&#x27;Airborne IR&#x27;)
axs[1].set_aspect(&#x27;equal&#x27;)

# for each subplot, do the following:
for ax in axs: 
    ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;
    
    # plot the location of the snow pit of interest
    siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)
    # plot the area of the buffer we made around the snow pit
    siteData_df_buffer.plot(ax=ax, edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)
    
    # set axes labels and limits
    ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
    ax.set_xlim((735000, 760000))
    ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
    ax.set_ylim((4320000, 4325000))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FPDAFVhtSe4BVv3mWtzHD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GPts2dLszi" class="myst-jp-nb-block relative group/block"><p>Make another plot to zoom in on snow pit 2S10:</p></div><div id="vWHnNyUKRK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(12,4), tight_layout=True)

aster_band14_tb_c.plot(ax=axs[0], 
                       cmap=&#x27;magma&#x27;, 
                       vmin=-10, vmax=10, 
                       cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[0].set_title(&#x27;ASTER IR&#x27;)
axs[0].set_aspect(&#x27;equal&#x27;)


airborne_ir.plot(ax=axs[1], 
                 cmap=&#x27;magma&#x27;, 
                 vmin=-10, vmax=10, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[1].set_title(&#x27;Airborne IR&#x27;)
axs[1].set_aspect(&#x27;equal&#x27;)

# for each subplot, do the following:
for ax in axs: 
    ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;
    
    # plot the location of the snow pit of interest
    siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)
    # plot the area of the buffer we made around the snow pit
    siteData_df_buffer.plot(ax=ax, edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)
    
    # set axes labels
    ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
    ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
    # set the same axes limits as above
    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;
    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Ctprw24OsP1S9qR8GhZws" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="F0IZ9XvDBj" class="myst-jp-nb-block relative group/block"><p>Get the temperature of the ASTER pixel at the snow pit point using rioxarray <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/clip_geom.html" class="link">clip<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p></div><div id="p247BUUfBf" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># First clip to the single point
aster_band14_tb_c_point_temperature = aster_band14_tb_c.rio.clip(siteData_df.geometry)

# Second clip to the 100 m radius buffered area
aster_band14_tb_c_area_temperature = aster_band14_tb_c.rio.clip(siteData_df_buffer.geometry)

# preview the result
aster_band14_tb_c_area_temperature</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EIssfp-O0QYU0Q2LQJC3M" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cdMAvu0syx" class="myst-jp-nb-block relative group/block"><p>How many ASTER pixels in the area did we select?</p><p>Plot the clipped area:</p></div><div id="NETgjRFPg2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)

# plot the portion of the airborne TIR image we selected within the buffer area geometry
aster_band14_tb_c_area_temperature.plot(cmap=&#x27;magma&#x27;, vmin=-7, vmax=-4, ax=ax[0], 
                 cbar_kwargs={&#x27;label&#x27;: &#x27;Temperature $\degree C$&#x27;})
ax[0].set_title(&#x27;ASTER TIR image within\n100 m radius buffer (2S10)\n&#x27;)
ax[0].set_aspect(&#x27;equal&#x27;)
ax[0].set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax[0].set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
ax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point&#x27;s &quot;total bounds&quot;
ax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point&#x27;s &quot;total bounds&quot;

# plot the location of the snow pit of interest to the plot
siteData_df.plot(ax=ax[0], color=&#x27;r&#x27;, marker=&#x27;x&#x27;)

# plot the area of the buffer we made around the snow pit
siteData_df_buffer.plot(ax=ax[0], edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)

# plot a histogram of image temperature data within the buffer area geometry
aster_band14_tb_c_area_temperature.plot.hist(ax=ax[1], color=&#x27;k&#x27;);
ax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot
ax[1].set_title(&#x27;Histogram of temperatures from ASTER TIR image\n100 m radius buffer (2S10)&#x27;)
ax[1].set_ylabel(&#x27;Number of pixels&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="IZgjIPs4OzWdceuJGs7jg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="HoQMJ1QoQS" class="myst-jp-nb-block relative group/block"><p><strong>Plot the ASTER IR temperature data on top of the ground-based timeseries and airborne IR temperature</strong></p></div><div id="RaPatR9RPT" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">plt.figure(figsize=(10,4))

# plot radiometer average temperature
df.rad_avg.plot(linestyle=&#x27;-&#x27;, marker=&#x27;&#x27;, markersize=1, c=&#x27;k&#x27;, label=&#x27;Ground-based $T_s$&#x27;)

# plot the mean airborne IR temperature from the area around the snow pit:
plt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),
         marker=&#x27;o&#x27;, c=&#x27;r&#x27;, linestyle=&#x27;none&#x27;,
         label=&#x27;Airborne IR mean $T_s$ for 100 m radius area&#x27;)
# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit
plt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),
             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], 
                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],
            capsize=3, fmt=&#x27;none&#x27;, ecolor=&#x27;r&#x27;,
            )#label=&#x27;Airborne IR $T_s$ range for 100 m radius area&#x27;)

# plot the mean ASTER IR temperature from the area around the snow pit:
plt.plot(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),
         marker=&#x27;o&#x27;, c=&#x27;b&#x27;, linestyle=&#x27;none&#x27;,
        label=&#x27;ASTER IR mean $T_s$ for 100 m radius area&#x27;)
# plot an error bar showing the maximum and minimum ASTER IR temperature around the snow pit
plt.errorbar(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),
             yerr=[[aster_band14_tb_c_area_temperature.mean()-aster_band14_tb_c_area_temperature.min()], 
                   [aster_band14_tb_c_area_temperature.max()-aster_band14_tb_c_area_temperature.mean()]],
            capsize=3, fmt=&#x27;none&#x27;, ecolor=&#x27;b&#x27;,
            )#label=&#x27;ASTER IR $T_s$ range for 100 m radius area&#x27;)


# set axes limits
plt.ylim((-15,0))
plt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020

# add a legend to the plot
plt.legend()

# set axes labels
plt.ylabel(&#x27;Temperature [$C\degree$]&#x27;)
plt.xlabel(&#x27;Time&#x27;)

# add grid lines to the plot
plt.grid(&#x27;on&#x27;)

# set the plot title
plt.title(&#x27;Snow Surface Temperature at Snow Pit 2S10&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0nEoTpoQ4QYGlKhVolHsS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Pbv8u9H7xo" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h4 id="bonus-activity-comparing-two-thermal-ir-rasters" class="relative group"><span class="heading-text">Bonus activity: comparing two thermal IR rasters</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#bonus-activity-comparing-two-thermal-ir-rasters" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>How does the finer spatial resolution airborne IR image compare with the coarser resolution ASTER IR image?</p><p>One way to compare these two images is to “upscale” the finer resolution airborne IR image to the same spatial resolution as ASTER.</p><p>We can use the rioxarray <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject_match" class="link">reproject_match<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> function to do this. (<a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/examples/reproject_match.html" class="link">also see this example<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>)</p><p>Note that this function has <a target="_blank" rel="noreferrer" href="https://rasterio.readthedocs.io/en/stable/api/rasterio.enums.html#rasterio.enums.Resampling" class="link">multiple options<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> for how we want to resample the image data to the new spatial resolution. We will use <code>resampling=5</code> which corresponds to taking the mean value.</p></div><div id="yAXEqMGGOo" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir_repr = airborne_ir.rio.reproject_match(aster_ir, resampling=5)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="RKGu3pckipvvJhEjlje0B" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OC01pGhdov" class="myst-jp-nb-block relative group/block"><p>Preview the result.</p><ul><li><p>What are the image dimensions of the reprojected airborne IR image compared with the original?</p></li></ul></div><div id="ALdmiz81iG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">airborne_ir_repr</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="h0Nw6a4todIkVx9X6x1Z9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="JsuWE1LdCq" class="myst-jp-nb-block relative group/block"><p>Plot the ASTER image, original airborne IR image, and resampled airborne IR image next to each other to visualize these spatial resolution differences.</p></div><div id="Kx7309C4ba" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15,4), tight_layout=True)

# ASTER IR image
aster_band14_tb_c.plot(ax=axs[0], 
                       cmap=&#x27;magma&#x27;, 
                       vmin=-10, vmax=10, 
                       cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[0].set_title(&#x27;ASTER IR&#x27;)
axs[0].set_aspect(&#x27;equal&#x27;)

# Original airborne IR image
airborne_ir.plot(ax=axs[1], 
                 cmap=&#x27;magma&#x27;, 
                 vmin=-10, vmax=10, 
                 cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[1].set_title(&#x27;Airborne IR&#x27;)
axs[1].set_aspect(&#x27;equal&#x27;)

# Resampled airborne IR image
airborne_ir_repr.plot(ax=axs[2], 
                      cmap=&#x27;magma&#x27;, 
                      vmin=-10, vmax=10, 
                      cbar_kwargs={&#x27;label&#x27;: r&#x27;Temperature $\degree C$&#x27;})
axs[2].set_title(&#x27;Airborne IR resampled (mean)\nto ASTER resolution (90m)&#x27;)
axs[2].set_aspect(&#x27;equal&#x27;)


# for each subplot, do the following:
for ax in axs: 
    ax.set_aspect(&#x27;equal&#x27;) # set the aspect ratio to &quot;equal&quot;
    
    # plot the location of the snow pit of interest
    siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)
    # plot the area of the buffer we made around the snow pit
    siteData_df_buffer.plot(ax=ax, edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)
    
    # set axes labels
    ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
    ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
    # set the same axes limits as above
    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;
    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="13Lrsomimo5Umx8s107-Z" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="KSDDhG86IY" class="myst-jp-nb-block relative group/block"><p>Finally, compute the difference between the ASTER IR image and resampled airborne IR image, then plot the result:</p></div><div id="NuwwJLhWnv" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Subtract reprojected airborne IR image from ASTER IR image
difference_image = aster_band14_tb_c - airborne_ir_repr</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6wQsVxfiSib2EwGXdSSVT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ZM38gU9jcb" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(6,5), tight_layout=True)

# Difference image
difference_image.plot(ax=ax, 
                       cmap=&#x27;RdBu_r&#x27;, 
                       vmin=-10, vmax=10, 
                       cbar_kwargs={&#x27;label&#x27;: &#x27;Temperature $\degree C$&#x27;})
ax.set_title(&#x27;Temperature Difference\n(ASTER IR - Reprojected Airborne IR)\n&#x27;)
ax.set_aspect(&#x27;equal&#x27;)

# plot the location of the snow pit of interest
siteData_df.plot(ax=ax, color=&#x27;r&#x27;, marker=&#x27;x&#x27;)
# plot the area of the buffer we made around the snow pit
siteData_df_buffer.plot(ax=ax, edgecolor=&#x27;r&#x27;, facecolor=&#x27;none&#x27;)

# set axes labels
ax.set_xlabel(&#x27;Eastings UTM 12N (m)&#x27;)
ax.set_ylabel(&#x27;Northings UTM 12N (m)&#x27;)
# set the same axes limits as above
ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;
ax.set_ylim((ymin-1000, ymax+1000)); # y axis limits to +/- 1 km from our point&#x27;s &quot;total bounds&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="R_kf8ggZo4lvE3G2NowbY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="BVcXjyVRyE" class="myst-jp-nb-block relative group/block"><hr class="py-2 my-5 translate-y-2"/><h2 id="next-steps" class="relative group"><span class="heading-text">Next steps:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#next-steps" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="project-ideas-with-these-data" class="relative group"><span class="heading-text">Project ideas with these data:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#project-ideas-with-these-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><ul><li><p>Compare more snow pit temperature data (using snowexsql queries) against airborne and satellite IR imagery</p></li><li><p>Investigate spatial patterns of snow temperature from open areas to forested areas on the mesa, differences between ASTER and airborne IR imagery</p></li><li><p>Improved data visualization using <a target="_blank" rel="noreferrer" href="https://hvplot.holoviz.org/" class="link">hvplot<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> or something similar to create interactive plots of IR and/or visible imagery</p></li><li><p>Compare thermal infrared and SAR imagery, or snow temperature observations and snow model outputs</p></li></ul><aside class="myst-admonition myst-admonition-note my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-blue-500"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-blue-600 bg-blue-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-blue-600"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words">Note</div></div><div class="myst-admonition-body px-4 py-1"><p><em>Contact Steven Pestana during the hackweek for help accessing more airborne IR or visible imagery and related datasets</em></p></div></aside><h3 id="data-access-download-and-pre-processing" class="relative group"><span class="heading-text">Data access/download and pre-processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#data-access-download-and-pre-processing" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>See the jupyter notebook <a class="link" href="/snow-observations-cookbook/_preview/5./thermal-ir-data-download.ipynb">thermal<wbr/>-ir<wbr/>-data<wbr/>-download<wbr/>.ipynb</a> for more details about data access methods through the NASA EarthData API, and pre-processing ASTER data into geotiff images.</p><h3 id="additional-learning-resources" class="relative group"><span class="heading-text">Additional learning resources:</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#additional-learning-resources" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><aside class="myst-admonition myst-admonition-seealso my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-gray-50/10 dark:bg-stone-800 overflow-hidden myst-admonition-default rounded border-l-4 border-green-600"><div class="myst-admonition-header m-0 font-medium py-1 flex min-w-0 text-lg text-green-600 bg-green-50 dark:bg-slate-900"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none text-green-600"><path stroke-linecap="round" stroke-linejoin="round" d="m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path></svg><div class="myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words"><a target="_blank" rel="noreferrer" href="https://numpy.org" class="link">NumPy<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> learning resources:</div></div><div class="myst-admonition-body px-4 py-1"><ul><li><p><a href="https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_0.ipynb" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">NumPy and the ndarray</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://numpy.org/devdocs/user/absolute_beginners.html" class="link">NumPy: the absolute basics for beginners<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://scipy-lectures.org/intro/numpy/index.html" class="link">NumPy: creating and manipulating numerical data<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://scipy-lectures.org/advanced/advanced_numpy/index.html" class="link">Advanced NumPy<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://numpy.org/doc/stable/user/numpy-for-matlab-users.html" class="link">NumPy for MATLAB users<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li></ul><p><strong><a target="_blank" rel="noreferrer" href="https://xarray.pydata.org/en/stable/" class="link">Xarray<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> and <a target="_blank" rel="noreferrer" href="https://corteva.github.io/rioxarray/stable/" class="link">rioxarray<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> learning resources:</strong></p><ul><li><p><a href="https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_1.ipynb" class="hover-link" target="_blank" rel="noreferrer" data-state="closed">Introduction to xarray</a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://github.com/geohackweek/raster-2019" class="link">GeoHackWeek 2019 raster tools<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://rasterio.readthedocs.io/en/latest/" class="link">rasterio<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://scitools.org.uk/cartopy/docs/latest/" class="link">cartopy<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li></ul><p><strong><a target="_blank" rel="noreferrer" href="https://asterweb.jpl.nasa.gov/" class="link">ASTER<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> resources:</strong></p><ul><li><p><a target="_blank" rel="noreferrer" href="https://git.earthdata.nasa.gov/projects/LPDUR/repos/aster-l1t/browse" class="link">ASTER L1T Scripts and Tutorials<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li><li><p><a target="_blank" rel="noreferrer" href="https://github.com/UW-GDA/aster-thermal/" class="link">Validating ASTER Thermal Infrared Imaging for use in Snow Models<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></li></ul></div></aside></div><div id="GO5kMCxmqz" class="myst-jp-nb-block relative group/block"><p>Open an airborne TIR mosaic NetCDF file</p></div><div id="dKc223ViGE" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Open airborne TIR mosaic NetCDF file
with fsspec.open(S3_BASE_URL + &#x27;SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_APLUW.nc&#x27;) as f:
    ds = xr.open_dataset(f, decode_times=False)
    ds = ds.load()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="mto4qwfJL9WZjnGXBwa8S" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lyB5Y1ZSwM" class="myst-jp-nb-block relative group/block"><p>Inspect the dataset and its dimensions</p></div><div id="NBSvLrQ43F" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Preview the dataset
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="GT6dS3vP7o3t0yHykhXwA" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="y0Ztnk7Tmg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Take a look at the dimensions in the dataset
ds.dims</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="NLV5WFsNKJ4sKujq1dPvE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VEI0Ae7RE6" class="myst-jp-nb-block relative group/block"><p>There is an extra dimension (“na”) that we will want to drop, we will want to rename some of the dims, assign coordinates to those dims, and add a coordinate reference system for plotting.</p></div><div id="YNG5U1fJPH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Drop the extra &quot;na&quot; dimension from E_UTM, N_UTM, and time
ds[&#x27;E_UTM&#x27;] = ds[&#x27;E_UTM&#x27;].isel(na=0, drop=True)
ds[&#x27;N_UTM&#x27;] = ds[&#x27;N_UTM&#x27;].isel(na=0, drop=True)
ds[&#x27;time&#x27;] = ds[&#x27;time&#x27;].isel(na=0, drop=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="VLBKuYq2_ec9JaitTI23f" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="aYnJRiiehO" class="myst-jp-nb-block relative group/block"><p>Rename the dimensions to some easier to use names</p></div><div id="m4YfVd7zHu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Rename dims
ds = ds.rename({&quot;pass&quot; : &quot;time&quot;, 
                &quot;easting, x&quot; : &quot;easting&quot;, 
                &quot;northing, y&quot; : &quot;northing&quot;})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hR8uf6zX2llnPeWPX3eCq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xLG1OOG3gC" class="myst-jp-nb-block relative group/block"><p>This NetCDF file was generated in MATLAB, and the dates/times are in an epoch format. Use <a target="_blank" rel="noreferrer" href="https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp" class="link">utcfromtimestamp()<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> and <a target="_blank" rel="noreferrer" href="https://docs.python.org/3/library/datetime.html#datetime.date.isoformat" class="link">isoformat()<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to convert and reformat into a more convenient format.</p></div><div id="p9KuSRGDUq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Decode matlab (epoch) format times
utctime = [datetime.utcfromtimestamp(this_time).isoformat() for this_time in ds.time.values]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="EefzohGw44Kd0-gPTNs4e" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OtyAjJEIvc" class="myst-jp-nb-block relative group/block"><p>Assign and then transpose coordinates in our dataset</p></div><div id="OJlQHnnQfH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Assign coordinates to the &quot;northing&quot;,  &quot;easting&quot;, and &quot;time&quot; dimensions
ds = ds.assign_coords({&quot;time&quot;: utctime, &quot;northing&quot;: ds.N_UTM, &quot;easting&quot;: ds.E_UTM})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="p7y8F6Xcc6GUQNkoZ9WlI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xsmYrKHOmz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Transpose coords
ds = ds.transpose(&quot;time&quot;, &quot;northing&quot;, &quot;easting&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="dKIWZpq82bnXdgiQ__Tv1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RFXWn6ZVD1" class="myst-jp-nb-block relative group/block"><p>Set spatial dimensions then define which coordinate reference system the spatial dimensions are in</p></div><div id="BjhiAzKJw7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Write the coordinate reference system for the spatial dims with rioxarray
# https://github.com/corteva/rioxarray/issues/379
ds.rio.write_crs(&#x27;epsg:32612&#x27;, inplace=True,
                ).rio.set_spatial_dims(&#x27;easting&#x27;, &#x27;northing&#x27;, inplace=True,
                                      ).rio.write_coordinate_system(inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ryEX56kfP3dV2Nl6HiglH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div><section id="references" class="myst-bibliography article-grid subgrid-gap col-screen"><div><header class="myst-bibliography-header text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="myst-bibliography-item break-words" id="cite-Lundquist_2018">Lundquist, J. D., Chickadel, C., Cristea, N., Currier, W. R., Henn, B., Keenan, E., & Dozier, J. (2018). Separating snow and forest temperatures with thermal infrared remote sensing. <i>Remote Sensing of Environment</i>, <i>209</i>, 764–779. <a target="_blank" rel="noreferrer" href="https://doi.org/10.1016/j.rse.2018.03.001">10.1016/j.rse.2018.03.001</a></li></ol></div></section><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/snow-observations-cookbook/_preview/5/notebooks/gpr-lidar-hackweektutorial"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Observations</div>GPR and Lidar</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/snow-observations-cookbook/_preview/5/notebooks/timelapse-camera-tutorial"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Observations</div>Time-lapse Cameras</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/snow-observations-cookbook/_preview/5/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/notebooks/thermal-ir-tutorial","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.1","options":{"favicon":"/snow-observations-cookbook/_preview/5/build/config-item-9b3afca6-4cffb5473a32f29a0362263fb4b45e56.ico","logo":"/snow-observations-cookbook/_preview/5/build/config-item-24692dda-62d3a8eb66205c75b9682243ed409252.svg","logo_dark":"/snow-observations-cookbook/_preview/5/build/config-item-84d6d338-a86c868a7955444cd63d36280871ce09.svg","logo_url":"https://projectpythia.org","analytics_google":"G-T52X8HNYE8","folders":true},"parts":{},"nav":[{"title":"Home","url":"https://projectpythia.org"},{"title":"Foundations","url":"https://foundations.projectpythia.org"},{"title":"Cookbooks","url":"https://cookbooks.projectpythia.org/"},{"title":"Resources","url":"https://projectpythia.org/resource-gallery/"},{"title":"Community","url":"https://projectpythia.org/#join-us"}],"actions":[{"title":"Project Pythia","url":"https://projectpythia.org","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"bibliography":["/home/runner/work/snow-observations-cookbook/snow-observations-cookbook/references.bib"],"title":"Snow Observations Cookbook","authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"contributors":[{"id":"brian-rose","nameParsed":{"literal":"Brian E. J. Rose","given":"Brian E. J.","family":"Rose"},"name":"Brian E. J. Rose","orcid":"0000-0002-9961-3821","email":"brose@albany.edu","affiliations":["UAlbany"],"url":"https://brian-rose.github.io","github":"brian-rose","bluesky":"@brianejrose.bsky.social","linkedin":"https://www.linkedin.com/in/brian-rose-37bb55106/"},{"id":"clyne","nameParsed":{"literal":"John Clyne","given":"John","family":"Clyne"},"name":"John Clyne","orcid":"0000-0003-2788-9017","affiliations":["CISL"],"github":"clyne"},{"id":"jukent","nameParsed":{"literal":"Julia Kent","given":"Julia","family":"Kent"},"name":"Julia Kent","orcid":"0000-0002-5611-8986","affiliations":["CISL"],"github":"jukent"},{"id":"ktyle","nameParsed":{"literal":"Kevin Tyle","given":"Kevin","family":"Tyle"},"name":"Kevin Tyle","orcid":"0000-0001-5249-9665","affiliations":["UAlbany"],"github":"ktyle"},{"id":"andersy005","nameParsed":{"literal":"Anderson Banihirwe","given":"Anderson","family":"Banihirwe"},"name":"Anderson Banihirwe","orcid":"0000-0001-6583-571X","affiliations":["CarbonPlan"],"github":"andersy005"},{"id":"dcamron","nameParsed":{"literal":"Drew Camron","given":"Drew","family":"Camron"},"name":"Drew Camron","orcid":"0000-0001-7246-6502","affiliations":["Unidata"],"github":"dcamron"},{"id":"dopplershift","nameParsed":{"literal":"Ryan May","given":"Ryan","family":"May"},"name":"Ryan May","orcid":"0000-0003-2907-038X","affiliations":["Unidata"],"github":"dopplershift"},{"id":"mgrover1","nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","affiliations":["Argonne"],"github":"mgrover1"},{"id":"r-ford","nameParsed":{"literal":"Robert R. Ford","given":"Robert R.","family":"Ford"},"name":"Robert R. Ford","orcid":"0000-0001-5483-4965","affiliations":["UAlbany"],"github":"r-ford"},{"id":"kmpaul","nameParsed":{"literal":"Kevin Paul","given":"Kevin","family":"Paul"},"name":"Kevin Paul","orcid":"0000-0001-8155-8038","affiliations":["NVIDIA"],"github":"kmpaul"},{"id":"jnmorley","nameParsed":{"literal":"James Morley","given":"James","family":"Morley"},"name":"James Morley","orcid":"0009-0005-5193-7981","github":"jnmorley"},{"id":"erogluorhan","nameParsed":{"literal":"Orhan Eroglu","given":"Orhan","family":"Eroglu"},"name":"Orhan Eroglu","orcid":"0000-0003-3099-8775","affiliations":["CISL"],"github":"erogluorhan"},{"id":"lkailynncar","nameParsed":{"literal":"Lily Kailyn","given":"Lily","family":"Kailyn"},"name":"Lily Kailyn","orcid":"0009-0002-0125-5091","affiliations":["CISL"],"github":"lkailynncar"},{"id":"anissa111","nameParsed":{"literal":"Anissa Zacharias","given":"Anissa","family":"Zacharias"},"name":"Anissa Zacharias","orcid":"0000-0002-2666-8493","affiliations":["CISL"],"github":"anissa111"},{"id":"kafitzgerald","nameParsed":{"literal":"Katelyn FitzGerald","given":"Katelyn","family":"FitzGerald"},"name":"Katelyn FitzGerald","orcid":"0000-0003-4184-1917","affiliations":["CISL"],"github":"kafitzgerald"}],"github":"https://github.com/SnowEx/snow-observations-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"copyright":"2025","references":{"foundations":{"url":"https://foundations.projectpythia.org"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"executablebooks/thebe-binder-base","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/snowex_data_overview.ipynb"},{"file":"notebooks/snowexsql_database.ipynb"}],"title":"Data Access"},{"children":[{"file":"notebooks/GPR_Lidar_HackweekTutorial.ipynb"},{"file":"notebooks/thermal-ir-tutorial.ipynb"},{"file":"notebooks/timelapse-camera-tutorial.ipynb"},{"file":"notebooks/uavsar-tutorial.ipynb"},{"file":"notebooks/microstructure-tutorial.ipynb"},{"file":"notebooks/aviris-ng-tutorial.ipynb"},{"file":"notebooks/tls_data_access.ipynb"},{"file":"notebooks/snotel_data_access.ipynb"}],"title":"Observations"}],"thumbnail":"/snow-observations-cookbook/_preview/5/build/thumbnail-c869c6f136c62bbb5c59045dae119b4c.png","exports":[],"index":"index","pages":[{"level":1,"title":"Preamble"},{"slug":"notebooks.how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"notebooks.snowex-data-overview","title":"Field Campaigns Overview","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/01_banner-3c67ac52aaa2d793676c7acc5e1388cf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snowexsql-database","title":"SnowExSQL Database","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/data_examples-e77e821f225f0de724b7e89d19471f73.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Observations"},{"slug":"notebooks.gpr-lidar-hackweektutorial","title":"GPR and Lidar","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/HackweekGraphicalAbs-68093e2aabcb2ce53fac1570dde5851d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.thermal-ir-tutorial","title":"Thermal Infrared","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.timelapse-camera-tutorial","title":"Time-lapse Cameras","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-e99cc28480825ad66086bfeee5aa475b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.uavsar-tutorial","title":"UAVSAR","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/sthelens-de459014c82b4d12fd2ba9d1dd659e0a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.microstructure-tutorial","title":"Microstructure","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/dozier2009_fig2-293446ea9438f9d806f9efc2ed581557.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.aviris-ng-tutorial","title":"Introduction to AVIRIS-NG","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/Aviris-d012363c6519fff9ea04fefc540aa631.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.tls-data-access","title":"Terrestrial Laser Scanning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snotel-data-access","title":"SNOTEL Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/snow-observations-cookbook/_preview/5"},"routes/$":{"config":{"version":3,"myst":"1.7.1","options":{"favicon":"/snow-observations-cookbook/_preview/5/build/config-item-9b3afca6-4cffb5473a32f29a0362263fb4b45e56.ico","logo":"/snow-observations-cookbook/_preview/5/build/config-item-24692dda-62d3a8eb66205c75b9682243ed409252.svg","logo_dark":"/snow-observations-cookbook/_preview/5/build/config-item-84d6d338-a86c868a7955444cd63d36280871ce09.svg","logo_url":"https://projectpythia.org","analytics_google":"G-T52X8HNYE8","folders":true},"parts":{},"nav":[{"title":"Home","url":"https://projectpythia.org"},{"title":"Foundations","url":"https://foundations.projectpythia.org"},{"title":"Cookbooks","url":"https://cookbooks.projectpythia.org/"},{"title":"Resources","url":"https://projectpythia.org/resource-gallery/"},{"title":"Community","url":"https://projectpythia.org/#join-us"}],"actions":[{"title":"Project Pythia","url":"https://projectpythia.org","internal":false,"static":false}],"projects":[{"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"bibliography":["/home/runner/work/snow-observations-cookbook/snow-observations-cookbook/references.bib"],"title":"Snow Observations Cookbook","authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"contributors":[{"id":"brian-rose","nameParsed":{"literal":"Brian E. J. Rose","given":"Brian E. J.","family":"Rose"},"name":"Brian E. J. Rose","orcid":"0000-0002-9961-3821","email":"brose@albany.edu","affiliations":["UAlbany"],"url":"https://brian-rose.github.io","github":"brian-rose","bluesky":"@brianejrose.bsky.social","linkedin":"https://www.linkedin.com/in/brian-rose-37bb55106/"},{"id":"clyne","nameParsed":{"literal":"John Clyne","given":"John","family":"Clyne"},"name":"John Clyne","orcid":"0000-0003-2788-9017","affiliations":["CISL"],"github":"clyne"},{"id":"jukent","nameParsed":{"literal":"Julia Kent","given":"Julia","family":"Kent"},"name":"Julia Kent","orcid":"0000-0002-5611-8986","affiliations":["CISL"],"github":"jukent"},{"id":"ktyle","nameParsed":{"literal":"Kevin Tyle","given":"Kevin","family":"Tyle"},"name":"Kevin Tyle","orcid":"0000-0001-5249-9665","affiliations":["UAlbany"],"github":"ktyle"},{"id":"andersy005","nameParsed":{"literal":"Anderson Banihirwe","given":"Anderson","family":"Banihirwe"},"name":"Anderson Banihirwe","orcid":"0000-0001-6583-571X","affiliations":["CarbonPlan"],"github":"andersy005"},{"id":"dcamron","nameParsed":{"literal":"Drew Camron","given":"Drew","family":"Camron"},"name":"Drew Camron","orcid":"0000-0001-7246-6502","affiliations":["Unidata"],"github":"dcamron"},{"id":"dopplershift","nameParsed":{"literal":"Ryan May","given":"Ryan","family":"May"},"name":"Ryan May","orcid":"0000-0003-2907-038X","affiliations":["Unidata"],"github":"dopplershift"},{"id":"mgrover1","nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","affiliations":["Argonne"],"github":"mgrover1"},{"id":"r-ford","nameParsed":{"literal":"Robert R. Ford","given":"Robert R.","family":"Ford"},"name":"Robert R. Ford","orcid":"0000-0001-5483-4965","affiliations":["UAlbany"],"github":"r-ford"},{"id":"kmpaul","nameParsed":{"literal":"Kevin Paul","given":"Kevin","family":"Paul"},"name":"Kevin Paul","orcid":"0000-0001-8155-8038","affiliations":["NVIDIA"],"github":"kmpaul"},{"id":"jnmorley","nameParsed":{"literal":"James Morley","given":"James","family":"Morley"},"name":"James Morley","orcid":"0009-0005-5193-7981","github":"jnmorley"},{"id":"erogluorhan","nameParsed":{"literal":"Orhan Eroglu","given":"Orhan","family":"Eroglu"},"name":"Orhan Eroglu","orcid":"0000-0003-3099-8775","affiliations":["CISL"],"github":"erogluorhan"},{"id":"lkailynncar","nameParsed":{"literal":"Lily Kailyn","given":"Lily","family":"Kailyn"},"name":"Lily Kailyn","orcid":"0009-0002-0125-5091","affiliations":["CISL"],"github":"lkailynncar"},{"id":"anissa111","nameParsed":{"literal":"Anissa Zacharias","given":"Anissa","family":"Zacharias"},"name":"Anissa Zacharias","orcid":"0000-0002-2666-8493","affiliations":["CISL"],"github":"anissa111"},{"id":"kafitzgerald","nameParsed":{"literal":"Katelyn FitzGerald","given":"Katelyn","family":"FitzGerald"},"name":"Katelyn FitzGerald","orcid":"0000-0003-4184-1917","affiliations":["CISL"],"github":"kafitzgerald"}],"github":"https://github.com/SnowEx/snow-observations-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"copyright":"2025","references":{"foundations":{"url":"https://foundations.projectpythia.org"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"executablebooks/thebe-binder-base","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/snowex_data_overview.ipynb"},{"file":"notebooks/snowexsql_database.ipynb"}],"title":"Data Access"},{"children":[{"file":"notebooks/GPR_Lidar_HackweekTutorial.ipynb"},{"file":"notebooks/thermal-ir-tutorial.ipynb"},{"file":"notebooks/timelapse-camera-tutorial.ipynb"},{"file":"notebooks/uavsar-tutorial.ipynb"},{"file":"notebooks/microstructure-tutorial.ipynb"},{"file":"notebooks/aviris-ng-tutorial.ipynb"},{"file":"notebooks/tls_data_access.ipynb"},{"file":"notebooks/snotel_data_access.ipynb"}],"title":"Observations"}],"thumbnail":"/snow-observations-cookbook/_preview/5/build/thumbnail-c869c6f136c62bbb5c59045dae119b4c.png","exports":[],"index":"index","pages":[{"level":1,"title":"Preamble"},{"slug":"notebooks.how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"notebooks.snowex-data-overview","title":"Field Campaigns Overview","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/01_banner-3c67ac52aaa2d793676c7acc5e1388cf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snowexsql-database","title":"SnowExSQL Database","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/data_examples-e77e821f225f0de724b7e89d19471f73.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Observations"},{"slug":"notebooks.gpr-lidar-hackweektutorial","title":"GPR and Lidar","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/HackweekGraphicalAbs-68093e2aabcb2ce53fac1570dde5851d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.thermal-ir-tutorial","title":"Thermal Infrared","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.timelapse-camera-tutorial","title":"Time-lapse Cameras","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-e99cc28480825ad66086bfeee5aa475b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.uavsar-tutorial","title":"UAVSAR","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/sthelens-de459014c82b4d12fd2ba9d1dd659e0a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.microstructure-tutorial","title":"Microstructure","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/dozier2009_fig2-293446ea9438f9d806f9efc2ed581557.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.aviris-ng-tutorial","title":"Introduction to AVIRIS-NG","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/Aviris-d012363c6519fff9ea04fefc540aa631.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.tls-data-access","title":"Terrestrial Laser Scanning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snotel-data-access","title":"SNOTEL Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"34f8407e5921a0ea53c785de300d3b9a454b746b51c79c22021877c15230f5ed","slug":"notebooks.thermal-ir-tutorial","location":"/notebooks/thermal-ir-tutorial.ipynb","dependencies":[],"frontmatter":{"title":"Thermal Infrared","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"snow-observations-cookbook-test","language":"python"},"authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/SnowEx/snow-observations-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/SnowEx/snow-observations-cookbook/blob/HEAD/notebooks/thermal-ir-tutorial.ipynb","edit_url":"https://github.com/SnowEx/snow-observations-cookbook/edit/HEAD/notebooks/thermal-ir-tutorial.ipynb","thumbnail":"/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG","exports":[{"format":"ipynb","filename":"thermal-ir-tutorial.ipynb","url":"/snow-observations-cookbook/_preview/5/build/thermal-ir-tutorial-59e594ff3154566f6fbe86e93fbd7298.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"o8Aj3hJJ7T"}],"key":"yWUorrIEFC"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"At the conclusion of this tutorial, you will be able to:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Uk2Aywhfre"}],"key":"c9Cyvsxna9"}],"key":"C7BRMqa0AM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"understand the differences between sources of thermal IR observations, the advantages and disadvantages of each, and types of research questions we can address with those observations","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QyQC3nCZ6e"}],"key":"QpV8aHfQmp"}],"key":"xnOSRo5HIc"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"visualize point and raster thermal infrared datasets together, then compute error statistics between point and raster datasets","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zn5YxUY8ff"}],"key":"UEspxh4MDk"}],"key":"ML1Utx79ll"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"access and visualize airborne and satellite thermal infrared imagery, then scale imagery of different spatial resolutions for comparison","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BCw9qqbP68"}],"key":"C4WPvtNaws"}],"key":"d3qgIqAtwZ"}],"key":"yMjz5XuORC"}],"key":"tN3i4tmS63"}],"key":"wW8DS82NZk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download the sample datasets for this tutorial","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bYynPKH8ni"}],"key":"Nw7s6WhjWO"}],"key":"MVL19ipRx9"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For ease of access during the hackweek, sample files are available for download for running the command in the cell below. (See the bonus notebook “","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OhQFsQNxD7"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"thermal​-ir​-data​-download​.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wdAq8FHTY2"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"s1zOheIcdy"},{"type":"text","value":"” for more details about data access methods)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QmdyLTkdur"}],"key":"H1AkmRC5gv"}],"key":"GmGGwccjYB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# S3 base URL for tutorial data\nS3_BASE_URL = \"https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/\"","key":"vHpfeUEA2k"},{"type":"outputs","id":"UQzmSnRg57U1TOy1d67Fo","children":[],"key":"tT81BKqi9B"}],"key":"jfo79Qj5te"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the packages we’ll need for this tutorial","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uNJqExuswS"}],"key":"bThHs5sSM9"}],"key":"T8eZrXlhnB"}],"key":"Xqhgam1xxW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Import some general-purpose packages for handling different data structures\nimport numpy as np # for working with n-D arrays\nimport pandas as pd # for reading our csv data file and working with tabular data\n\n# Import matplotlib which we'll use for plotting images and graphs\nimport matplotlib.pyplot as plt\n\n# Import these packages for working with raster data\nimport xarray as xr # xarray lets us work with n-D arrays and labeled data, such as NetCDF files\nimport rioxarray # rioxarray provides capabilities of the rasterio package to xarray, letting us easily work with files such as GeoTIFFs\nimport fsspec\n\n# Import some packages for working with the SnowEx SQL database\nfrom snowexsql.lambda_client import SnowExLambdaClient\nfrom datetime import datetime # Import some tools to build dates \n","key":"FxjHCAI3Gs"},{"type":"outputs","id":"2AO-xrYwLYdwmO_-cUlI3","children":[],"key":"qOV6BJhzqT"}],"key":"zgiGKivMuo"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HvCFDznevE"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Part 1: Comparing airborne IR imagery with ground-truth observations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GHgagyrurS"}],"identifier":"part-1-comparing-airborne-ir-imagery-with-ground-truth-observations","label":"Part 1: Comparing airborne IR imagery with ground-truth observations","html_id":"part-1-comparing-airborne-ir-imagery-with-ground-truth-observations","implicit":true,"key":"sNndVaL8JK"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Airborne IR imagery","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lNwWZqmbll"}],"identifier":"airborne-ir-imagery","label":"Airborne IR imagery","html_id":"airborne-ir-imagery","implicit":true,"key":"cArpnKZUmr"},{"type":"image","url":"/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG","width":600,"key":"HyJfsDocHn","urlSource":"images/thermal-ir/twinotter1.JPG"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"The Naval Postgraduate School Twin Otter aircraft carried the UW APL thermal infrared imager and SWESARR instrument over Grand Mesa for SnowEx 2020. (Photo by Chris Chickadel)","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OOPswUdKXB"}],"key":"rQQ5DO3MyA"}],"key":"hhxdGIr1eQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load IR image mosaic geotiff file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IH5DuyK7XL"}],"key":"vOX8l6ECcO"}],"key":"JvEh8sDXbu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir = rioxarray.open_rasterio(S3_BASE_URL + 'SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif')","key":"RnaZ7A1Flf"},{"type":"outputs","id":"iGrF8H3izbjVBMNSk4unw","children":[],"key":"XxBuWNPNA9"}],"key":"KT0uBQmOce"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the contents of the file we just opened","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P6YeILB4P6"}],"key":"XlBMWWJSro"}],"key":"uPGFL7Rxmz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir","key":"X3FZIcFU1J"},{"type":"outputs","id":"hOTVNPNLFUiSS1pnIXr6l","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"\u003cxarray.DataArray (band: 1, y: 3848, x: 4398)\u003e Size: 68MB\n[16923504 values with dtype=float32]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    _FillValue:     nan\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp","content_type":"text/plain"},"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"📁\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-data \u003e pre,\n.xr-index-data \u003e pre,\n.xr-var-data \u003e table \u003e tbody \u003e tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label \u003e .xr-icon-file-text2,\n.xr-var-data-in:checked + label \u003e .xr-icon-database,\n.xr-index-data-in:checked + label \u003e .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray (band: 1, y: 3848, x: 4398)\u0026gt; Size: 68MB\n[16923504 values with dtype=float32]\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    Airborne thermal infrared imagery from University of Wash...\n    AREA_OR_POINT:  Area\n    _FillValue:     nan\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      STCtemp\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-obj-name'\u003e\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003eband\u003c/span\u003e: 1\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e: 3848\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e: 4398\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-4aa8e96f-d412-4fc2-9e84-e7cd3d7bc776' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-4aa8e96f-d412-4fc2-9e84-e7cd3d7bc776' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003e...\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003cpre\u003e[16923504 values with dtype=float32]\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-af3fadaf-8435-49b5-90e8-c29ef4244a03' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-af3fadaf-8435-49b5-90e8-c29ef4244a03' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(4)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003eband\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(band)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003eint64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e1\u003c/div\u003e\u003cinput id='attrs-8faf71b2-ee69-4881-964d-708048d22910' class='xr-var-attrs-in' type='checkbox' disabled\u003e\u003clabel for='attrs-8faf71b2-ee69-4881-964d-708048d22910' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-d2c1b3d7-b25c-4f17-81d3-05f10652e26e' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-d2c1b3d7-b25c-4f17-81d3-05f10652e26e' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([1])\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(y)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e4.332e+06 4.332e+06 ... 4.313e+06\u003c/div\u003e\u003cinput id='attrs-c6bc67d5-b212-4ecb-b767-2e9f1b786b74' class='xr-var-attrs-in' type='checkbox' disabled\u003e\u003clabel for='attrs-c6bc67d5-b212-4ecb-b767-2e9f1b786b74' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-a85fc11c-7139-46f1-9345-961a71676799' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-a85fc11c-7139-46f1-9345-961a71676799' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([4331897.084845, 4331892.085592, 4331887.086339, ..., 4312674.95715 ,\n       4312669.957897, 4312664.958644], shape=(3848,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(x)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e7.371e+05 7.371e+05 ... 7.591e+05\u003c/div\u003e\u003cinput id='attrs-4291d15a-0c00-4def-92f3-217059141f81' class='xr-var-attrs-in' type='checkbox' disabled\u003e\u003clabel for='attrs-4291d15a-0c00-4def-92f3-217059141f81' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-048fd082-694a-49a5-9a0d-b156e43a786a' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-048fd082-694a-49a5-9a0d-b156e43a786a' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([737079.866283, 737084.865536, 737089.864789, ..., 759051.583115,\n       759056.582368, 759061.581621], shape=(4398,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan\u003espatial_ref\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e()\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003eint64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e0\u003c/div\u003e\u003cinput id='attrs-7d7f175a-22a7-4afc-bcc2-4d5cdae6db98' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-7d7f175a-22a7-4afc-bcc2-4d5cdae6db98' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-dd91e6bc-70e8-4cd0-9a0d-bb313badea2e' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-dd91e6bc-70e8-4cd0-9a0d-bb313badea2e' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003ecrs_wkt :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCS[\u0026quot;WGS 84 / UTM zone 12N\u0026quot;,GEOGCS[\u0026quot;WGS 84\u0026quot;,DATUM[\u0026quot;WGS_1984\u0026quot;,SPHEROID[\u0026quot;WGS 84\u0026quot;,6378137,298.257223563,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;7030\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;6326\u0026quot;]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;8901\u0026quot;]],UNIT[\u0026quot;degree\u0026quot;,0.0174532925199433,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9122\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;4326\u0026quot;]],PROJECTION[\u0026quot;Transverse_Mercator\u0026quot;],PARAMETER[\u0026quot;latitude_of_origin\u0026quot;,0],PARAMETER[\u0026quot;central_meridian\u0026quot;,-111],PARAMETER[\u0026quot;scale_factor\u0026quot;,0.9996],PARAMETER[\u0026quot;false_easting\u0026quot;,500000],PARAMETER[\u0026quot;false_northing\u0026quot;,0],UNIT[\u0026quot;metre\u0026quot;,1,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9001\u0026quot;]],AXIS[\u0026quot;Easting\u0026quot;,EAST],AXIS[\u0026quot;Northing\u0026quot;,NORTH],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;32612\u0026quot;]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_major_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6378137.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_minor_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6356752.314245179\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003einverse_flattening :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e298.257223563\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ereference_ellipsoid_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_prime_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprime_meridian_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGreenwich\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egeographic_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ehorizontal_datum_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWorld Geodetic System 1984\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprojected_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eWGS 84 / UTM zone 12N\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egrid_mapping_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003etransverse_mercator\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elatitude_of_projection_origin :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e-111.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_easting :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e500000.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_northing :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003escale_factor_at_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.9996\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003espatial_ref :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCS[\u0026quot;WGS 84 / UTM zone 12N\u0026quot;,GEOGCS[\u0026quot;WGS 84\u0026quot;,DATUM[\u0026quot;WGS_1984\u0026quot;,SPHEROID[\u0026quot;WGS 84\u0026quot;,6378137,298.257223563,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;7030\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;6326\u0026quot;]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;8901\u0026quot;]],UNIT[\u0026quot;degree\u0026quot;,0.0174532925199433,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9122\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;4326\u0026quot;]],PROJECTION[\u0026quot;Transverse_Mercator\u0026quot;],PARAMETER[\u0026quot;latitude_of_origin\u0026quot;,0],PARAMETER[\u0026quot;central_meridian\u0026quot;,-111],PARAMETER[\u0026quot;scale_factor\u0026quot;,0.9996],PARAMETER[\u0026quot;false_easting\u0026quot;,500000],PARAMETER[\u0026quot;false_northing\u0026quot;,0],UNIT[\u0026quot;metre\u0026quot;,1,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9001\u0026quot;]],AXIS[\u0026quot;Easting\u0026quot;,EAST],AXIS[\u0026quot;Northing\u0026quot;,NORTH],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;32612\u0026quot;]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eGeoTransform :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e737077.3666563785 4.9992529765780835 0.0 4331899.5844718395 0.0 -4.99925297657805\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray(0)\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-917b22a9-ff72-402e-9028-a2f3ecf34845' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-917b22a9-ff72-402e-9028-a2f3ecf34845' class='xr-section-summary' \u003eAttributes: \u003cspan\u003e(6)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003edescription :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eAirborne thermal infrared imagery from University of Washington Applied Physics Lab Compact Airborne System for Imaging the Environment instrument. Imagery of Grand Mesa, Colorado from SnowEx 2020 field campaign.\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eAREA_OR_POINT :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eArea\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003e_FillValue :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003enan\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003escale_factor :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e1.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eadd_offset :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eSTCtemp\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"}}},"key":"IYFleefUWE"}],"key":"KdNho7ZZdq"}],"key":"qj3PiTKeFH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir.rio.crs # original CRS","key":"TWYzo5b1OD"},{"type":"outputs","id":"pgfTC2ZsDI9KLRUZ9MOUT","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"CRS.from_wkt('PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"32612\"]]')","content_type":"text/plain"}}},"key":"e2q4mHNZvW"}],"key":"KzGUX63GxO"}],"key":"hpFw2sa9fJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Under the dataarray’s attributes we can see that we have a coordinate reference system already defined (crs) as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lq43qPfcEG"},{"type":"link","url":"https://epsg.io/32612","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EPSG:32612","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wPVSLGKF1D"}],"urlSource":"https://epsg.io/32612","key":"tpvBJu51GN"},{"type":"text","value":". We can also find this through ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Thgcsp84HF"},{"type":"inlineCode","value":"da.rio.crs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wi1T1CNRH8"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O88ZQ6ACRi"}],"key":"FrPmfru67R"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"However, we would like to reproject this into the common projection used by datasets on the SnowEx SQL database: ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EGY4HRZKgT"},{"type":"link","url":"https://epsg.io/26912","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EPSG:26912","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xxzyKQyUbR"}],"urlSource":"https://epsg.io/26912","key":"jnzK7sLgY3"},{"type":"text","value":". We can do that using rioxarray’s ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oswYLPfyBu"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"reproject","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Wi9oVWkyAf"}],"urlSource":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject","key":"uDTbKY5Yex"},{"type":"text","value":" method (see an example ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HJZB5sObk9"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cdVheNB9iV"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject.html","key":"UN0dMuCHIe"},{"type":"text","value":").","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ASRVUG33yQ"}],"key":"BKShyOiA0Y"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"NOTE: Reprojections typically require a lot of processing time, so expect this cell to run for up to 1 minute.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"XLixqRKRD7"}],"key":"YozCfHVGhv"}],"key":"IcZ6Uip67k"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir = airborne_ir.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"EuUq2ewuG7"},{"type":"outputs","id":"kPG90c1ZGLRcKhrHrCpiz","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403\nWarning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403\n"},"key":"gG2YPMHT9O"}],"key":"g7I3wlDNPN"}],"key":"wzPcap25gL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir.rio.crs # new CRS","key":"vf2ULdipkO"},{"type":"outputs","id":"lHK50KnHel0ssfjIzW5un","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"CRS.from_wkt('PROJCS[\"NAD83 / UTM zone 12N\",GEOGCS[\"NAD83\",DATUM[\"North_American_Datum_1983\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6269\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4269\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"EPSG\",\"26912\"]]')","content_type":"text/plain"}}},"key":"eraMURJDZI"}],"key":"coIFbDdox2"}],"key":"fyqxqfdOmv"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next, the filename shows us when this imagery was taken in UTC time, “2020-02-08T181915”","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s6wn3jwU0x"}],"key":"LezpCIeW3p"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can create a pandas timestamp variable in local time for comparison with other datasets:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NZhBaPSHhL"}],"key":"uBGs2hhtO9"}],"key":"FSaYOxCGi4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a pandas timestamp, subtract 7 hours from UTC time to get local time (MST, UTC-7)\nairborne_ir_timestamp = pd.Timestamp(2020,2,8,18,19,15) - pd.Timedelta(hours=7)","key":"XrTE8z4Vts"},{"type":"outputs","id":"pk7KF765cab3wuU5_AFVa","children":[],"key":"ItP4y8Vzpq"}],"key":"KRlpn24Hrx"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What color scale should we use for temperature?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FB7GrAWe7v"}],"key":"hjolhIteVq"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Common advice you may have heard is to ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"KCOfP5U7GP"},{"type":"link","url":"https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"avoid using rainbow color scales","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"byRvE8AlZD"}],"urlSource":"https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/","key":"MS9dY6kk2m"},{"type":"text","value":". Luckily ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bZljp7Ggku"},{"type":"link","url":"https://matplotlib.org/stable/tutorials/colors/colormaps.html","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"matplotlib gives us lots of options","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"b9v6d9M5zy"}],"urlSource":"https://matplotlib.org/stable/tutorials/colors/colormaps.html","key":"OX5Ut205po"},{"type":"text","value":" to choose from.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FSxD3cADAF"}],"key":"myxQ8xWEZE"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"When representing images of temperature, sometimes we want to pick colors that intuitively suggest temperature, such as the “magma” colorbar below. Other times we might be interested in both magnitude and sign, such as temperatures above or below melting point, in which case we could use something like “RdBu_r” below. I often pick simple greyscale, though less visually interesting, it is sometimes easier to pick out details in a continuous color scale like they “Greys” scale below. ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fpDBh7Qvxf"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Make sure to include a labeled colorbar so your plot can be correctly interpreted!","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"l8q3p2Xfai"}],"key":"bUM9j5ZydZ"}],"key":"uy2ZyVEtRI"},{"type":"image","url":"/snow-observations-cookbook/_preview/5/build/colorbars-29d09f350622672d00390a1370156ba7.png","width":300,"key":"fA7023Q08q","urlSource":"images/thermal-ir/colorbars.png"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Some matplotlib color scale options (top to bottom): “magma”, “RdBu_r”, “Greys”","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"ho0v44x40f"}],"key":"UwdlMFBTfr"}],"class":"dropdown ","key":"gl1NFQQ6yy"}],"key":"sn2qnqHqG6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the airborne TIR image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kjODYtCuuk"}],"key":"WL94JXfy4M"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"C8vNJoCkYV"}],"key":"bq5HiBnBfa"}],"key":"F4ZAyaAvXW"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z9NJOdpXD5"}],"key":"HIsE7M5lpN"}],"key":"zlrdZFj2FH"}],"key":"RhRI6L4Gm1"}],"key":"eBHe5wCQbc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(20,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10,ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\nax.set_title('Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"Y3K987TOGY"},{"type":"outputs","id":"JFfcTHmEsr9psrO_UUO_s","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cFigure size 2000x1000 with 2 Axes\u003e","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"71dd381e68b816bf31db6635da198351","path":"/snow-observations-cookbook/_preview/5/build/71dd381e68b816bf31db6635da198351.png"}}},"key":"F4RwRm2Qx6"}],"key":"K7PkuqtQx3"}],"key":"fqZrHRq8xF"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QSbYONZZQy"}],"key":"BWj0ADeonp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eIsqRfBIrS"}],"key":"vDUZVahaDc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The colorbar on the right shows us that colder temperatures are represented with dark purple to black colors.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NTMWGYUbRH"}],"key":"TEoIrJFixu"}],"key":"jgQmALqtH6"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Warmer temperatures are represented with lighter orange/yellow.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mDyUFoAgaL"}],"key":"zXueaYejsR"}],"key":"hJEW12qMxx"}],"key":"R2jTKlkPUE"}],"key":"PC7QaSAmlF"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"E9yychie9M"}],"key":"VlAnZ9CKnQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We see a narrow stripe of imagery, this is a mosaic of individual camera images taken from the aircraft along a single flight line over Grand Mesa.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"elIoCMzPYC"}],"key":"JZyL9gFMrl"}],"key":"b2m3JguNoM"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"On the left (west) side of the image we see warmer but varied temperatures (yellow, orange, and purple), then an abrupt transition to uniformly cold temperatures (purple). This is the westernmost edge of the mesa where the snow on top is much colder than the lower elevation slopes of the mountain.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"G4nXppFiIt"}],"key":"Gtn9TE52iU"}],"key":"tq5KPF0j1z"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Continuing to move from left (west) to right (east) we see patches of lighter colors, corresponding with warmer temperatures. These are patches of forest on the central and eastern portions of the mesa.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vXsZZq5Csg"}],"key":"GG2DbuAub2"}],"key":"eU9Qhot0qX"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Finally near the easternmost side of the image we see a very dark region that means it is much colder than the rest of the scene. What might this cold area or object be?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"L3meF42tE9"}],"key":"qtbY6gUIcE"}],"key":"KjHNSxhSNO"}],"key":"pHoSftqGsN"}],"key":"NQ7sU4QkME"}],"key":"Nc3P073umP"}],"class":"hint","key":"xtj8NQFwas"}],"key":"v6YgsCdxce"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bonus activity:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OQy16INRZO"}],"identifier":"bonus-activity","label":"Bonus activity:","html_id":"bonus-activity","implicit":true,"key":"QlbMqaVDJq"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To help with our image interpretation, we can load visible imagery taken concurrently from the UW-APL airborne instrument. (Note: this example image is a single band black and white image, though we also have full RGB images available through NSIDC)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"SnVkt0HyZW"}],"key":"A8ZOohCGWS"}],"key":"X2gyYcTr5c"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_vis = rioxarray.open_rasterio(S3_BASE_URL + 'SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif')\n\n# note that the filename is identical with the same timestamp, but is labeled \"EO\" (electro-optical) rather than \"IR\" (infrared)","key":"lYNxa6Z8UF"},{"type":"outputs","id":"4px3hP_MgjQ-CUmiOujAm","children":[],"key":"CqzlUGb2kf"}],"key":"aJHWqGr1Pg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Also reproject the airborne visible imagery into EPSG:26912\nairborne_vis = airborne_vis.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"nOeDjfDvaa"},{"type":"outputs","id":"RQbgjmc-FRYG1aismYOCd","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stderr","text":"Warning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.msk: 403\nWarning 1: HTTP response code on https://snowex-tutorials.s3.us-west-2.amazonaws.com/thermal-ir/SNOWEX2020_EO_PLANE_2020Feb08_mosaicked_2020-02-08T181915.tif.MSK: 403\n"},"key":"dzeCzIsYQl"}],"key":"Cv2qphCbdX"}],"key":"dnHgWyVRjS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_vis","key":"CvaqBBfrSo"},{"type":"outputs","id":"9LjZ5KZm9qu9Dq2PzIXYw","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"\u003cxarray.DataArray (band: 1, y: 3848, x: 4398)\u003e Size: 68MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    visible imagery\n    timezone:       time in UTC\n    units:          digital numbers\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      SRGB\n    _FillValue:     nan","content_type":"text/plain"},"text/html":{"content":"\u003cdiv\u003e\u003csvg style=\"position: absolute; width: 0; height: 0; overflow: hidden\"\u003e\n\u003cdefs\u003e\n\u003csymbol id=\"icon-database\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003csymbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\"\u003e\n\u003cpath d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003cpath d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"\u003e\u003c/path\u003e\n\u003c/symbol\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e\n\u003cstyle\u003e/* CSS stylesheet for displaying xarray objects in notebooks */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n  line-height: 1.6;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header \u003e div,\n.xr-header \u003e ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-obj-name,\n.xr-group-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-group-name::before {\n  content: \"📁\";\n  padding-right: 0.3em;\n}\n\n.xr-group-name,\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  margin: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary \u003e span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label \u003e span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-top: 4px;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-group-box {\n  display: inline-grid;\n  grid-template-columns: 0px 20px auto;\n  width: 100%;\n}\n\n.xr-group-box-vline {\n  grid-column-start: 1;\n  border-right: 0.2em solid;\n  border-color: var(--xr-border-color);\n  width: 0px;\n}\n\n.xr-group-box-hline {\n  grid-column-start: 2;\n  grid-row-start: 1;\n  height: 1em;\n  width: 20px;\n  border-bottom: 0.2em solid;\n  border-color: var(--xr-border-color);\n}\n\n.xr-group-box-contents {\n  grid-column-start: 3;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap \u003e label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item \u003e div,\n.xr-var-item label,\n.xr-var-item \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item \u003e .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list \u003e li:nth-child(odd) \u003e div,\n.xr-var-list \u003e li:nth-child(odd) \u003e label,\n.xr-var-list \u003e li:nth-child(odd) \u003e .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data \u003e table {\n  float: right;\n}\n\n.xr-var-data \u003e pre,\n.xr-index-data \u003e pre,\n.xr-var-data \u003e table \u003e tbody \u003e tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label \u003e .xr-icon-file-text2,\n.xr-var-data-in:checked + label \u003e .xr-icon-database,\n.xr-index-data-in:checked + label \u003e .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n\u003c/style\u003e\u003cpre class='xr-text-repr-fallback'\u003e\u0026lt;xarray.DataArray (band: 1, y: 3848, x: 4398)\u0026gt; Size: 68MB\narray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)\nCoordinates:\n  * band         (band) int64 8B 1\n  * y            (y) float64 31kB 4.332e+06 4.332e+06 ... 4.313e+06 4.313e+06\n  * x            (x) float64 35kB 7.371e+05 7.371e+05 ... 7.591e+05 7.591e+05\n    spatial_ref  int64 8B 0\nAttributes:\n    description:    visible imagery\n    timezone:       time in UTC\n    units:          digital numbers\n    AREA_OR_POINT:  Area\n    scale_factor:   1.0\n    add_offset:     0.0\n    long_name:      SRGB\n    _FillValue:     nan\u003c/pre\u003e\u003cdiv class='xr-wrap' style='display:none'\u003e\u003cdiv class='xr-header'\u003e\u003cdiv class='xr-obj-type'\u003exarray.DataArray\u003c/div\u003e\u003cdiv class='xr-obj-name'\u003e\u003c/div\u003e\u003cul class='xr-dim-list'\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003eband\u003c/span\u003e: 1\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e: 3848\u003c/li\u003e\u003cli\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e: 4398\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cul class='xr-sections'\u003e\u003cli class='xr-section-item'\u003e\u003cdiv class='xr-array-wrap'\u003e\u003cinput id='section-e4cd2510-36ac-4458-8a8d-df5921a867bf' class='xr-array-in' type='checkbox' checked\u003e\u003clabel for='section-e4cd2510-36ac-4458-8a8d-df5921a867bf' title='Show/hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-array-preview xr-preview'\u003e\u003cspan\u003enan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-array-data'\u003e\u003cpre\u003earray([[[nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        ...,\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan],\n        [nan, nan, nan, ..., nan, nan, nan]]],\n      shape=(1, 3848, 4398), dtype=float32)\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-d6aa743e-4e04-4413-81b8-8327b20b69b9' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-d6aa743e-4e04-4413-81b8-8327b20b69b9' class='xr-section-summary' \u003eCoordinates: \u003cspan\u003e(4)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cul class='xr-var-list'\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003eband\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(band)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003eint64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e1\u003c/div\u003e\u003cinput id='attrs-45365d82-5635-4e5b-9a36-66c6037866c9' class='xr-var-attrs-in' type='checkbox' disabled\u003e\u003clabel for='attrs-45365d82-5635-4e5b-9a36-66c6037866c9' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-8654dd05-bae7-4111-96c9-914c3c716499' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-8654dd05-bae7-4111-96c9-914c3c716499' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([1])\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ey\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(y)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e4.332e+06 4.332e+06 ... 4.313e+06\u003c/div\u003e\u003cinput id='attrs-9c15908d-fd0f-45e2-a2ea-a24b3a694451' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-9c15908d-fd0f-45e2-a2ea-a24b3a694451' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-a336c39a-62d3-4f51-9469-2b6ac749fe8d' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-a336c39a-62d3-4f51-9469-2b6ac749fe8d' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eaxis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eY\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ey coordinate of projection\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003estandard_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eprojection_y_coordinate\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emetre\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([4331897.066018, 4331892.066788, 4331887.067557, ..., 4312675.025726,\n       4312670.026496, 4312665.027266], shape=(3848,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan class='xr-has-index'\u003ex\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e(x)\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003efloat64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e7.371e+05 7.371e+05 ... 7.591e+05\u003c/div\u003e\u003cinput id='attrs-27784488-21c9-442d-a8a1-1f51bfde75d9' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-27784488-21c9-442d-a8a1-1f51bfde75d9' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-62f4139b-4d69-45a4-9311-4859e25301b4' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-62f4139b-4d69-45a4-9311-4859e25301b4' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003eaxis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eX\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ex coordinate of projection\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003estandard_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eprojection_x_coordinate\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003emetre\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray([737080.034698, 737085.033928, 737090.033158, ..., 759051.651625,\n       759056.650855, 759061.650085], shape=(4398,))\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-var-item'\u003e\u003cdiv class='xr-var-name'\u003e\u003cspan\u003espatial_ref\u003c/span\u003e\u003c/div\u003e\u003cdiv class='xr-var-dims'\u003e()\u003c/div\u003e\u003cdiv class='xr-var-dtype'\u003eint64\u003c/div\u003e\u003cdiv class='xr-var-preview xr-preview'\u003e0\u003c/div\u003e\u003cinput id='attrs-61d79b17-97a9-427f-a50d-9a5f52388f5d' class='xr-var-attrs-in' type='checkbox' \u003e\u003clabel for='attrs-61d79b17-97a9-427f-a50d-9a5f52388f5d' title='Show/Hide attributes'\u003e\u003csvg class='icon xr-icon-file-text2'\u003e\u003cuse xlink:href='#icon-file-text2'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cinput id='data-84cc2461-4611-4e3b-9b4c-db0e09c6a8fa' class='xr-var-data-in' type='checkbox'\u003e\u003clabel for='data-84cc2461-4611-4e3b-9b4c-db0e09c6a8fa' title='Show/Hide data repr'\u003e\u003csvg class='icon xr-icon-database'\u003e\u003cuse xlink:href='#icon-database'\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/label\u003e\u003cdiv class='xr-var-attrs'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003ecrs_wkt :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCS[\u0026quot;NAD83 / UTM zone 12N\u0026quot;,GEOGCS[\u0026quot;NAD83\u0026quot;,DATUM[\u0026quot;North_American_Datum_1983\u0026quot;,SPHEROID[\u0026quot;GRS 1980\u0026quot;,6378137,298.257222101,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;7019\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;6269\u0026quot;]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;8901\u0026quot;]],UNIT[\u0026quot;degree\u0026quot;,0.0174532925199433,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9122\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;4269\u0026quot;]],PROJECTION[\u0026quot;Transverse_Mercator\u0026quot;],PARAMETER[\u0026quot;latitude_of_origin\u0026quot;,0],PARAMETER[\u0026quot;central_meridian\u0026quot;,-111],PARAMETER[\u0026quot;scale_factor\u0026quot;,0.9996],PARAMETER[\u0026quot;false_easting\u0026quot;,500000],PARAMETER[\u0026quot;false_northing\u0026quot;,0],UNIT[\u0026quot;metre\u0026quot;,1,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9001\u0026quot;]],AXIS[\u0026quot;Easting\u0026quot;,EAST],AXIS[\u0026quot;Northing\u0026quot;,NORTH],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;26912\u0026quot;]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_major_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6378137.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003esemi_minor_axis :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e6356752.314140356\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003einverse_flattening :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e298.257222101\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ereference_ellipsoid_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGRS 1980\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_prime_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprime_meridian_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eGreenwich\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egeographic_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eNAD83\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003ehorizontal_datum_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eNorth American Datum 1983\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eprojected_crs_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eNAD83 / UTM zone 12N\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003egrid_mapping_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003etransverse_mercator\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elatitude_of_projection_origin :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elongitude_of_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e-111.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_easting :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e500000.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003efalse_northing :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003escale_factor_at_central_meridian :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.9996\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003espatial_ref :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003ePROJCS[\u0026quot;NAD83 / UTM zone 12N\u0026quot;,GEOGCS[\u0026quot;NAD83\u0026quot;,DATUM[\u0026quot;North_American_Datum_1983\u0026quot;,SPHEROID[\u0026quot;GRS 1980\u0026quot;,6378137,298.257222101,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;7019\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;6269\u0026quot;]],PRIMEM[\u0026quot;Greenwich\u0026quot;,0,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;8901\u0026quot;]],UNIT[\u0026quot;degree\u0026quot;,0.0174532925199433,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9122\u0026quot;]],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;4269\u0026quot;]],PROJECTION[\u0026quot;Transverse_Mercator\u0026quot;],PARAMETER[\u0026quot;latitude_of_origin\u0026quot;,0],PARAMETER[\u0026quot;central_meridian\u0026quot;,-111],PARAMETER[\u0026quot;scale_factor\u0026quot;,0.9996],PARAMETER[\u0026quot;false_easting\u0026quot;,500000],PARAMETER[\u0026quot;false_northing\u0026quot;,0],UNIT[\u0026quot;metre\u0026quot;,1,AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;9001\u0026quot;]],AXIS[\u0026quot;Easting\u0026quot;,EAST],AXIS[\u0026quot;Northing\u0026quot;,NORTH],AUTHORITY[\u0026quot;EPSG\u0026quot;,\u0026quot;26912\u0026quot;]]\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eGeoTransform :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e737077.535082875 4.999230244949035 0.0 4331899.565633087 0.0 -4.999230244949035\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003cdiv class='xr-var-data'\u003e\u003cpre\u003earray(0)\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003cli class='xr-section-item'\u003e\u003cinput id='section-0247d7c3-c4f7-4d22-a192-b7e4c5558a97' class='xr-section-summary-in' type='checkbox'  checked\u003e\u003clabel for='section-0247d7c3-c4f7-4d22-a192-b7e4c5558a97' class='xr-section-summary' \u003eAttributes: \u003cspan\u003e(8)\u003c/span\u003e\u003c/label\u003e\u003cdiv class='xr-section-inline-details'\u003e\u003c/div\u003e\u003cdiv class='xr-section-details'\u003e\u003cdl class='xr-attrs'\u003e\u003cdt\u003e\u003cspan\u003edescription :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003evisible imagery\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003etimezone :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003etime in UTC\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eunits :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003edigital numbers\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eAREA_OR_POINT :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eArea\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003escale_factor :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e1.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003eadd_offset :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003e0.0\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003elong_name :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003eSRGB\u003c/dd\u003e\u003cdt\u003e\u003cspan\u003e_FillValue :\u003c/span\u003e\u003c/dt\u003e\u003cdd\u003enan\u003c/dd\u003e\u003c/dl\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e","content_type":"text/html"}}},"key":"rENtiCztqo"}],"key":"Uop6CbXFQG"}],"key":"DFm3osm3C0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the visible and infrared images side by side. This time, we will change the x and y axes limits (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xYyY2qTLWK"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jZ93khzxhb"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"sQAU3oAN19"},{"type":"text","value":", and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qOeIvQMqur"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_ylim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wXvviWcLMA"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","key":"oE9v7ur2Xq"},{"type":"text","value":") to zoom in closer.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vJ8WAsDWDZ"}],"key":"kfWRfGLRcn"}],"key":"qF8FFKJDfG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(20,10), tight_layout=True)\n\n# Plot the IR imagery\nairborne_ir.plot(ax=axs[0], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('Airborne IR')\n\n# Plot the visible imagery\nairborne_vis.plot(ax=axs[1], \n                  cmap='Greys_r',\n                  cbar_kwargs={'label': 'DN'})\naxs[1].set_title('Airborne Vis')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # give each axis a label\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    \n    # set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)\n    ax.set_xlim((735000, 760000)) # x axis limits\n    ax.set_ylim((4320000, 4325000)) # y axis limits","key":"FHjOMLKAyZ"},{"type":"outputs","id":"33lZlAyGKQOTaAus33fkK","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"\u003cFigure size 2000x1000 with 4 Axes\u003e","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"e3efee70a1e5b5ac62aa8126e01e8d91","path":"/snow-observations-cookbook/_preview/5/build/e3efee70a1e5b5ac62aa8126e01e8d91.png"}}},"key":"dMVH1TP2UI"}],"key":"uPICeH2rT1"}],"key":"eCxnfmjb0M"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OfCdW6oBBd"}],"key":"mAXpofJ0BS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The visible imagery camera covers a slightly narrower width along the flight path than the IR cameras.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vVNrXMvQDq"}],"key":"Sp81AKjHxU"}],"key":"e7mQPmwRVc"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Now what do you think the cold object on the eastern side of the image is?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"eSEPk5VFp5"}],"key":"RZsdSNwRQa"}],"key":"Uasu2djXpM"}],"key":"Q8n8tf6Mbb"}],"class":"hint","key":"uI39K2r1bo"}],"key":"bIM2PeoRrM"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y6Od37mFTT"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Ground-based temperature observations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SgBOXU2Ewy"}],"identifier":"ground-based-temperature-observations","label":"Ground-based temperature observations","html_id":"ground-based-temperature-observations","implicit":true,"key":"poArDDcoLL"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"To provide a source of “ground truth” for the airborne and satellite thermal infrared images during the SnowEx 2020 Grand Mesa campaign, we can use ground-based snow surface temperature measurements. On February 5, 2020, we installed a thermal infrared radiometer pointing at the snow surface at snow pit #2S10 (left), and buried temperature sensors beneath the snow surface (right). These logged observations at 5-minute intervals until we removed the instrumentation a week later on February 12.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DwZfTQXST3"}],"key":"jOQKofCrd7"},{"type":"image","url":"/snow-observations-cookbook/_preview/5/build/snowpit_2s10-95980a748e3fb322756b174686f12fd5.png","width":600,"key":"rbPr4jN3Z8","urlSource":"images/thermal-ir/snowpit_2s10.png"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Snow temperature sensor setup at snow pit 2S10: (left) tripod-mounted thermal ifrared radiometer to measure snow surface, (right) temperature probes to be buried beneath the snow surface.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"ETkTT7oNqe"},{"type":"break","key":"iynYgLwQal"},{"type":"text","value":"(Photos by Steven Pestana)","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Eo10SsphWP"}],"key":"Kx8BUp7nVz"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What are some of the differences we might expect to see between the ground-based surface temperature data and the thermal IR images?","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"DhRHk2JwFE"}],"key":"VVR7ifmB05"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Emissivity differences?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"DD8gLMbJ2p"}],"key":"T3v3aQ23yS"}],"key":"vlPmlErKJt"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Our ground-based radiometer was looking at 45 deg off nadir, versus nadir ASTER versus variable view angle airborne (snow emissivity changes off-nadir)","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"PXsahxdfEO"}],"key":"rv4cYIRifW"}],"key":"xjD6Blgm0Z"}],"key":"JwGzgrO2Ja"}],"key":"AQrDlgixFR"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Different TIR bandwidths (broad versus narrow)?","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"OXzruGeNcz"}],"key":"zpkE0EBTxA"}],"key":"nV58COvuou"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Ground-based radiometer: 8-14 μm, Airborne IR cameras: 8-14 μm, ASTER band 14: 10.95-11.65 µm","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"NARVNcLh5v"}],"key":"tzxvRFs2UE"}],"key":"P11cz4dRpx"}],"key":"ustbqnMxHK"}],"key":"p2wNgTUUsp"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Different atmospheric path lengths?","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"DkSyGkReRz"}],"key":"pIdq2HZVQ5"}],"key":"OnEHSEY2OB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"From \u003c1 meter, to 1 km, to entire atmospheric column (~100 km)","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"ZdYTt8Nvup"}],"key":"vgyAKd2tAO"}],"key":"SSKCLPLaT4"}],"key":"ujXODfpvrS"}],"key":"b6K2SNk90c"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"emphasis","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"“Point” versus area, and geolocation accuracy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"kqK99L8DDx"}],"key":"rwqiirshVM"}],"key":"xomE1FzDmY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ground-based radiometer is measuring temperature for a spot (not really a single point) maybe ~1m in diameter. The airborne and ASTER imagers have spatial resolutions of 5m and 90m respectively. How confident are we in the geolocation of individual pixels in the imagery?","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"jvzuAAzZWq"}],"key":"AnVWlYoWse"}],"key":"dHEjhu2FMX"}],"key":"fV5HXYn2ll"}],"key":"z83yo1Rewp"}],"key":"FfOyrp7NUz"}],"class":"dropdown","key":"IXpglFQArb"}],"key":"GEazw52iKg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Where is snow pit 2S10?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qc875ocWNz"}],"key":"jXrgkLie1x"}],"key":"FpZ11kjTiL"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can find this information through a query to the SnowEx SQL database. First, set up the connection:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L0ncm6ykKI"}],"key":"pX1fvkSiul"}],"key":"zvfHQ2BiHq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize client\nclient = SnowExLambdaClient()\n\n# Get all measurement classes dynamically\nclasses = client.get_measurement_classes()\nLayerMeasurements = classes['LayerMeasurements']\n\nprint(\"🔍 Testing Lambda connection...\")\nconnection_test = client.test_connection()\nprint(f\"✅ Connected: {connection_test.get('connected', False)}\")\nif connection_test.get('connected'):\n    print(f\"📊 Database: {connection_test.get('version', 'Unknown version')}\")\nelse:\n    print(\"❌ Connection failed\")","key":"FJEMHNcER8"},{"type":"outputs","id":"H0_1-_e0N-3eM3L7kRn5r","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"stream","name":"stdout","text":"🔍 Testing Lambda connection...\n"},"key":"AbOLu95aFS"},{"type":"output","children":[],"jupyter_data":{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mNoCredentialsError\u001b[39m                        Traceback (most recent call last)\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:237\u001b[39m, in \u001b[36mSnowExLambdaClient._invoke_lambda\u001b[39m\u001b[34m(self, action, **kwargs)\u001b[39m\n\u001b[32m    236\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m--\u003e \u001b[39m\u001b[32m237\u001b[39m     response = \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mlambda_client\u001b[49m\u001b[43m.\u001b[49m\u001b[43minvoke\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    238\u001b[39m \u001b[43m        \u001b[49m\u001b[43mFunctionName\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mfunction_name\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    239\u001b[39m \u001b[43m        \u001b[49m\u001b[43mInvocationType\u001b[49m\u001b[43m=\u001b[49m\u001b[33;43m'\u001b[39;49m\u001b[33;43mRequestResponse\u001b[39;49m\u001b[33;43m'\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m    240\u001b[39m \u001b[43m        \u001b[49m\u001b[43mPayload\u001b[49m\u001b[43m=\u001b[49m\u001b[43mjson\u001b[49m\u001b[43m.\u001b[49m\u001b[43mdumps\u001b[49m\u001b[43m(\u001b[49m\u001b[43mpayload\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    241\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    243\u001b[39m     result = json.loads(response[\u001b[33m'\u001b[39m\u001b[33mPayload\u001b[39m\u001b[33m'\u001b[39m].read().decode(\u001b[33m'\u001b[39m\u001b[33mutf-8\u001b[39m\u001b[33m'\u001b[39m))\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:602\u001b[39m, in \u001b[36mClientCreator._create_api_method.\u003clocals\u003e._api_call\u001b[39m\u001b[34m(self, *args, **kwargs)\u001b[39m\n\u001b[32m    601\u001b[39m \u001b[38;5;66;03m# The \"self\" in this scope is referring to the BaseClient.\u001b[39;00m\n\u001b[32m--\u003e \u001b[39m\u001b[32m602\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_make_api_call\u001b[49m\u001b[43m(\u001b[49m\u001b[43moperation_name\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/context.py:123\u001b[39m, in \u001b[36mwith_current_context.\u003clocals\u003e.decorator.\u003clocals\u003e.wrapper\u001b[39m\u001b[34m(*args, **kwargs)\u001b[39m\n\u001b[32m    122\u001b[39m     hook()\n\u001b[32m--\u003e \u001b[39m\u001b[32m123\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mfunc\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43margs\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:1060\u001b[39m, in \u001b[36mBaseClient._make_api_call\u001b[39m\u001b[34m(self, operation_name, api_params)\u001b[39m\n\u001b[32m   1059\u001b[39m     apply_request_checksum(request_dict)\n\u001b[32m-\u003e \u001b[39m\u001b[32m1060\u001b[39m     http, parsed_response = \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_make_request\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m   1061\u001b[39m \u001b[43m        \u001b[49m\u001b[43moperation_model\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mrequest_dict\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mrequest_context\u001b[49m\n\u001b[32m   1062\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m   1064\u001b[39m \u001b[38;5;28mself\u001b[39m.meta.events.emit(\n\u001b[32m   1065\u001b[39m     \u001b[33mf\u001b[39m\u001b[33m'\u001b[39m\u001b[33mafter-call.\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mservice_id\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m.\u001b[39m\u001b[38;5;132;01m{\u001b[39;00moperation_name\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m'\u001b[39m,\n\u001b[32m   1066\u001b[39m     http_response=http,\n\u001b[32m   (...)\u001b[39m\u001b[32m   1069\u001b[39m     context=request_context,\n\u001b[32m   1070\u001b[39m )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/client.py:1084\u001b[39m, in \u001b[36mBaseClient._make_request\u001b[39m\u001b[34m(self, operation_model, request_dict, request_context)\u001b[39m\n\u001b[32m   1083\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m-\u003e \u001b[39m\u001b[32m1084\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_endpoint\u001b[49m\u001b[43m.\u001b[49m\u001b[43mmake_request\u001b[49m\u001b[43m(\u001b[49m\u001b[43moperation_model\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mrequest_dict\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m   1085\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m \u001b[38;5;28;01mas\u001b[39;00m e:\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:119\u001b[39m, in \u001b[36mEndpoint.make_request\u001b[39m\u001b[34m(self, operation_model, request_dict)\u001b[39m\n\u001b[32m    114\u001b[39m logger.debug(\n\u001b[32m    115\u001b[39m     \u001b[33m\"\u001b[39m\u001b[33mMaking request for \u001b[39m\u001b[38;5;132;01m%s\u001b[39;00m\u001b[33m with params: \u001b[39m\u001b[38;5;132;01m%s\u001b[39;00m\u001b[33m\"\u001b[39m,\n\u001b[32m    116\u001b[39m     operation_model,\n\u001b[32m    117\u001b[39m     request_dict,\n\u001b[32m    118\u001b[39m )\n\u001b[32m--\u003e \u001b[39m\u001b[32m119\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_send_request\u001b[49m\u001b[43m(\u001b[49m\u001b[43mrequest_dict\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43moperation_model\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:196\u001b[39m, in \u001b[36mEndpoint._send_request\u001b[39m\u001b[34m(self, request_dict, operation_model)\u001b[39m\n\u001b[32m    195\u001b[39m \u001b[38;5;28mself\u001b[39m._update_retries_context(context, attempts)\n\u001b[32m--\u003e \u001b[39m\u001b[32m196\u001b[39m request = \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mcreate_request\u001b[49m\u001b[43m(\u001b[49m\u001b[43mrequest_dict\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43moperation_model\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    197\u001b[39m success_response, exception = \u001b[38;5;28mself\u001b[39m._get_response(\n\u001b[32m    198\u001b[39m     request, operation_model, context\n\u001b[32m    199\u001b[39m )\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/endpoint.py:132\u001b[39m, in \u001b[36mEndpoint.create_request\u001b[39m\u001b[34m(self, params, operation_model)\u001b[39m\n\u001b[32m    131\u001b[39m     event_name = \u001b[33mf\u001b[39m\u001b[33m'\u001b[39m\u001b[33mrequest-created.\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mservice_id\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m.\u001b[39m\u001b[38;5;132;01m{\u001b[39;00moperation_model.name\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m'\u001b[39m\n\u001b[32m--\u003e \u001b[39m\u001b[32m132\u001b[39m     \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_event_emitter\u001b[49m\u001b[43m.\u001b[49m\u001b[43memit\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    133\u001b[39m \u001b[43m        \u001b[49m\u001b[43mevent_name\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    134\u001b[39m \u001b[43m        \u001b[49m\u001b[43mrequest\u001b[49m\u001b[43m=\u001b[49m\u001b[43mrequest\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    135\u001b[39m \u001b[43m        \u001b[49m\u001b[43moperation_name\u001b[49m\u001b[43m=\u001b[49m\u001b[43moperation_model\u001b[49m\u001b[43m.\u001b[49m\u001b[43mname\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    136\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    137\u001b[39m prepared_request = \u001b[38;5;28mself\u001b[39m.prepare_request(request)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:412\u001b[39m, in \u001b[36mEventAliaser.emit\u001b[39m\u001b[34m(self, event_name, **kwargs)\u001b[39m\n\u001b[32m    411\u001b[39m aliased_event_name = \u001b[38;5;28mself\u001b[39m._alias_event_name(event_name)\n\u001b[32m--\u003e \u001b[39m\u001b[32m412\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_emitter\u001b[49m\u001b[43m.\u001b[49m\u001b[43memit\u001b[49m\u001b[43m(\u001b[49m\u001b[43maliased_event_name\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:256\u001b[39m, in \u001b[36mHierarchicalEmitter.emit\u001b[39m\u001b[34m(self, event_name, **kwargs)\u001b[39m\n\u001b[32m    246\u001b[39m \u001b[38;5;250m\u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    247\u001b[39m \u001b[33;03mEmit an event by name with arguments passed as keyword args.\u001b[39;00m\n\u001b[32m    248\u001b[39m \n\u001b[32m   (...)\u001b[39m\u001b[32m    254\u001b[39m \u001b[33;03m         handlers.\u001b[39;00m\n\u001b[32m    255\u001b[39m \u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m--\u003e \u001b[39m\u001b[32m256\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_emit\u001b[49m\u001b[43m(\u001b[49m\u001b[43mevent_name\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/hooks.py:239\u001b[39m, in \u001b[36mHierarchicalEmitter._emit\u001b[39m\u001b[34m(self, event_name, kwargs, stop_on_response)\u001b[39m\n\u001b[32m    238\u001b[39m logger.debug(\u001b[33m'\u001b[39m\u001b[33mEvent \u001b[39m\u001b[38;5;132;01m%s\u001b[39;00m\u001b[33m: calling handler \u001b[39m\u001b[38;5;132;01m%s\u001b[39;00m\u001b[33m'\u001b[39m, event_name, handler)\n\u001b[32m--\u003e \u001b[39m\u001b[32m239\u001b[39m response = \u001b[43mhandler\u001b[49m\u001b[43m(\u001b[49m\u001b[43m*\u001b[49m\u001b[43m*\u001b[49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    240\u001b[39m responses.append((handler, response))\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/signers.py:108\u001b[39m, in \u001b[36mRequestSigner.handler\u001b[39m\u001b[34m(self, operation_name, request, **kwargs)\u001b[39m\n\u001b[32m    103\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mhandler\u001b[39m(\u001b[38;5;28mself\u001b[39m, operation_name=\u001b[38;5;28;01mNone\u001b[39;00m, request=\u001b[38;5;28;01mNone\u001b[39;00m, **kwargs):\n\u001b[32m    104\u001b[39m     \u001b[38;5;66;03m# This is typically hooked up to the \"request-created\" event\u001b[39;00m\n\u001b[32m    105\u001b[39m     \u001b[38;5;66;03m# from a client's event emitter.  When a new request is created\u001b[39;00m\n\u001b[32m    106\u001b[39m     \u001b[38;5;66;03m# this method is invoked to sign the request.\u001b[39;00m\n\u001b[32m    107\u001b[39m     \u001b[38;5;66;03m# Don't call this method directly.\u001b[39;00m\n\u001b[32m--\u003e \u001b[39m\u001b[32m108\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43msign\u001b[49m\u001b[43m(\u001b[49m\u001b[43moperation_name\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mrequest\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/signers.py:200\u001b[39m, in \u001b[36mRequestSigner.sign\u001b[39m\u001b[34m(self, operation_name, request, region_name, signing_type, expires_in, signing_name)\u001b[39m\n\u001b[32m    198\u001b[39m         \u001b[38;5;28;01mraise\u001b[39;00m e\n\u001b[32m--\u003e \u001b[39m\u001b[32m200\u001b[39m \u001b[43mauth\u001b[49m\u001b[43m.\u001b[49m\u001b[43madd_auth\u001b[49m\u001b[43m(\u001b[49m\u001b[43mrequest\u001b[49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/botocore/auth.py:422\u001b[39m, in \u001b[36mSigV4Auth.add_auth\u001b[39m\u001b[34m(self, request)\u001b[39m\n\u001b[32m    421\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28mself\u001b[39m.credentials \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m--\u003e \u001b[39m\u001b[32m422\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m NoCredentialsError()\n\u001b[32m    423\u001b[39m datetime_now = get_current_datetime()\n\n\u001b[31mNoCredentialsError\u001b[39m: Unable to locate credentials\n\nDuring handling of the above exception, another exception occurred:\n\n\u001b[31mException\u001b[39m                                 Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[14]\u001b[39m\u001b[32m, line 9\u001b[39m\n\u001b[32m      6\u001b[39m LayerMeasurements = classes[\u001b[33m'\u001b[39m\u001b[33mLayerMeasurements\u001b[39m\u001b[33m'\u001b[39m]\n\u001b[32m      8\u001b[39m \u001b[38;5;28mprint\u001b[39m(\u001b[33m\"\u001b[39m\u001b[33m🔍 Testing Lambda connection...\u001b[39m\u001b[33m\"\u001b[39m)\n\u001b[32m----\u003e \u001b[39m\u001b[32m9\u001b[39m connection_test = \u001b[43mclient\u001b[49m\u001b[43m.\u001b[49m\u001b[43mtest_connection\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m     10\u001b[39m \u001b[38;5;28mprint\u001b[39m(\u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33m✅ Connected: \u001b[39m\u001b[38;5;132;01m{\u001b[39;00mconnection_test.get(\u001b[33m'\u001b[39m\u001b[33mconnected\u001b[39m\u001b[33m'\u001b[39m,\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mFalse\u001b[39;00m)\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m)\n\u001b[32m     11\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m connection_test.get(\u001b[33m'\u001b[39m\u001b[33mconnected\u001b[39m\u001b[33m'\u001b[39m):\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:269\u001b[39m, in \u001b[36mSnowExLambdaClient.test_connection\u001b[39m\u001b[34m(self)\u001b[39m\n\u001b[32m    262\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mtest_connection\u001b[39m(\u001b[38;5;28mself\u001b[39m) -\u003e Dict[\u001b[38;5;28mstr\u001b[39m, Any]:\n\u001b[32m    263\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    264\u001b[39m \u001b[33;03m    Test database connection through Lambda\u001b[39;00m\n\u001b[32m    265\u001b[39m \u001b[33;03m    \u001b[39;00m\n\u001b[32m    266\u001b[39m \u001b[33;03m    Returns:\u001b[39;00m\n\u001b[32m    267\u001b[39m \u001b[33;03m        Dict with connection status and database version info\u001b[39;00m\n\u001b[32m    268\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m--\u003e \u001b[39m\u001b[32m269\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43m_invoke_lambda\u001b[49m\u001b[43m(\u001b[49m\u001b[33;43m'\u001b[39;49m\u001b[33;43mtest_connection\u001b[39;49m\u001b[33;43m'\u001b[39;49m\u001b[43m)\u001b[49m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/lambda_client.py:260\u001b[39m, in \u001b[36mSnowExLambdaClient._invoke_lambda\u001b[39m\u001b[34m(self, action, **kwargs)\u001b[39m\n\u001b[32m    258\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m(\u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33mFailed to parse Lambda response: \u001b[39m\u001b[38;5;132;01m{\u001b[39;00m\u001b[38;5;28mstr\u001b[39m(e)\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m)\n\u001b[32m    259\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m \u001b[38;5;28;01mas\u001b[39;00m e:\n\u001b[32m--\u003e \u001b[39m\u001b[32m260\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m(\u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33mLambda invocation failed: \u001b[39m\u001b[38;5;132;01m{\u001b[39;00m\u001b[38;5;28mstr\u001b[39m(e)\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m)\n\n\u001b[31mException\u001b[39m: Lambda invocation failed: Unable to locate credentials","ename":"Exception","evalue":"Lambda invocation failed: Unable to locate credentials"},"key":"EEM0eXZ9sQ"}],"key":"gk8mTBz09d"}],"key":"Xf1qdU6Kkz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Then, set up a query to find the entry with the site ID that we want (2S10). Preview the resulting geodataframe.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X1CJrZwAzp"}],"key":"uLopU9z45v"}],"key":"QknzwLy4ZY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Get all sites containing '2S10'\nsites_with_2S10 = [site for site in LayerMeasurements.all_sites if '2S10' in site]\nprint(f\"Found {len(sites_with_2S10)} sites containing '2S10':\")\nsiteLocations = LayerMeasurements.get_sites(site_names=sites_with_2S10)\nsiteLocations\nsiteData_df = siteLocations ","key":"ViTqPizf1H"},{"type":"outputs","id":"zI0JiSA9UC7PgXzb_OvgM","children":[],"key":"dWRxOCiuGu"}],"key":"oxzYjyZOtl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Form the query to receive site_id='2S10' from the sites table\nqry = session.query(SiteData).filter_by(site_id='2S10')\n\n# Convert the record received into a geopandas dataframe\nsiteData_df = query_to_geopandas(qry, engine)\n\n# Preview the resulting geopandas dataframe\nsiteData_df","key":"wDIbekgNzA"},{"type":"outputs","id":"kcDLKoSuX9EFFdzKxUlnD","children":[],"key":"P1EZPHCqo5"}],"key":"qnxRgqxLfL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect of the geodatframe’s metadata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zxJjlS1ckr"}],"key":"fVkmgO5c5K"}],"key":"Qko6prp3IJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# What is the coordinate reference system used here?\nsiteData_df.crs","key":"mmSpe77ZE8"},{"type":"outputs","id":"f4n5ADr7Y6ScTx9Tf-9_v","children":[],"key":"ovCAZ9F98C"}],"key":"CVc1yXjmMc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Preview the geometry of this geodataframe, we should see that it is a POINT\nsiteData_df.geometry","key":"QblwsLr9oi"},{"type":"outputs","id":"x1O1yHvkMIWMiP36uqaDO","children":[],"key":"z0MtXu0OI8"}],"key":"I1Yb8g2tZ4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can now plot our snow pit site from this ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NgenrKlrvQ"},{"type":"link","url":"https://geopandas.org/docs/reference/api/geopandas.GeoDataFrame.plot.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"geodataframe","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c8sPxrh2GV"}],"urlSource":"https://geopandas.org/docs/reference/api/geopandas.GeoDataFrame.plot.html","key":"ftfwBwKz3X"},{"type":"text","value":" on top of the airborne IR image. Note we will first have to reproject the snow pit location to UTM12N since it is currently in geographic coordinates. (See more tips about plotting geodataframes ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJd36Y37yb"},{"type":"link","url":"https://www.earthdatascience.org/courses/scientists-guide-to-plotting-data-in-python/plot-spatial-data/customize-vector-plots/python-change-spatial-extent-of-map-matplotlib-geopandas/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RnFqNa3sIf"}],"urlSource":"https://www.earthdatascience.org/courses/scientists-guide-to-plotting-data-in-python/plot-spatial-data/customize-vector-plots/python-change-spatial-extent-of-map-matplotlib-geopandas/","key":"GHzY772JAv"},{"type":"text","value":")","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V7fmMTLErk"}],"key":"IlFDHSZlo3"}],"key":"JyeFhihsxT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(20,5)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# Reproject siteData_df to match airborne_ir's CRS (EPSG:26912)\nsiteData_df = siteData_df.to_crs('EPSG:26912')\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set the axes limits, units in meters UTM Zone 12N (I chose these values by just looking at the plot above)\nax.set_xlim((735000, 760000)) # x axis limits\nax.set_ylim((4320000, 4325000)) # y axis limits\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10\\nwith Airborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"XSXhIR8iTz"},{"type":"outputs","id":"vsHfrM8rGD1sSGA8VldeO","children":[],"key":"bs8JnVY07Q"}],"key":"SrncPPvmDp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Change the x and y axes limits (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UHZOeUNHzl"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kklDEW6jVB"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"Y1oII2K9P8"},{"type":"text","value":", and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d05Kk0SEBb"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"set_ylim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OnKh3JYj0s"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html","key":"erw26KpZHC"},{"type":"text","value":") to zoom in to our point of interest. In this case we can use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zVCWz0RgKa"},{"type":"link","url":"https://geopandas.readthedocs.io/en/latest/docs/reference/api/geopandas.GeoSeries.total_bounds.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"df​.geometry​.total​_bounds","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TkWI5zxKry"}],"urlSource":"https://geopandas.readthedocs.io/en/latest/docs/reference/api/geopandas.GeoSeries.total_bounds.html","key":"WfZGaUPqlc"},{"type":"text","value":" to get the x and y values that define the area our geometry takes up. (In this case we have a point so it will return just the point’s location, but this would work if we had a polygon as well)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hF0anbpt1c"}],"key":"RDYYEzI6f9"}],"key":"Jxux2Pppsd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# set axes limits\nxmin, ymin, xmax, ymax = siteData_df.geometry.total_bounds # get the \"total bounds\" for our geometry\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10\\nAirborne TIR imagery of Grand Mesa, CO (Feb. 8, 2020)');","key":"T7kgwfN2YA"},{"type":"outputs","id":"LmzUdFTAMaolF6Xm0HMAs","children":[],"key":"Le6G0QyzI3"}],"key":"aGnG4iUYCP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import the snow temperature timeseries dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mhjEpx5Uut"}],"key":"EQzmnyyATH"}],"key":"XsS2ACUZU8"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This data is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P2p4w0cK8B"},{"type":"link","url":"https://nsidc.org/data/SNEX20_VPTS_Raw/versions/1","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"available through NSIDC","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RGHFUrUf3C"}],"urlSource":"https://nsidc.org/data/SNEX20_VPTS_Raw/versions/1","key":"uCE3B2Ixw7"},{"type":"text","value":", but we have already downloaded a local copy for this tutorial. (See the bonus notebook ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yMSc2EnTFI"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"thermal​-ir​-data​-download​.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kuvfvSMeeW"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"kx3vZWgkqK"},{"type":"text","value":" for more details about data access methods)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tQRTtkEMEi"}],"key":"IlBPl7HktM"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The raw data file doesn’t include the column names, so we need to set the column headers following the dataset’s README file.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rYg0pk9soW"}],"key":"vlcW8las9O"}],"key":"p82AdAy8DD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"!cat data/snow-temperature-README.txt","key":"oRDMaMlcTe"},{"type":"outputs","id":"_uxTpHcuIPcx9QFZzpBc4","children":[],"key":"M5aX0ef8fc"}],"key":"WwSaF3gnca"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create a list of column headers according to the readme above (for “GM1” which we can read was the datalogger at snowpit 2S10)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ydzhuUepsE"}],"key":"FtqmbfSRdG"}],"key":"nFJBbZByO6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"column_headers = ['table', 'year', 'doy', 'time', # year, day of year, time of day (local time, UTC-7)\n                  'rad_avg', 'rad_max', 'rad_min', 'rad_std', # radiometer surface temperature\n                  'sb_avg', 'sb_max', 'sb_min', 'sb_std', # radiometer sensor body temperature (for calibration)\n                  'temp1_avg', 'temp1_max', 'temp1_min', 'temp1_std', # temperature at 5 cm below snow surface\n                  'temp2_avg', 'temp2_max', 'temp2_min', 'temp2_std', #               10 cm\n                  'temp3_avg', 'temp3_max', 'temp3_min', 'temp3_std', #               15 cm\n                  'temp4_avg', 'temp4_max', 'temp4_min', 'temp4_std', #               20 cm\n                  'temp5_avg', 'temp5_max', 'temp5_min', 'temp5_std', #               30 cm\n                  'batt_a','batt_b', # battery voltage data\n                 ]","key":"ZOOmBJxbv9"},{"type":"outputs","id":"vfKu0yE0wxL7NVtmu2tgL","children":[],"key":"WL0cpa0T1p"}],"key":"UErAL9YdGc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open the file as a pandas data frame with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ogo2pfv5RM"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"read_csv","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lzmjNiWRqd"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html","key":"D8fKNIzQFM"}],"key":"hZCaiEi0zT"}],"key":"KZQtIhsJV8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df = pd.read_csv(f'data/CR10X_GM1_final_storage_1.dat',\n                 header = None, names = column_headers) \n\n# After the filepath we specify header=None because the file doesn't contain column headers, \n# then we specify names=column_headers to give our own names for each column.","key":"VihkMA2rUT"},{"type":"outputs","id":"y_sM2ND3cFfgTEUaH_1c6","children":[],"key":"v1uBZaTIC8"}],"key":"rb5UDhx12V"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We need to do some formatting of the data fields, but we can preview what we just loaded fist","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g08iNtywdT"}],"key":"hpHJYks5wy"}],"key":"ieQhvede6a"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.head() # show the first 5 rows of the dataframe","key":"CtIIVPlEes"},{"type":"outputs","id":"KNjtjDGJm_efVLF7Hjdgz","children":[],"key":"mvx4UkJrxQ"}],"key":"JheOFrOfp3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data cleanup and formatting","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UxOPXmjg6c"}],"key":"ojQMe8ZU3c"}],"key":"sj9hT8oeHz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a zero-padded time string (e.g. for 9:30 AM we are changing '930' into '0930')\ndf['time_str'] = [('0' * (4 - len(str(df.time[i])))) + str(df.time[i]) for i in range(df.shape[0])]\n\n# locate where rows have time_str == 2400 (midnight), and the whole column 'doy'\n# where we are at midnight, we need to shift one day forward\ndf.loc[df['time_str'] == '2400','doy'] += 1\n\n# and then change midnight from '2400' to '0000'\ndf.time_str.replace('2400', '0000', inplace=True)","key":"b8eDYLfF0V"},{"type":"outputs","id":"JbnG1XNIO8DVBCEnEe2rA","children":[],"key":"NHpMrQPwY5"}],"key":"G6xnLzhTPN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This function lets us convert year and day of year (the format that the datalogger uses) to a pandas ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wUwuX8ts4i"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"datetime index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yDDbmrhN1b"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DatetimeIndex.html","key":"ERiXfg2WWu"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mWUnzSjPoI"}],"key":"PLbRsjv1Go"}],"key":"NfDCapjXpB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def compose_date(years, months=1, days=1, weeks=None, hours=None, minutes=None,\n                 seconds=None, milliseconds=None, microseconds=None, nanoseconds=None):\n    '''Compose a datetime object from various datetime components. This clever solution is from:\n        https://stackoverflow.com/questions/34258892/converting-year-and-day-of-year-into-datetime-index-in-pandas'''\n    years = np.asarray(years) - 1970\n    months = np.asarray(months) - 1\n    days = np.asarray(days) - 1\n    types = ('\u003cM8[Y]', '\u003cm8[M]', '\u003cm8[D]', '\u003cm8[W]', '\u003cm8[h]',\n             '\u003cm8[m]', '\u003cm8[s]', '\u003cm8[ms]', '\u003cm8[us]', '\u003cm8[ns]')\n    vals = (years, months, days, weeks, hours, minutes, seconds,\n            milliseconds, microseconds, nanoseconds)\n    return sum(np.asarray(v, dtype=t) for t, v in zip(types, vals)\n               if v is not None)","key":"fRY9c0uMg1"},{"type":"outputs","id":"3ayxXRShR1G1gvVS0Xkw4","children":[],"key":"MmpmkLwEtO"}],"key":"Y0pNYpvT5V"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Create a datetime value from the date field and zero-padded time_str field, set this as our dataframe's index\ndf.index = compose_date(df['year'], \n                        days=df['doy'], \n                        hours=df['time_str'].str[:2],\n                        minutes=df['time_str'].str[2:])\n\n# Remove entries that are from table \"102\" (this contains datalogger battery information we're not interested in at the moment)\ndf = df[df.table != 102]\n\n# drop the columns we no longer need\ndf.drop(columns=['table','year','doy','time','time_str','batt_a','batt_b'], inplace=True)","key":"Ho1AdxB9QV"},{"type":"outputs","id":"p8OcxZnUp_U14fm2beFrW","children":[],"key":"XMC1kSomsZ"}],"key":"kDGfdtpnTq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the contents","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E5D5AwaMlr"}],"key":"skEvprU5vp"}],"key":"ifhqnbQzH9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.head()","key":"oAIl25biXY"},{"type":"outputs","id":"ypXTHt_N7mkSYIDyqvcU0","children":[],"key":"PbqpJZmiWh"}],"key":"ZP9blOuPRj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Make a simple plot of the data. We are interested in the variable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EgueJqazWi"},{"type":"inlineCode","value":"rad_avg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uBiGmmVc4L"},{"type":"text","value":" which is the average temperature measured by the radiometer over each 5 minute period.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RZa5p00DRq"}],"key":"NAGU08IkgY"}],"key":"dDuQtaCHa6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n\n# set axes limits\nplt.ylim((-35,5))\nplt.xlim((pd.Timestamp(2020,2,5,11,0),pd.Timestamp(2020,2,12,16,0)))\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"rjekb0PNBM"},{"type":"outputs","id":"WMVP5_2VqcWTFsNn3wyT6","children":[],"key":"OrpOiSVXXL"}],"key":"hDCerMjWVH"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Bonus plot: look at snow temperatures below the snow surface","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YDIWzw2G55"}],"key":"dqdjxcTEPA"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Add the following to the above plot to add lines for temperature recorded at each depth interval below the snow surface:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WTj1BMCLiI"}],"key":"sfSiOMEsaw"},{"type":"code","lang":"","value":"# plot the snow temperature at each depth it was measured\ndf.temp1_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.8,0.8,1], label='Ts @ -5 cm')\ndf.temp2_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.6,0.6,1], label='Ts @ -10 cm')\ndf.temp3_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.4,0.4,1], label='Ts @ -15 cm')\ndf.temp4_avg.plot(linestyle='-', marker='.', markersize=1, c=[0.2,0.2,1], label='Ts @ -20 cm')\ndf.temp5_avg.plot(linestyle='-', marker='.', markersize=1, c=[0,0,1], label='Ts @ -30 cm')","position":{"start":{"line":6,"column":1},"end":{"line":13,"column":1}},"key":"wK9gNiLXl0"}],"class":"dropdown ","key":"qS8WCYvHng"}],"key":"jxJ7b3IwhO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"But then we want to focus on the date/time when our IR image was from, so zoom in on Feb 8th by changing our plot’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x1JJliJiEh"},{"type":"link","url":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"xlim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YqLdmV7NrF"}],"urlSource":"https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html","key":"RgkOwPS7mt"},{"type":"text","value":" (using pandas ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wUsFB6iYoh"},{"type":"link","url":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Timestamps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KQdixuNd7j"}],"urlSource":"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html","key":"r8uNAzRfV0"},{"type":"text","value":" for the x axis values).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mVPGDuffJ6"}],"key":"MflsMOYHFN"}],"key":"pgvx9XtemT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# set axes limits\nplt.ylim((-15,0)) # set some temperature y-axis limits for our plot\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"aCuVoLZCUO"},{"type":"outputs","id":"COYGuZul_yJvz80YFBWlg","children":[],"key":"VqKlZOiGBr"}],"key":"s5CIpmQGa9"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MtbjO8y7uS"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Compare Airborne IR against the “ground truth” snow surface temperature","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mjeLSbbDDA"}],"identifier":"compare-airborne-ir-against-the-ground-truth-snow-surface-temperature","label":"Compare Airborne IR against the “ground truth” snow surface temperature","html_id":"compare-airborne-ir-against-the-ground-truth-snow-surface-temperature","implicit":true,"key":"SBQnR2lBiB"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What is the temperature at this point in the airborne IR image?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"R20wHKlGDj"}],"key":"zN3oAp6PdB"}],"key":"zOrB6br5ij"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Use rioxarray’s ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZYcdhh99zY"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"clip","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"OBmvRtBzXU"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","key":"cKDfgym5eY"},{"type":"text","value":" function to extract the raster values that intersect with the point’s geometry. Because we have a point, this will return a single value for the pixel that overlaps this point.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qpPIp0mYVK"}],"key":"GAMilAEa3e"}],"key":"JlqVGXpFzA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# clip using our point's geometry\nairborne_ir_point_temperature = airborne_ir.rio.clip(siteData_df.geometry)\n\n# preview the result\nairborne_ir_point_temperature","key":"QtFfzItFUh"},{"type":"outputs","id":"biz6EeDWEkrNmhbVLUmJY","children":[],"key":"GOSB7NVquV"}],"key":"F3sTCjpxmJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Our result is a DataArray with a single data value at one set of x and y coordinates.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S3fJT0YMFf"}],"key":"jyqlqVPTz2"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Pixel = Point ?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vPLHQQfZ0y"}],"key":"EwY81Lsn5W"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Should we expect that the temperature measured for an image pixel would be the same for an individual point on the ground? The airborne imagery is at 5 meter spatial resolution, whereas our ground-based radiometer measured a spot maybe only ~1 m in diameter. Additionally, the geolocation of the airborne imagery is less accurate than 5 meters (closer to 10-15 meters) meaning that if we picked a single pixel to overlap our ground point, it may be the wrong pixel. Let’s instead look at the average and distribution of temperatures from the airborne imagery in an area around this point.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ByW33o8vws"}],"key":"JP76jLYKfH"}],"key":"zPKw5WKT3S"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Add a 100 m radius ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"xam7dKgPf6"},{"type":"link","url":"https://geopandas.org/docs/reference/api/geopandas.GeoSeries.buffer.html","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"buffer","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NSVVDLwOGr"}],"urlSource":"https://geopandas.org/docs/reference/api/geopandas.GeoSeries.buffer.html","key":"hgzYEeoMhe"},{"type":"text","value":" around this point and get the temperature from the airborne imagery for a larger area around the snow pit.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NfBrdCT3Iv"}],"key":"DxhbRLPC8B"}],"key":"QGhrDxBlaH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"r = 100 # radius of the buffer in meters (this is in meters because we are working in a UTM coordinate reference system)\n\n# create the buffered geometry\nsiteData_df_buffer = siteData_df.buffer(r)\n\n# preview the resulting geometry, we should see this is a POLYGON now\nsiteData_df_buffer","key":"FxmXuKvcXs"},{"type":"outputs","id":"m6-lLT8wUc53mdHpM6zQT","children":[],"key":"GVlntRPETM"}],"key":"ufG1d2Be46"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What does this polygon look like when we plot it on top of the airborne IR image now?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z7aemk3BVK"}],"key":"DWlXaBpNSq"}],"key":"zkO0pcFmrv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(10,10)) # create a new matplotlib figure, set the figure size\nax.set_aspect('equal') # set the aspect ratio to \"equal\"\n\n# plot the airborne infrared image\nairborne_ir.plot(cmap='magma', vmin=-10, vmax=10, ax=ax, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n\n# set the same axes limits as above\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n\n# set plot title\nax.set_title('Location of Snow Pit 2S10, and 100 m radius buffer\\nwith ASTER Band 14 TIR imagery');","key":"wgv6O2d55U"},{"type":"outputs","id":"Wi2FRai107xtDp2GE3Tj_","children":[],"key":"C61QGr4kPM"}],"key":"Q5CfmWTxvp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Clip the airborne IR raster again, now with our 200 m diameter polygon around the snow pit site.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WWEeMlW78g"}],"key":"xvKquYlbT7"}],"key":"skX1eXH8Wt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# clip using our new geometry\nairborne_ir_area_temperature = airborne_ir.rio.clip(siteData_df_buffer.geometry)\n\n# preview the result\nairborne_ir_area_temperature","key":"I7mrYmluz2"},{"type":"outputs","id":"28euJApGjZ7wHPgKgKo0M","children":[],"key":"LFdrMkW5jT"}],"key":"HBrnR3WLV1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The result of clipping is again a DataArray, this time though it is 40x40. We can plot this to see what it looks like, and to see the distribution of temperatures in the area.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tAaFBsk9al"}],"key":"kO1R5nkOke"}],"key":"QFW34G06Kv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)\n\n# plot the portion of the airborne TIR image we selected within the buffer area geometry\nairborne_ir_area_temperature.plot(cmap='magma', vmin=-7, vmax=-4, ax=ax[0], \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\nax[0].set_title('Airborne TIR image within\\n100 m radius buffer (2S10)\\n')\nax[0].set_aspect('equal')\nax[0].set_xlabel('Eastings UTM 12N (m)')\nax[0].set_ylabel('Northings UTM 12N (m)')\nax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point's \"total bounds\"\nax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point's \"total bounds\"\n\n# plot the location of the snow pit of interest to the plot\nsiteData_df.plot(ax=ax[0], color='c', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax[0], edgecolor='c', facecolor='none')\n\n# plot a histogram of image temperature data within the buffer area geometry\nairborne_ir_area_temperature.plot.hist(ax=ax[1],\n                                       color='k', \n                                       zorder=1, # use zorder to make sure this plots below the point\n                                       label='zonal $T_S$ histogram') \n\n# plot a vertical line for the single-pixel temperature we think is right at the snow pit\nax[1].axvline(airborne_ir_point_temperature, \n              color='c',linestyle='--',  # set color and style\n              zorder=2, # use zorder to make sure this plots on top of the histogram\n              label='$T_S$ single pixel') \n\n# plot a vertical line for the mean temperature within the buffer area geometry\nax[1].axvline(airborne_ir_area_temperature.mean(), \n              color='m',linestyle='--',  # set color and style\n              zorder=2, # use zorder to make sure this plots on top of the histogram\n              label='zonal mean $T_S$') \n\nax[1].legend(loc='upper left') # add a legend\nax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot\nax[1].set_ylim((0,400)) # set ylim\nax[1].set_title('Snow surface temperatures\\nfrom Airborne TIR image (snow pit 2S10)')\nax[1].set_ylabel('Number of pixels');","key":"jNAcW60Jgr"},{"type":"outputs","id":"XJ3OG8I6J4JYUxXTFvvDN","children":[],"key":"G0EkIzipxT"}],"key":"IlKKH5TS0C"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What do these plots tell us about the surface temperature around the snow pit as measured by the airborne IR cameras?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XKtQdlB7DS"}],"key":"eYyUNiT5Us"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Is the snow surface temperature more variable or uniform in this area?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zHW0x6jCC8"}],"key":"cyRGMAaWtB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Note that we changed the minimum and maximum values of our colorbar!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QPMIW9mu95"}],"key":"Ue6uOoctIr"}],"key":"WFrteuguRi"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Try computing the standard deviation of temperatures in this area","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K6MGXGIxo4"}],"key":"uAYVydoxq4"}],"key":"VlXAVUo73b"}],"key":"CGLt6YzxEd"}],"key":"Uzjdu8pF6d"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How does our single pixel at the center compare with the rest of this area?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HO5jKcLxdw"}],"key":"CQ5o46IZS3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Try taking the mean or median of all temperatures in the area and compare against the single point. What is the difference?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tcyXZX7KHA"}],"key":"ks3EyeuIBz"}],"key":"qAXW7w6b4t"}],"key":"fla94Pquwc"}],"key":"YeWnmGsrPG"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"See ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ONty1uin0h"},{"type":"cite","url":"https://doi.org/10.1016/j.rse.2018.03.001","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Lundquist et al., 2018","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CFKbbNP9uR"}],"kind":"narrative","label":"Lundquist_2018","identifier":"https://doi.org/10.1016/j.rse.2018.03.001","enumerator":"1","key":"AS6RAhXjam"},{"type":"text","value":" for an application of these methods with airborne and MODIS thermal infrared imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"cAFC1tGZPA"}],"key":"pIWjRo7fwX"}],"key":"h6fdbWjGz6"}],"key":"ESc2dN0CtX"}],"class":"dropdown","key":"JT0enVfBRC"}],"key":"GfkLMSSxCC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the airborne IR temperature data on top of the ground-based timeseries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EJGGTEjzUk"}],"key":"dGqXS4Zx9X"}],"key":"YsjuzvD3Gl"}],"key":"mhLTwAyoCa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# plot the mean airborne IR temperature from the area around the snow pit:\nplt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n         marker='o', c='r', linestyle='none',\n         label='Airborne IR mean $T_s$ for 100 m radius area')\n\n# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit\nplt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], \n                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='r',\n            label='Airborne IR $T_s$ range for 100 m radius area')\n\n\n# set axes limits\nplt.ylim((-15,0))\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel(r'Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"Vk9bymdRpj"},{"type":"outputs","id":"cr2H9Gg-lH4PwtgMFd3mu","children":[],"key":"uCgEZUOHT5"}],"key":"egh59BQDcD"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Continuing with this analysis:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sVfrLiobSC"}],"key":"SDyBj8kfTE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the above plot we’ve added “error bars” to represent the full range of temperatures within the 100 m radius area around the snow pit.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CTXDPDWzcN"}],"key":"ye1JN4DyKr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Is this a fair comparison?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"k3VAudEYWX"}],"key":"FjHdMUmfYT"}],"key":"vCNp3I4eOj"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Should we make the area smaller based on our confidence in the image’s geolocation accuracy (10-15 m)?","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dJqRCkd622"}],"key":"Z0as7Lq3tX"}],"key":"ADG4P4sOga"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What is the difference between the “ground truth” data and the airborne IR data at this point in time?","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BdrOYluML0"}],"key":"ycJlUAC1Pf"}],"key":"bVj9QQtKVN"}],"key":"dbiTyUN7st"}],"class":"dropdown","key":"jM77DXdD9K"}],"key":"ti46lRrbQC"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZzUERFwWUU"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Part 2: Satellite IR remote sensing obsevations","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pSNUntdaLA"}],"identifier":"part-2-satellite-ir-remote-sensing-obsevations","label":"Part 2: Satellite IR remote sensing obsevations","html_id":"part-2-satellite-ir-remote-sensing-obsevations","implicit":true,"key":"c01W8q7XZa"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Satellite IR imagery with ASTER","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"f9eUJxABgG"}],"identifier":"satellite-ir-imagery-with-aster","label":"Satellite IR imagery with ASTER","html_id":"satellite-ir-imagery-with-aster","implicit":true,"key":"HNsQh7c2RP"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Advantages of satellite IR images:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KiVM56l2TC"}],"key":"ODXbI0Adc0"},{"type":"text","value":" We don’t always have airplanes with IR cameras flying around. Satellites can provide images at more regular intervals for long-term studies, and can see areas that are difficult to access on the ground or by air.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QTCgV2ysLk"}],"key":"R0DZK8sEwn"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"What might be some diadvantages of satellite IR imagery compared to airborne IR imagery?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"AdwaaqxwAf"}],"key":"Za4xFhHf9y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Lower spatial resolution because they’re further away from the Earth’s surface","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"PfQjZjTKKe"}],"key":"PxSq6n6ulr"}],"key":"Qug9SuyQTQ"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Mixed pixel problem: with lower image resolutions, each pixel contains a more heterogeneous mixtures of surfaces and temperatures, meaning that temperature information is more blurred together","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fEUt7rvxLw"}],"key":"GVHHW5CrJV"}],"key":"tCroCIuWLa"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What other disadvantages can you think of?","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"i4yFfPGA8W"}],"key":"HrVnmZy1lw"}],"key":"AM9U1kPNQl"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"How might these differences (advantages or disadvantages) change the type of research questions you can investigate?","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"DqMkNewyO6"}],"key":"Fmyin1PEJ2"}],"key":"oXlKzgJ1We"}],"key":"cFcxrzdEKp"}],"class":"dropdown","key":"P064oVAYNf"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"For this tutorial, we will look at an image from NASA’s ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"j2tqOEkmYT"},{"type":"link","url":"https://asterweb.jpl.nasa.gov/","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Advanced Spaceborne Thermal Emission and Reflection Radiometer","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"oz4M6tHizV"}],"urlSource":"https://asterweb.jpl.nasa.gov/","key":"JqJaSpTz3N"},{"type":"text","value":" (ASTER) imager, which is onboard the Terra satellite along with a MODIS imager. We can compare an ASTER IR image of Grand Mesa that was taken at roughly the same time as the airborne IR image. The ASTER image we will be working with is from ASTER’s ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"fGommfYmVi"},{"type":"link","url":"https://asterweb.jpl.nasa.gov/characteristics.asp","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"band 14","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"JeiNFAjbH6"}],"urlSource":"https://asterweb.jpl.nasa.gov/characteristics.asp","key":"vMZiswH3ur"},{"type":"text","value":" which is sensitive to radiance in the 10.95-11.65 µm wavelength range.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Wyqwn3QkfG"}],"key":"Lq1Zl1eHI3"}],"key":"w0Ptycyn5p"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load an ASTER geotiff that we’ve downloaded for this tutorial, and inspect its contents.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lb94QV3eIn"}],"key":"FyjzKu7R5l"}],"key":"JPZqocKC7X"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir = rioxarray.open_rasterio(S3_BASE_URL + 'AST_L1T_00302082020180748_20200209065849_17218_ImageData14.tif')","key":"JxAo04TMGG"},{"type":"outputs","id":"y-ZfYYc26rGxyXFQf2ukE","children":[],"key":"RFgmtT2lWz"}],"key":"Yt8reQCCED"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the ASTER file we just opened","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bWNwY4D8B5"}],"key":"BjCZ9dejw4"}],"key":"r3dbNqDXfL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir","key":"HINYF8CHZa"},{"type":"outputs","id":"Y0gIlg58Iu9OWI2WPJiB6","children":[],"key":"xa30OZZIT5"}],"key":"reGvjWgZGq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is its CRS?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ikmFPn8KLn"}],"key":"V75GHfO7AQ"}],"key":"my9K2BKwGg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir.rio.crs","key":"T939m2vros"},{"type":"outputs","id":"0ZpWkWxVU0JYg25_CniBk","children":[],"key":"lH6xURgG4u"}],"key":"kUrZmWiICm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Reproject this ASTER image into our common coordinate system\naster_ir = aster_ir.rio.reproject('EPSG:26912') # overwrite itself with new reprojected data array","key":"tWEvWx6FGU"},{"type":"outputs","id":"jmgJN9r-H6KSnLX3tTtn3","children":[],"key":"M0R9p5Emow"}],"key":"jevtTtSmrB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When was this image taken?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l9n7HNk2UF"}],"key":"JIAatOunJf"}],"key":"MQlAZEGaKj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir_timestamp = pd.Timestamp(2020,2,8,18,7,48) - pd.Timedelta(hours=7)","key":"rs4WJeqRZO"},{"type":"outputs","id":"Rf3L69ZHEO39pJsxUlsgF","children":[],"key":"uoXI7FULhk"}],"key":"JuDyl0RFYb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the image. What are the units of the values on the colorbar?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Th8ET7s13M"}],"key":"erTaXSZjkn"}],"key":"ujaG5PosZU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_ir.plot()","key":"NHuCgpsEDy"},{"type":"outputs","id":"ugbU509K38uqrJjENrUUT","children":[],"key":"qRimFpDcJV"}],"key":"ZpoPIcrDib"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It’s necessary to read the product documentation to understand what we are looking at here.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AdkBMDjXyJ"}],"key":"gGMCjemuDS"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are using the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"y9DTkp1QMq"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ASTER Level 1 Precision Terrain Corrected Registered At-Sensor Radiance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d7bQlMsXHd"}],"key":"zsuo2rseQR"},{"type":"text","value":" (AST_L1T) product. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nE30gUreDS"},{"type":"link","url":"https://lpdaac.usgs.gov/products/ast_l1tv003/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Product documentation is available here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vUQ99GwzXY"}],"urlSource":"https://lpdaac.usgs.gov/products/ast_l1tv003/","key":"ByoS6nj05G"},{"type":"text","value":". Also helpful is the ** (AST_L1B) ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"M9qx5Cl0Ny"},{"type":"link","url":"https://lpdaac.usgs.gov/products/ast_l1bv003/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"product documentation here","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MrBRN6ifAJ"}],"urlSource":"https://lpdaac.usgs.gov/products/ast_l1bv003/","key":"JhGKBDeUr5"},{"type":"text","value":" from which AST_L1T is derived.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"U90xcHvSTe"}],"key":"UMaChIeA0X"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The values here are stored as scaled “digital number” (DN) values rather than the actual radiance values. The product documentation also provides information about how to unscale these values back into radiance units, and from radiance to brightness temperature, using laboratory calibrated constants.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oqT4UMhwOE"}],"key":"yTwqQyMYT5"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"I’ve written two functions here to do this unit conversion for the five ASTER TIR bands in two steps (DN to radiance, radiance to brightness temperature). The function takes as its arguments the DN or radiance values respectively, and the band number (in our case band number ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WRhBq3STou"},{"type":"inlineCode","value":"14","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eAGJp7F9vS"},{"type":"text","value":", ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZcmeLS5BEu"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"not the band wavelengths","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"c3L6XUDNIz"}],"key":"ZoyZyEQPKY"},{"type":"text","value":").","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FsC0pCoIUc"}],"key":"rtWsNpkm4u"}],"key":"XVYHGbFs90"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def tir_dn2rad(DN, band):\n    '''Convert AST_L1T Digital Number values to At-Sensor Radiance for the TIR bands (bands 10-14).'''\n    ucc = [6.822e-3, 6.780e-3, 6.590e-3, 5.693e-3, 5.225e-3]\n    rad = (DN-1.) * ucc[band-10]\n    return rad\n\ndef tir_rad2tb(rad, band):\n    '''Convert AST_L1T At-Sensor Radiance to Brightness Temperature [K] for the TIR bands (bands 10-14).'''\n    k1 = [3047.47, 2480.93, 1930.80, 865.65, 649.60]\n    k2 = [1736.18, 1666.21, 1584.72,1349.82, 1274.49]\n    tb = k2[band-10] /  np.log((k1[band-10]/rad) + 1)\n    return tb","key":"zWBXp8xkRZ"},{"type":"outputs","id":"tZDhWAbG8sWR-IcU-YBYD","children":[],"key":"lVO2yGTwrg"}],"key":"hmHKWzSkDt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use the above functions to convert from DN to radiance, radiance to brightness temperature (assume and emissivity of 1 for all surfaces, note that the airborne imagery also assumed emissivity of 1).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tsxtm4Ew8R"}],"key":"oOJapC8muA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Then convert from degeees K to degrees C by subtracting 273.15.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sqLWhzwWqC"}],"key":"GFc8rgKhD7"}],"key":"ohgWm0Cgwz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_band14_rad = tir_dn2rad( aster_ir, band=14 ) # convert from DN to radiance\naster_band14_tb_k = tir_rad2tb( aster_band14_rad, band=14 ) # convert from radiance to brightness temperature (K)\naster_band14_tb_c = aster_band14_tb_k - 273.15 # convert from K to C\n\n# Note that an \"invalid value encountered...\" warning may pop up here. This is because the above function tries to take the log of \"nan\" values that are outside the imaged area\n# we can ignore this warning and proceed","key":"CeBFDxF8fo"},{"type":"outputs","id":"FVCrJ0bybigk42f8ekq_F","children":[],"key":"rdNmrNX3ac"}],"key":"uEgGjAQGHC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"During this unit conversion, xarray dropped the coordinate reference system attributes, so here we add the original crs to the new ASTER degrees celsius dataarray.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w9ZAxcwnwS"}],"key":"wwtYmGLCOq"}],"key":"wEkDuUN2cT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"aster_band14_tb_c.rio.set_crs(aster_ir.rio.crs, inplace=True);","key":"MNlHOZx300"},{"type":"outputs","id":"H0SKr8Obx8NcRd_uscBMd","children":[],"key":"L7QZtZzy9f"}],"key":"vK7FK53FPF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot our image again, this time setting our colorscale and colorbar values. We should see “realistic” surface temperature values in degrees C now.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xp0ZqMKoiy"}],"key":"AlLB0SnmqN"}],"key":"rcWoCAzBoG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(figsize=(15,10))\nax.set_aspect('equal')\naster_band14_tb_c.plot(ax=ax,\n                       cmap='magma', \n                       vmin=-20, vmax=20, # note that we have a wider temperature range on our colorbar for this image, -20 to +20 C instead of -10 to +10 C\n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})","key":"SGhM9BLhcg"},{"type":"outputs","id":"l1-EdMXvdvMQfHQcRvQaf","children":[],"key":"bjuj6KGwUQ"}],"key":"GAH5W7KtRz"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Image interpretation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eJbv8BwkBH"}],"key":"ENxK7dZJmD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What does our chosen colorscale tell us about temperatures here?","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gbGPpVmWMN"}],"key":"F3Yw3zqPQy"}],"key":"c4dqIRdWR8"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What can we see?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"y6omdpQuoo"}],"key":"Iw2mT2PwXq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What do you think that cold linear feature across the image is? (Hint: think about the cold object we saw in the airborne IR image)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h3VrzYqloF"}],"key":"e9xyTlP1PL"}],"key":"keIcD6fVkD"}],"key":"uolT7AaJ5Q"}],"key":"JDx3pJtP8T"}],"key":"HzSMiE6tOz"}],"class":"hint","key":"TvyGk0vPRW"}],"key":"qhWdp3F0t9"},{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[],"key":"LGye6JFLVz"}],"key":"Zv2qrRA6yj"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot ASTER next to Airborne IR to see spatial resolution differences","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JPD8NkTnMG"}],"key":"QgqLdlD2id"}],"key":"AtwAStGCh3"}],"key":"Xbf6T5eiqx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=2, ncols=1, figsize=(12,6), tight_layout=True)\n\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels and limits\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_xlim((735000, 760000))\n    ax.set_ylabel('Northings UTM 12N (m)')\n    ax.set_ylim((4320000, 4325000))","key":"aumBDrQnCc"},{"type":"outputs","id":"FPDAFVhtSe4BVv3mWtzHD","children":[],"key":"cdpSeNVM5x"}],"key":"scLZoq1esz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Make another plot to zoom in on snow pit 2S10:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wn3S8kHAcW"}],"key":"iuwmnvkukv"}],"key":"GPts2dLszi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(12,4), tight_layout=True)\n\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    # set the same axes limits as above\n    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\n    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"zgWdOlLSev"},{"type":"outputs","id":"Ctprw24OsP1S9qR8GhZws","children":[],"key":"s5pzOXrFfC"}],"key":"vWHnNyUKRK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get the temperature of the ASTER pixel at the snow pit point using rioxarray ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hKYe53wmu0"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"clip","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XyJceqIeQb"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/clip_geom.html","key":"LPX1I13shK"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yji5YomDtT"}],"key":"qoRHVLBsIx"}],"key":"F0IZ9XvDBj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# First clip to the single point\naster_band14_tb_c_point_temperature = aster_band14_tb_c.rio.clip(siteData_df.geometry)\n\n# Second clip to the 100 m radius buffered area\naster_band14_tb_c_area_temperature = aster_band14_tb_c.rio.clip(siteData_df_buffer.geometry)\n\n# preview the result\naster_band14_tb_c_area_temperature","key":"exhhXs3eot"},{"type":"outputs","id":"EIssfp-O0QYU0Q2LQJC3M","children":[],"key":"UL9gu7ehGa"}],"key":"p247BUUfBf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How many ASTER pixels in the area did we select?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g8d8TNGTMd"}],"key":"kkyw6bGukb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the clipped area:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RUdoFbXtN2"}],"key":"q1pEyJel3J"}],"key":"cdMAvu0syx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(10,5), tight_layout=True)\n\n# plot the portion of the airborne TIR image we selected within the buffer area geometry\naster_band14_tb_c_area_temperature.plot(cmap='magma', vmin=-7, vmax=-4, ax=ax[0], \n                 cbar_kwargs={'label': 'Temperature $\\degree C$'})\nax[0].set_title('ASTER TIR image within\\n100 m radius buffer (2S10)\\n')\nax[0].set_aspect('equal')\nax[0].set_xlabel('Eastings UTM 12N (m)')\nax[0].set_ylabel('Northings UTM 12N (m)')\nax[0].set_xlim((xmin-150, xmax+150)) # x axis limits to +/- 150 m from our point's \"total bounds\"\nax[0].set_ylim((ymin-150, ymax+150)) # y axis limits to +/- 150 m from our point's \"total bounds\"\n\n# plot the location of the snow pit of interest to the plot\nsiteData_df.plot(ax=ax[0], color='r', marker='x')\n\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax[0], edgecolor='r', facecolor='none')\n\n# plot a histogram of image temperature data within the buffer area geometry\naster_band14_tb_c_area_temperature.plot.hist(ax=ax[1], color='k');\nax[1].set_xlim((-7,-4)) # set xlim to same values as colorbar in image plot\nax[1].set_title('Histogram of temperatures from ASTER TIR image\\n100 m radius buffer (2S10)')\nax[1].set_ylabel('Number of pixels');","key":"HCGzfjimJd"},{"type":"outputs","id":"IZgjIPs4OzWdceuJGs7jg","children":[],"key":"qMicPeVHUy"}],"key":"NETgjRFPg2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ASTER IR temperature data on top of the ground-based timeseries and airborne IR temperature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E7eVEUOV1c"}],"key":"te5HQKCfnP"}],"key":"gBmuniHw5e"}],"key":"HoQMJ1QoQS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(10,4))\n\n# plot radiometer average temperature\ndf.rad_avg.plot(linestyle='-', marker='', markersize=1, c='k', label='Ground-based $T_s$')\n\n# plot the mean airborne IR temperature from the area around the snow pit:\nplt.plot(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n         marker='o', c='r', linestyle='none',\n         label='Airborne IR mean $T_s$ for 100 m radius area')\n# plot an error bar showing the maximum and minimum airborne IR temperature around the snow pit\nplt.errorbar(airborne_ir_timestamp, airborne_ir_area_temperature.mean(),\n             yerr=[[airborne_ir_area_temperature.mean()-airborne_ir_area_temperature.min()], \n                   [airborne_ir_area_temperature.max()-airborne_ir_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='r',\n            )#label='Airborne IR $T_s$ range for 100 m radius area')\n\n# plot the mean ASTER IR temperature from the area around the snow pit:\nplt.plot(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),\n         marker='o', c='b', linestyle='none',\n        label='ASTER IR mean $T_s$ for 100 m radius area')\n# plot an error bar showing the maximum and minimum ASTER IR temperature around the snow pit\nplt.errorbar(aster_ir_timestamp, aster_band14_tb_c_area_temperature.mean(),\n             yerr=[[aster_band14_tb_c_area_temperature.mean()-aster_band14_tb_c_area_temperature.min()], \n                   [aster_band14_tb_c_area_temperature.max()-aster_band14_tb_c_area_temperature.mean()]],\n            capsize=3, fmt='none', ecolor='b',\n            )#label='ASTER IR $T_s$ range for 100 m radius area')\n\n\n# set axes limits\nplt.ylim((-15,0))\nplt.xlim((pd.Timestamp(2020,2,8,6,0),pd.Timestamp(2020,2,8,20,0))) # zoom in to daytime hours on Feb. 8, 2020\n\n# add a legend to the plot\nplt.legend()\n\n# set axes labels\nplt.ylabel('Temperature [$C\\degree$]')\nplt.xlabel('Time')\n\n# add grid lines to the plot\nplt.grid('on')\n\n# set the plot title\nplt.title('Snow Surface Temperature at Snow Pit 2S10');","key":"lFA1rrqlxJ"},{"type":"outputs","id":"0nEoTpoQ4QYGlKhVolHsS","children":[],"key":"LsvaLj9lgZ"}],"key":"RaPatR9RPT"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EtIOVeoXfJ"},{"type":"heading","depth":4,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Bonus activity: comparing two thermal IR rasters","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Hk1EOQRKAc"}],"identifier":"bonus-activity-comparing-two-thermal-ir-rasters","label":"Bonus activity: comparing two thermal IR rasters","html_id":"bonus-activity-comparing-two-thermal-ir-rasters","implicit":true,"key":"ohrKFiJAx6"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"How does the finer spatial resolution airborne IR image compare with the coarser resolution ASTER IR image?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hCqWGuJtsD"}],"key":"b3Jh8r0obj"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"One way to compare these two images is to “upscale” the finer resolution airborne IR image to the same spatial resolution as ASTER.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"i6NzZ2gg0b"}],"key":"rHAS0tx9RI"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We can use the rioxarray ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"hl1ocAQ6q7"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject_match","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"reproject_match","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JMSRGxlBkC"}],"urlSource":"https://corteva.github.io/rioxarray/stable/rioxarray.html#rioxarray.raster_array.RasterArray.reproject_match","key":"ifM9SgfUmc"},{"type":"text","value":" function to do this. (","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"E7OnFqpcZW"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"also see this example","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"GcnwcG7qvh"}],"urlSource":"https://corteva.github.io/rioxarray/stable/examples/reproject_match.html","key":"kpCGWRvCAy"},{"type":"text","value":")","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"q5apDYGmBB"}],"key":"tAC1rqwURj"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Note that this function has ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HxpmSXFpNi"},{"type":"link","url":"https://rasterio.readthedocs.io/en/stable/api/rasterio.enums.html#rasterio.enums.Resampling","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"multiple options","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vA7waBDmDg"}],"urlSource":"https://rasterio.readthedocs.io/en/stable/api/rasterio.enums.html#rasterio.enums.Resampling","key":"BhMuRNEn8P"},{"type":"text","value":" for how we want to resample the image data to the new spatial resolution. We will use ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"W9CQ5l7oRL"},{"type":"inlineCode","value":"resampling=5","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ECJdUUmLTc"},{"type":"text","value":" which corresponds to taking the mean value.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Yh1LIjNd9G"}],"key":"yFVtf9YHkc"}],"key":"Pbv8u9H7xo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir_repr = airborne_ir.rio.reproject_match(aster_ir, resampling=5)","key":"WtWABVEu3d"},{"type":"outputs","id":"RKGu3pckipvvJhEjlje0B","children":[],"key":"E1gJlZRgHT"}],"key":"yAXEqMGGOo"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Preview the result.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pqcgIElbFR"}],"key":"RBXOBF9su4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"What are the image dimensions of the reprojected airborne IR image compared with the original?","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"K2BBOMbodF"}],"key":"mATIBoGdNY"}],"key":"AR8iar37yi"}],"key":"EcZhicYj6Q"}],"key":"OC01pGhdov"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"airborne_ir_repr","key":"lVVL3ZDtKp"},{"type":"outputs","id":"h0Nw6a4todIkVx9X6x1Z9","children":[],"key":"uSqd0haN34"}],"key":"ALdmiz81iG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ASTER image, original airborne IR image, and resampled airborne IR image next to each other to visualize these spatial resolution differences.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cr1SCgvRBc"}],"key":"y35m3OjUf7"}],"key":"JsuWE1LdCq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=1, ncols=3, figsize=(15,4), tight_layout=True)\n\n# ASTER IR image\naster_band14_tb_c.plot(ax=axs[0], \n                       cmap='magma', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[0].set_title('ASTER IR')\naxs[0].set_aspect('equal')\n\n# Original airborne IR image\nairborne_ir.plot(ax=axs[1], \n                 cmap='magma', \n                 vmin=-10, vmax=10, \n                 cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[1].set_title('Airborne IR')\naxs[1].set_aspect('equal')\n\n# Resampled airborne IR image\nairborne_ir_repr.plot(ax=axs[2], \n                      cmap='magma', \n                      vmin=-10, vmax=10, \n                      cbar_kwargs={'label': r'Temperature $\\degree C$'})\naxs[2].set_title('Airborne IR resampled (mean)\\nto ASTER resolution (90m)')\naxs[2].set_aspect('equal')\n\n\n# for each subplot, do the following:\nfor ax in axs: \n    ax.set_aspect('equal') # set the aspect ratio to \"equal\"\n    \n    # plot the location of the snow pit of interest\n    siteData_df.plot(ax=ax, color='r', marker='x')\n    # plot the area of the buffer we made around the snow pit\n    siteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n    \n    # set axes labels\n    ax.set_xlabel('Eastings UTM 12N (m)')\n    ax.set_ylabel('Northings UTM 12N (m)')\n    # set the same axes limits as above\n    ax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\n    ax.set_ylim((ymin-1000, ymax+1000)) # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"lOsN8hz6MF"},{"type":"outputs","id":"13Lrsomimo5Umx8s107-Z","children":[],"key":"Uyvo59E0wP"}],"key":"Kx7309C4ba"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Finally, compute the difference between the ASTER IR image and resampled airborne IR image, then plot the result:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gO64V5WUE8"}],"key":"IJYztLpuex"}],"key":"KSDDhG86IY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Subtract reprojected airborne IR image from ASTER IR image\ndifference_image = aster_band14_tb_c - airborne_ir_repr","key":"f1RyUyiHyL"},{"type":"outputs","id":"6wQsVxfiSib2EwGXdSSVT","children":[],"key":"gDi3cn31Ln"}],"key":"NuwwJLhWnv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(nrows=1, ncols=1, figsize=(6,5), tight_layout=True)\n\n# Difference image\ndifference_image.plot(ax=ax, \n                       cmap='RdBu_r', \n                       vmin=-10, vmax=10, \n                       cbar_kwargs={'label': 'Temperature $\\degree C$'})\nax.set_title('Temperature Difference\\n(ASTER IR - Reprojected Airborne IR)\\n')\nax.set_aspect('equal')\n\n# plot the location of the snow pit of interest\nsiteData_df.plot(ax=ax, color='r', marker='x')\n# plot the area of the buffer we made around the snow pit\nsiteData_df_buffer.plot(ax=ax, edgecolor='r', facecolor='none')\n\n# set axes labels\nax.set_xlabel('Eastings UTM 12N (m)')\nax.set_ylabel('Northings UTM 12N (m)')\n# set the same axes limits as above\nax.set_xlim((xmin-1000, xmax+1000)) # x axis limits to +/- 1 km from our point's \"total bounds\"\nax.set_ylim((ymin-1000, ymax+1000)); # y axis limits to +/- 1 km from our point's \"total bounds\"","key":"xh3GHNvHeD"},{"type":"outputs","id":"R_kf8ggZo4lvE3G2NowbY","children":[],"key":"y4ryZEyeqN"}],"key":"ZM38gU9jcb"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TuTGdr3ly1"},{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Next steps:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"klioiDe36R"}],"identifier":"next-steps","label":"Next steps:","html_id":"next-steps","implicit":true,"key":"eDGD01i3pG"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Project ideas with these data:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hokCgSnbna"}],"identifier":"project-ideas-with-these-data","label":"Project ideas with these data:","html_id":"project-ideas-with-these-data","implicit":true,"key":"AxIbU90n4z"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare more snow pit temperature data (using snowexsql queries) against airborne and satellite IR imagery","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yfZtH7CAFd"}],"key":"HDn04fkUwm"}],"key":"wcRj0mGiCk"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Investigate spatial patterns of snow temperature from open areas to forested areas on the mesa, differences between ASTER and airborne IR imagery","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"CxgoImMAHm"}],"key":"toB2jiPYmp"}],"key":"yHg4asRuSp"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Improved data visualization using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"O0Zk43Zn5r"},{"type":"link","url":"https://hvplot.holoviz.org/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"hvplot","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XJG6tMO3TN"}],"urlSource":"https://hvplot.holoviz.org/","key":"ohmeCZQ9OO"},{"type":"text","value":" or something similar to create interactive plots of IR and/or visible imagery","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"r4RJ5FzSGP"}],"key":"xWouUKLgTM"}],"key":"CgPlAKoNPu"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare thermal infrared and SAR imagery, or snow temperature observations and snow model outputs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"eMVgGAo31x"}],"key":"EmP8fWhKxH"}],"key":"X0sBvWpSCa"}],"key":"xkLQ9bJzu2"},{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"nhQpxtY8XZ"}],"key":"A8IXkO8RLo"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Contact Steven Pestana during the hackweek for help accessing more airborne IR or visible imagery and related datasets","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fmBuHzFiG8"}],"key":"jT3DKVVAR8"}],"key":"Y0DFdmAVgf"}],"key":"yO1uEc1kes"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Data access/download and pre-processing","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"PJwAjUwON2"}],"identifier":"data-access-download-and-pre-processing","label":"Data access/download and pre-processing","html_id":"data-access-download-and-pre-processing","implicit":true,"key":"G2GtswkExj"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"See the jupyter notebook ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"eWsufs8nck"},{"type":"link","url":"./thermal-ir-data-download.ipynb","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"thermal​-ir​-data​-download​.ipynb","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"L4DzixNJS9"}],"urlSource":"./thermal-ir-data-download.ipynb","key":"x0O72Cbz9R"},{"type":"text","value":" for more details about data access methods through the NASA EarthData API, and pre-processing ASTER data into geotiff images.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"oam0sY0QjC"}],"key":"S5Lwuk6TKw"},{"type":"heading","depth":3,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Additional learning resources:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"rRRLX0V4Ms"}],"identifier":"additional-learning-resources","label":"Additional learning resources:","html_id":"additional-learning-resources","implicit":true,"key":"yHQAd3L03g"},{"type":"admonition","kind":"seealso","children":[{"type":"admonitionTitle","children":[{"type":"link","url":"https://numpy.org","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"NumPy","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"uZUnB9fTvC"}],"urlSource":"https://numpy.org","key":"KnS8NucWFH"},{"type":"text","value":" learning resources:","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"sbhxk84i5e"}],"key":"Fm98DxEnjU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":21,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_0.ipynb","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"NumPy and the ndarray","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"UzpMSFTGQf"}],"urlSource":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_0.ipynb","data":{"kind":"file","org":"waterhackweek","repo":"waterdata","reference":"master","file":"gridded_data_tutorial_0.ipynb","raw":"https://raw.githubusercontent.com/waterhackweek/waterdata/master/gridded_data_tutorial_0.ipynb"},"internal":false,"protocol":"github","key":"wn5jK63KTR"}],"key":"Ck84eJTlrc"}],"key":"PndYTOYloX"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://numpy.org/devdocs/user/absolute_beginners.html","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"NumPy: the absolute basics for beginners","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"KrrA6vF3OA"}],"urlSource":"https://numpy.org/devdocs/user/absolute_beginners.html","key":"kTAFXtmzem"}],"key":"ErPwB1V7yt"}],"key":"zDkxXhAHYk"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scipy-lectures.org/intro/numpy/index.html","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"NumPy: creating and manipulating numerical data","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"HFyllCHgMh"}],"urlSource":"https://scipy-lectures.org/intro/numpy/index.html","key":"ojBpH9yeEL"}],"key":"nu4nu0oIud"}],"key":"XWHRl5tIDF"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scipy-lectures.org/advanced/advanced_numpy/index.html","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Advanced NumPy","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"HrMOGryL6I"}],"urlSource":"https://scipy-lectures.org/advanced/advanced_numpy/index.html","key":"wZbsWki5r0"}],"key":"pm2T0qSbIV"}],"key":"MWmYNHgnuC"},{"type":"listItem","spread":true,"position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"NumPy for MATLAB users","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"kewXPUdJpd"}],"urlSource":"https://numpy.org/doc/stable/user/numpy-for-matlab-users.html","key":"pquPddon7d"}],"key":"ZUDGp4Xjbi"}],"key":"b80Dx7trOW"}],"key":"QISaxjLKI9"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"link","url":"https://xarray.pydata.org/en/stable/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"K8pCTIcMP4"}],"urlSource":"https://xarray.pydata.org/en/stable/","key":"WZzySnghbY"},{"type":"text","value":" and ","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"VxGQI081zc"},{"type":"link","url":"https://corteva.github.io/rioxarray/stable/","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"rioxarray","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"MvKZimxN8o"}],"urlSource":"https://corteva.github.io/rioxarray/stable/","key":"WTS9vQaob7"},{"type":"text","value":" learning resources:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"D6kfqD1mGW"}],"key":"WigTZWNOsC"}],"key":"hSLHUpCTht"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":28,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_1.ipynb","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Introduction to xarray","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"mMtz7FgvoP"}],"urlSource":"https://github.com/waterhackweek/waterdata/blob/master/gridded_data_tutorial_1.ipynb","data":{"kind":"file","org":"waterhackweek","repo":"waterdata","reference":"master","file":"gridded_data_tutorial_1.ipynb","raw":"https://raw.githubusercontent.com/waterhackweek/waterdata/master/gridded_data_tutorial_1.ipynb"},"internal":false,"protocol":"github","key":"ZH9lLofOcr"}],"key":"cgbWZ7wjAR"}],"key":"XzKbxNPLQV"},{"type":"listItem","spread":true,"position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/geohackweek/raster-2019","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"GeoHackWeek 2019 raster tools","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"kS0Hi2m3GC"}],"urlSource":"https://github.com/geohackweek/raster-2019","error":true,"key":"lYn7rMBn3l"}],"key":"ZAJHWzzqCv"}],"key":"sWU7Yv4IhP"},{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://rasterio.readthedocs.io/en/latest/","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"rasterio","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"pwwAKtb5WK"}],"urlSource":"https://rasterio.readthedocs.io/en/latest/","key":"Ks55CKKu8E"}],"key":"oJHCu5xOvO"}],"key":"HmlIqfALIo"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://scitools.org.uk/cartopy/docs/latest/","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"cartopy","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"yTBC1guSoQ"}],"urlSource":"https://scitools.org.uk/cartopy/docs/latest/","key":"HsyVbC8p98"}],"key":"TEFaalrWDe"}],"key":"IT5XjmQuU7"}],"key":"EZR7iIJfJT"},{"type":"paragraph","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"strong","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"link","url":"https://asterweb.jpl.nasa.gov/","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"ASTER","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"C4cbVqF4Zn"}],"urlSource":"https://asterweb.jpl.nasa.gov/","key":"c65jTcGPCQ"},{"type":"text","value":" resources:","position":{"start":{"line":33,"column":1},"end":{"line":33,"column":1}},"key":"jFJm4JZzHC"}],"key":"HRAvCVuoSA"}],"key":"UXiYySpJeV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":34,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://git.earthdata.nasa.gov/projects/LPDUR/repos/aster-l1t/browse","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"ASTER L1T Scripts and Tutorials","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"IplVjM7ZcM"}],"urlSource":"https://git.earthdata.nasa.gov/projects/LPDUR/repos/aster-l1t/browse","key":"kut2Kr5764"}],"key":"ZpgYTiH0od"}],"key":"vkZfojx0R1"},{"type":"listItem","spread":true,"position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"paragraph","children":[{"type":"link","url":"https://github.com/UW-GDA/aster-thermal/","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"children":[{"type":"text","value":"Validating ASTER Thermal Infrared Imaging for use in Snow Models","position":{"start":{"line":35,"column":1},"end":{"line":35,"column":1}},"key":"iZ9XDjbdBO"}],"urlSource":"https://github.com/UW-GDA/aster-thermal/","error":true,"key":"LSxhBSQ3O4"}],"key":"Ojlebbg2LF"}],"key":"qs1VJ6DTuo"}],"key":"hWxDFCSNH5"}],"key":"pctnc41Al7"}],"key":"BVcXjyVRyE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open an airborne TIR mosaic NetCDF file","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M8VJvD076c"}],"key":"CdcVJGup06"}],"key":"GO5kMCxmqz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Open airborne TIR mosaic NetCDF file\nwith fsspec.open(S3_BASE_URL + 'SNOWEX2020_IR_PLANE_2020Feb08_mosaicked_APLUW.nc') as f:\n    ds = xr.open_dataset(f, decode_times=False)\n    ds = ds.load()","key":"yc6Z0nPqOV"},{"type":"outputs","id":"mto4qwfJL9WZjnGXBwa8S","children":[],"key":"ayvrtabIFO"}],"key":"dKc223ViGE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect the dataset and its dimensions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O9CF8G8VlV"}],"key":"PGw2hFvPe3"}],"key":"lyB5Y1ZSwM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Preview the dataset\nds","key":"spJU8CAIUo"},{"type":"outputs","id":"GT6dS3vP7o3t0yHykhXwA","children":[],"key":"KHnipq9zft"}],"key":"NBSvLrQ43F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Take a look at the dimensions in the dataset\nds.dims","key":"okmum9MvAR"},{"type":"outputs","id":"NLV5WFsNKJ4sKujq1dPvE","children":[],"key":"TyKJy7suQ8"}],"key":"y0Ztnk7Tmg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There is an extra dimension (“na”) that we will want to drop, we will want to rename some of the dims, assign coordinates to those dims, and add a coordinate reference system for plotting.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ysMAH9FqeR"}],"key":"vbHbHgSc6s"}],"key":"VEI0Ae7RE6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Drop the extra \"na\" dimension from E_UTM, N_UTM, and time\nds['E_UTM'] = ds['E_UTM'].isel(na=0, drop=True)\nds['N_UTM'] = ds['N_UTM'].isel(na=0, drop=True)\nds['time'] = ds['time'].isel(na=0, drop=True)","key":"i70s1dAdoV"},{"type":"outputs","id":"VLBKuYq2_ec9JaitTI23f","children":[],"key":"FVqfPWA9D9"}],"key":"YNG5U1fJPH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rename the dimensions to some easier to use names","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v3Rxn3gghP"}],"key":"vN6gEREc8P"}],"key":"aYnJRiiehO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Rename dims\nds = ds.rename({\"pass\" : \"time\", \n                \"easting, x\" : \"easting\", \n                \"northing, y\" : \"northing\"})","key":"dnj3ULXZG7"},{"type":"outputs","id":"hR8uf6zX2llnPeWPX3eCq","children":[],"key":"y7KGmFSfCl"}],"key":"m4YfVd7zHu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This NetCDF file was generated in MATLAB, and the dates/times are in an epoch format. Use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ydo4vNdIIY"},{"type":"link","url":"https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"utcfromtimestamp()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ihx3rb3Nac"}],"urlSource":"https://docs.python.org/3/library/datetime.html#datetime.datetime.utcfromtimestamp","key":"mGdEtZLmv6"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kF9j3Qe95B"},{"type":"link","url":"https://docs.python.org/3/library/datetime.html#datetime.date.isoformat","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"isoformat()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"foLS8l1u65"}],"urlSource":"https://docs.python.org/3/library/datetime.html#datetime.date.isoformat","key":"xzLBcylyv9"},{"type":"text","value":" to convert and reformat into a more convenient format.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"In4oBaHJhQ"}],"key":"K5jI3PXlxi"}],"key":"xLG1OOG3gC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Decode matlab (epoch) format times\nutctime = [datetime.utcfromtimestamp(this_time).isoformat() for this_time in ds.time.values]","key":"Q7tm6Nv8OA"},{"type":"outputs","id":"EefzohGw44Kd0-gPTNs4e","children":[],"key":"PJPfJBCyom"}],"key":"p9KuSRGDUq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Assign and then transpose coordinates in our dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bSxyUdSBre"}],"key":"NQSgtZnv9P"}],"key":"OtyAjJEIvc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Assign coordinates to the \"northing\",  \"easting\", and \"time\" dimensions\nds = ds.assign_coords({\"time\": utctime, \"northing\": ds.N_UTM, \"easting\": ds.E_UTM})","key":"BJ9mvXdnOF"},{"type":"outputs","id":"p7y8F6Xcc6GUQNkoZ9WlI","children":[],"key":"U1huZnMylp"}],"key":"OJlQHnnQfH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Transpose coords\nds = ds.transpose(\"time\", \"northing\", \"easting\")","key":"xl9Onhdndn"},{"type":"outputs","id":"dKIWZpq82bnXdgiQ__Tv1","children":[],"key":"bYEJk9bFk1"}],"key":"xsmYrKHOmz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Set spatial dimensions then define which coordinate reference system the spatial dimensions are in","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yZLSxxgUyl"}],"key":"UtYpte1iru"}],"key":"RFXWn6ZVD1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Write the coordinate reference system for the spatial dims with rioxarray\n# https://github.com/corteva/rioxarray/issues/379\nds.rio.write_crs('epsg:32612', inplace=True,\n                ).rio.set_spatial_dims('easting', 'northing', inplace=True,\n                                      ).rio.write_coordinate_system(inplace=True)","key":"vLkQIeIALv"},{"type":"outputs","id":"ryEX56kfP3dV2Nl6HiglH","children":[],"key":"wl6CdNUfhB"}],"key":"BjhiAzKJw7"}],"key":"q2e9DTSMiO"},"references":{"cite":{"order":["Lundquist_2018"],"data":{"Lundquist_2018":{"label":"Lundquist_2018","enumerator":"1","doi":"10.1016/j.rse.2018.03.001","html":"Lundquist, J. D., Chickadel, C., Cristea, N., Currier, W. R., Henn, B., Keenan, E., \u0026 Dozier, J. (2018). Separating snow and forest temperatures with thermal infrared remote sensing. \u003ci\u003eRemote Sensing of Environment\u003c/i\u003e, \u003ci\u003e209\u003c/i\u003e, 764–779. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1016/j.rse.2018.03.001\"\u003e10.1016/j.rse.2018.03.001\u003c/a\u003e","url":"https://doi.org/10.1016/j.rse.2018.03.001"}}}},"footer":{"navigation":{"prev":{"title":"GPR and Lidar","url":"/notebooks/gpr-lidar-hackweektutorial","group":"Observations"},"next":{"title":"Time-lapse Cameras","url":"/notebooks/timelapse-camera-tutorial","group":"Observations"}}},"domain":"http://localhost:3000"},"project":{"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"bibliography":["/home/runner/work/snow-observations-cookbook/snow-observations-cookbook/references.bib"],"title":"Snow Observations Cookbook","authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"contributors":[{"id":"brian-rose","nameParsed":{"literal":"Brian E. J. Rose","given":"Brian E. J.","family":"Rose"},"name":"Brian E. J. Rose","orcid":"0000-0002-9961-3821","email":"brose@albany.edu","affiliations":["UAlbany"],"url":"https://brian-rose.github.io","github":"brian-rose","bluesky":"@brianejrose.bsky.social","linkedin":"https://www.linkedin.com/in/brian-rose-37bb55106/"},{"id":"clyne","nameParsed":{"literal":"John Clyne","given":"John","family":"Clyne"},"name":"John Clyne","orcid":"0000-0003-2788-9017","affiliations":["CISL"],"github":"clyne"},{"id":"jukent","nameParsed":{"literal":"Julia Kent","given":"Julia","family":"Kent"},"name":"Julia Kent","orcid":"0000-0002-5611-8986","affiliations":["CISL"],"github":"jukent"},{"id":"ktyle","nameParsed":{"literal":"Kevin Tyle","given":"Kevin","family":"Tyle"},"name":"Kevin Tyle","orcid":"0000-0001-5249-9665","affiliations":["UAlbany"],"github":"ktyle"},{"id":"andersy005","nameParsed":{"literal":"Anderson Banihirwe","given":"Anderson","family":"Banihirwe"},"name":"Anderson Banihirwe","orcid":"0000-0001-6583-571X","affiliations":["CarbonPlan"],"github":"andersy005"},{"id":"dcamron","nameParsed":{"literal":"Drew Camron","given":"Drew","family":"Camron"},"name":"Drew Camron","orcid":"0000-0001-7246-6502","affiliations":["Unidata"],"github":"dcamron"},{"id":"dopplershift","nameParsed":{"literal":"Ryan May","given":"Ryan","family":"May"},"name":"Ryan May","orcid":"0000-0003-2907-038X","affiliations":["Unidata"],"github":"dopplershift"},{"id":"mgrover1","nameParsed":{"literal":"Maxwell Grover","given":"Maxwell","family":"Grover"},"name":"Maxwell Grover","orcid":"0000-0002-0370-8974","affiliations":["Argonne"],"github":"mgrover1"},{"id":"r-ford","nameParsed":{"literal":"Robert R. Ford","given":"Robert R.","family":"Ford"},"name":"Robert R. Ford","orcid":"0000-0001-5483-4965","affiliations":["UAlbany"],"github":"r-ford"},{"id":"kmpaul","nameParsed":{"literal":"Kevin Paul","given":"Kevin","family":"Paul"},"name":"Kevin Paul","orcid":"0000-0001-8155-8038","affiliations":["NVIDIA"],"github":"kmpaul"},{"id":"jnmorley","nameParsed":{"literal":"James Morley","given":"James","family":"Morley"},"name":"James Morley","orcid":"0009-0005-5193-7981","github":"jnmorley"},{"id":"erogluorhan","nameParsed":{"literal":"Orhan Eroglu","given":"Orhan","family":"Eroglu"},"name":"Orhan Eroglu","orcid":"0000-0003-3099-8775","affiliations":["CISL"],"github":"erogluorhan"},{"id":"lkailynncar","nameParsed":{"literal":"Lily Kailyn","given":"Lily","family":"Kailyn"},"name":"Lily Kailyn","orcid":"0009-0002-0125-5091","affiliations":["CISL"],"github":"lkailynncar"},{"id":"anissa111","nameParsed":{"literal":"Anissa Zacharias","given":"Anissa","family":"Zacharias"},"name":"Anissa Zacharias","orcid":"0000-0002-2666-8493","affiliations":["CISL"],"github":"anissa111"},{"id":"kafitzgerald","nameParsed":{"literal":"Katelyn FitzGerald","given":"Katelyn","family":"FitzGerald"},"name":"Katelyn FitzGerald","orcid":"0000-0003-4184-1917","affiliations":["CISL"],"github":"kafitzgerald"}],"github":"https://github.com/SnowEx/snow-observations-cookbook","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"copyright":"2025","references":{"foundations":{"url":"https://foundations.projectpythia.org"},"xarray":{"url":"https://docs.xarray.dev/en/stable"},"matplotlib":{"url":"https://matplotlib.org/stable"}},"thebe":{"binder":{"url":"https://binder.projectpythia.org/","provider":"github","repo":"executablebooks/thebe-binder-base","ref":"HEAD"}},"toc":[{"file":"README.md"},{"children":[{"file":"notebooks/how-to-cite.md"}],"title":"Preamble"},{"children":[{"file":"notebooks/snowex_data_overview.ipynb"},{"file":"notebooks/snowexsql_database.ipynb"}],"title":"Data Access"},{"children":[{"file":"notebooks/GPR_Lidar_HackweekTutorial.ipynb"},{"file":"notebooks/thermal-ir-tutorial.ipynb"},{"file":"notebooks/timelapse-camera-tutorial.ipynb"},{"file":"notebooks/uavsar-tutorial.ipynb"},{"file":"notebooks/microstructure-tutorial.ipynb"},{"file":"notebooks/aviris-ng-tutorial.ipynb"},{"file":"notebooks/tls_data_access.ipynb"},{"file":"notebooks/snotel_data_access.ipynb"}],"title":"Observations"}],"thumbnail":"/snow-observations-cookbook/_preview/5/build/thumbnail-c869c6f136c62bbb5c59045dae119b4c.png","exports":[],"index":"index","pages":[{"level":1,"title":"Preamble"},{"slug":"notebooks.how-to-cite","title":"How to Cite This Cookbook","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/72a08caa5cbe5f9cce5999dbd1a81dfd.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Data Access"},{"slug":"notebooks.snowex-data-overview","title":"Field Campaigns Overview","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/01_banner-3c67ac52aaa2d793676c7acc5e1388cf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snowexsql-database","title":"SnowExSQL Database","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/data_examples-e77e821f225f0de724b7e89d19471f73.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Observations"},{"slug":"notebooks.gpr-lidar-hackweektutorial","title":"GPR and Lidar","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/HackweekGraphicalAbs-68093e2aabcb2ce53fac1570dde5851d.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.thermal-ir-tutorial","title":"Thermal Infrared","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/twinotter1-b96ccd5f381e63b9c1c3f5d80c02c54c.JPG","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.timelapse-camera-tutorial","title":"Time-lapse Cameras","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-e99cc28480825ad66086bfeee5aa475b.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.uavsar-tutorial","title":"UAVSAR","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/sthelens-de459014c82b4d12fd2ba9d1dd659e0a.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.microstructure-tutorial","title":"Microstructure","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/dozier2009_fig2-293446ea9438f9d806f9efc2ed581557.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.aviris-ng-tutorial","title":"Introduction to AVIRIS-NG","description":"","date":"","thumbnail":"/snow-observations-cookbook/_preview/5/build/Aviris-d012363c6519fff9ea04fefc540aa631.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.tls-data-access","title":"Terrestrial Laser Scanning","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"notebooks.snotel-data-access","title":"SNOTEL Data Access","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/snow-observations-cookbook/_preview/5/build/manifest-7B0967AD.js";
import * as route0 from "/snow-observations-cookbook/_preview/5/build/root-EDJFWIEV.js";
import * as route1 from "/snow-observations-cookbook/_preview/5/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/snow-observations-cookbook/_preview/5/build/entry.client-PCJPW7TK.js");</script></body></html>