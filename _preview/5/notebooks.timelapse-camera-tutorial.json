{"version":3,"kind":"Notebook","sha256":"f3abf8d056ec2b2244c730641226f9fef47de90195312123cfd2e4dd79729864","slug":"notebooks.timelapse-camera-tutorial","location":"/notebooks/timelapse-camera-tutorial.ipynb","dependencies":[],"frontmatter":{"title":"Time-lapse Cameras","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"snow-cookbook-test","language":"python"},"authors":[{"nameParsed":{"literal":"The NASA Snow Observations Community","given":"The NASA Snow Observations","family":"Community"},"name":"The NASA Snow Observations Community","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/SnowEx/snow-observations-cookbook","copyright":"2025","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/SnowEx/snow-observations-cookbook/blob/HEAD/notebooks/timelapse-camera-tutorial.ipynb","edit_url":"https://github.com/SnowEx/snow-observations-cookbook/edit/HEAD/notebooks/timelapse-camera-tutorial.ipynb","thumbnail":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-832f68685d34ce6b96b6fc4dc97aca76.png","exports":[{"format":"ipynb","filename":"timelapse-camera-tutorial.ipynb","url":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-19d433660d91a95ed1afa605bb4d995a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Learning Objectives","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IzSc24IcyT"}],"key":"PqxbTDySsh"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"At the conclusion of this tutorial, you will...:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"l68s6fmZdf"}],"key":"WFKoBWaySH"}],"key":"EnaFTHX8IN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Know about all the time-lapse images available from the SnowEx 2017 and 2020 field campaigns","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"NZP86ngcMM"}],"key":"WgSas9vpkn"}],"key":"S0WQVGxSYN"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"View example time-lapse images from SnowEx 2020 and visualize their locations","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"uZkxCsWOGy"}],"key":"Hs2RADPef3"}],"key":"NP3tNBGt3Q"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Access snow depth measurements extracted from the SnowEx 2020 time-lapse images","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"yTgjL5DI3W"}],"key":"WFRQBGZbUT"}],"key":"hIVqjU9jvV"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Compare snow depths from different SnowEx 2020 time-lapse cameras","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cWbHSS68GJ"}],"key":"JKOjCaAiRM"}],"key":"WoQvkSz3TU"}],"key":"yQcsl9l8Nj"}],"key":"bfxgomoiUC"}],"key":"Yh0dAgtkjH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Time-lapse Cameras on Grand Mesa during SnowEx Field Campaigns","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UvcgqL9Elf"}],"identifier":"time-lapse-cameras-on-grand-mesa-during-snowex-field-campaigns","label":"Time-lapse Cameras on Grand Mesa during SnowEx Field Campaigns","html_id":"time-lapse-cameras-on-grand-mesa-during-snowex-field-campaigns","implicit":true,"key":"RaTW8hoQMe"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Time-lapse cameras were installed in both the SnowEx 2017 and 2020 field campaigns on Grand Mesa in similar locations.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"HZL4s5Rffh"}],"key":"sJSPAR9jzv"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"SnowEx 2017 Time-lapse Cameras","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"llNt2Yxewh"}],"key":"sW7OPBdEZD"}],"key":"G2vbU42aHP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"28 Total Time-lapse Cameras","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Dkeio2rD3j"}],"key":"NaBNoaFn7x"}],"key":"LthRnjau1l"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Capturing the entire winter season (September 2016-June 2017)","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"h3gzql0Mbs"}],"key":"xE2uKvY9en"}],"key":"s76itZ5TyG"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Taking 4 photos/day at 8AM, 10AM, 12PM, 2PM, 4PM","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Ji2kiWkfSp"}],"key":"vJhKcraOET"}],"key":"fUPbpJrYt4"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"An orange pole was installed in front of 15 cameras for snow depth measurements","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EluNUAIAVJ"}],"key":"esYd95lBAq"}],"key":"xCxqU2yn3H"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Time-lapse images have been submitted to the NSIDC by Mark Raleigh with all the required metadata (e.g., locations, naming convention, etc.) for use.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YxUK7lS1c2"}],"key":"KQI0AfwVG0"}],"key":"N0TxXCoU3f"}],"key":"n6mX7rRtp1"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"SnowEx 2020 Time-lapse Cameras","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"BHg3vrDlBF"}],"key":"QRIJoMGePu"}],"key":"oP1GH8lKsY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"29 Total Time-lapse Cameras","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"qHdmmszCMy"}],"key":"U3BtV7Ux8x"}],"key":"qZ9X32UOXM"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Capturing the entire winter season (September 2019-June 2020)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"fIImKHRg1l"}],"key":"kTR9YpgAPj"}],"key":"X6CmedpE8j"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Taking 3 photos/day at 11AM, 12PM, 1PM or 2 photos/day at 11AM and 12PM","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"ZL3hvC9ta5"}],"key":"qDGhq7HLZW"}],"key":"wfnT9UUQQw"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A red pole was installed in front of each camera for snow depth measurements.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qyuUI5RguT"}],"key":"sr63zJlCWg"}],"key":"UAW53K4Co1"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Cameras were installed on the east and west side of the Grand Mesa, across a vegetation scale of 1-9, using the convention ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RXjxILydAe"},{"type":"strong","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"XMR","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cOSNc3VFtb"}],"key":"KH9euU9S6X"},{"type":"text","value":":","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"GxRHuqY97Q"}],"key":"vX2860AiL3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"X","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ZjeKHwOMzh"}],"key":"Ur0wSi4N73"},{"type":"text","value":" = East (E) or West (W) areas of the Mesa","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"ncIqJ7pIPT"}],"key":"pQXHN03Wo8"}],"key":"hPe8ETnnDz"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"M","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"uIFDi7C4Cv"}],"key":"sQKmSQvTuf"},{"type":"text","value":" = number 1-9, representing 1 (least vegetation) to 9 (most vegetation). Within each vegetation class, there were three sub-classes of snow depths derived from 2017 SnowEx lidar measurements.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"zMWiKY8VFj"}],"key":"oKSg0Mkteb"}],"key":"QKvUTZReHG"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"R","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"RBUn5yIpKS"}],"key":"aXdyKhOM9w"},{"type":"text","value":" = Replicate of vegetation assignment, either A, B, C, D, or E.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"buwX88GzTZ"}],"key":"rrZtpwHQ63"}],"key":"bgf8LJ48mD"}],"key":"kv7wr2Pd64"}],"key":"l8IPmbHPcq"}],"key":"fz455hX74I"}],"key":"ubfp2MCCp2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"An automated way of viewing and mapping time-lapse photos","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kNADvVpBDN"}],"identifier":"an-automated-way-of-viewing-and-mapping-time-lapse-photos","label":"An automated way of viewing and mapping time-lapse photos","html_id":"an-automated-way-of-viewing-and-mapping-time-lapse-photos","implicit":true,"key":"tH1W2s6H8f"}],"key":"Fo1c2qer0d"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"First, we will procedurally import the necessary packages to access the data. To access the snow depths at each camera station, we will use the SnowEx database (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GEKfKKG2bt"},{"type":"inlineCode","value":"snowexsql","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FMuThg2gac"},{"type":"text","value":") to access the depths as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZWwv8IC9xm"},{"type":"inlineCode","value":"PointMeasurements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lnQDzk5rm4"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GJSS9kucTe"}],"key":"U5If6GnMj4"}],"key":"Ek7mUhFE5V"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from snowexsql.api import PointMeasurements\n\n# Import information for all point measurement types\nmeasurements = PointMeasurements()\n\n# List unique instruments\nresults = measurements.all_instruments\nprint('\\nAvailable Instruments = {}'.format(', '.join([str(r) for r in results])))","key":"RaJ2X8gLPf"},{"type":"outputs","id":"U-oFae0ixKgP9RNDKGhd9","children":[{"type":"output","children":[],"jupyter_data":{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mFileNotFoundError\u001b[39m                         Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 7\u001b[39m\n\u001b[32m      4\u001b[39m measurements = PointMeasurements()\n\u001b[32m      6\u001b[39m \u001b[38;5;66;03m# List unique instruments\u001b[39;00m\n\u001b[32m----> \u001b[39m\u001b[32m7\u001b[39m results = \u001b[43mmeasurements\u001b[49m\u001b[43m.\u001b[49m\u001b[43mall_instruments\u001b[49m\n\u001b[32m      8\u001b[39m \u001b[38;5;28mprint\u001b[39m(\u001b[33m'\u001b[39m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[33mAvailable Instruments = \u001b[39m\u001b[38;5;132;01m{}\u001b[39;00m\u001b[33m'\u001b[39m.format(\u001b[33m'\u001b[39m\u001b[33m, \u001b[39m\u001b[33m'\u001b[39m.join([\u001b[38;5;28mstr\u001b[39m(r) \u001b[38;5;28;01mfor\u001b[39;00m r \u001b[38;5;129;01min\u001b[39;00m results])))\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/api.py:722\u001b[39m, in \u001b[36mPointMeasurements.all_instruments\u001b[39m\u001b[34m(self)\u001b[39m\n\u001b[32m    717\u001b[39m \u001b[38;5;129m@property\u001b[39m\n\u001b[32m    718\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mall_instruments\u001b[39m(\u001b[38;5;28mself\u001b[39m):\n\u001b[32m    719\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    720\u001b[39m \u001b[33;03m    Return all distinct instruments in the data\u001b[39;00m\n\u001b[32m    721\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m--> \u001b[39m\u001b[32m722\u001b[39m \u001b[43m    \u001b[49m\u001b[38;5;28;43;01mwith\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43mdb_session_with_credentials\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;28;43;01mas\u001b[39;49;00m\u001b[43m \u001b[49m\u001b[43m(\u001b[49m\u001b[43m_engine\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43msession\u001b[49m\u001b[43m)\u001b[49m\u001b[43m:\u001b[49m\n\u001b[32m    723\u001b[39m \u001b[43m        \u001b[49m\u001b[43mresult\u001b[49m\u001b[43m \u001b[49m\u001b[43m=\u001b[49m\u001b[43m \u001b[49m\u001b[43msession\u001b[49m\u001b[43m.\u001b[49m\u001b[43mquery\u001b[49m\u001b[43m(\u001b[49m\u001b[43mInstrument\u001b[49m\u001b[43m.\u001b[49m\u001b[43mname\u001b[49m\u001b[43m)\u001b[49m\u001b[43m.\u001b[49m\u001b[43mfilter\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    724\u001b[39m \u001b[43m            \u001b[49m\u001b[43mInstrument\u001b[49m\u001b[43m.\u001b[49m\u001b[43mid\u001b[49m\u001b[43m.\u001b[49m\u001b[43min_\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    725\u001b[39m \u001b[43m                \u001b[49m\u001b[43msession\u001b[49m\u001b[43m.\u001b[49m\u001b[43mquery\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m   (...)\u001b[39m\u001b[32m    728\u001b[39m \u001b[43m            \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    729\u001b[39m \u001b[43m        \u001b[49m\u001b[43m)\u001b[49m\u001b[43m.\u001b[49m\u001b[43mdistinct\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\u001b[43m.\u001b[49m\u001b[43mall\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    730\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mself\u001b[39m.retrieve_single_value_result(result)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/contextlib.py:141\u001b[39m, in \u001b[36m_GeneratorContextManager.__enter__\u001b[39m\u001b[34m(self)\u001b[39m\n\u001b[32m    139\u001b[39m \u001b[38;5;28;01mdel\u001b[39;00m \u001b[38;5;28mself\u001b[39m.args, \u001b[38;5;28mself\u001b[39m.kwds, \u001b[38;5;28mself\u001b[39m.func\n\u001b[32m    140\u001b[39m \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[32m--> \u001b[39m\u001b[32m141\u001b[39m     \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28;43mnext\u001b[39;49m\u001b[43m(\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mgen\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    142\u001b[39m \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mStopIteration\u001b[39;00m:\n\u001b[32m    143\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mRuntimeError\u001b[39;00m(\u001b[33m\"\u001b[39m\u001b[33mgenerator didn\u001b[39m\u001b[33m'\u001b[39m\u001b[33mt yield\u001b[39m\u001b[33m\"\u001b[39m) \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mNone\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/db.py:130\u001b[39m, in \u001b[36mdb_session_with_credentials\u001b[39m\u001b[34m(credentials_path)\u001b[39m\n\u001b[32m    121\u001b[39m \u001b[38;5;129m@contextmanager\u001b[39m\n\u001b[32m    122\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mdb_session_with_credentials\u001b[39m(credentials_path=\u001b[38;5;28;01mNone\u001b[39;00m):\n\u001b[32m    123\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m    124\u001b[39m \u001b[33;03m    Helper method to allow database session with a context block.\u001b[39;00m\n\u001b[32m    125\u001b[39m \n\u001b[32m   (...)\u001b[39m\u001b[32m    128\u001b[39m \n\u001b[32m    129\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m--> \u001b[39m\u001b[32m130\u001b[39m     engine, session = \u001b[43mget_db\u001b[49m\u001b[43m(\u001b[49m\u001b[43mcredentials_path\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    131\u001b[39m     \u001b[38;5;28;01myield\u001b[39;00m engine, session\n\u001b[32m    132\u001b[39m     session.close()\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/db.py:106\u001b[39m, in \u001b[36mget_db\u001b[39m\u001b[34m(credentials_path, return_metadata)\u001b[39m\n\u001b[32m     89\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mget_db\u001b[39m(credentials_path: \u001b[38;5;28mstr\u001b[39m = \u001b[38;5;28;01mNone\u001b[39;00m, return_metadata: \u001b[38;5;28mbool\u001b[39m = \u001b[38;5;28;01mFalse\u001b[39;00m):\n\u001b[32m     90\u001b[39m \u001b[38;5;250m    \u001b[39m\u001b[33;03m\"\"\"\u001b[39;00m\n\u001b[32m     91\u001b[39m \u001b[33;03m    Returns the DB engine, MetaData, and session object\u001b[39;00m\n\u001b[32m     92\u001b[39m \n\u001b[32m   (...)\u001b[39m\u001b[32m    104\u001b[39m \u001b[33;03m                            modifying the database\u001b[39;00m\n\u001b[32m    105\u001b[39m \u001b[33;03m    \"\"\"\u001b[39;00m\n\u001b[32m--> \u001b[39m\u001b[32m106\u001b[39m     db_connection = \u001b[43mdb_connection_string\u001b[49m\u001b[43m(\u001b[49m\u001b[43mcredentials_path\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    108\u001b[39m     engine = create_engine(\n\u001b[32m    109\u001b[39m         db_connection, echo=\u001b[38;5;28;01mFalse\u001b[39;00m, connect_args=DB_CONNECTION_OPTIONS\n\u001b[32m    110\u001b[39m     )\n\u001b[32m    112\u001b[39m     session = sessionmaker(bind=engine)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/db.py:80\u001b[39m, in \u001b[36mdb_connection_string\u001b[39m\u001b[34m(credentials_path)\u001b[39m\n\u001b[32m     78\u001b[39m     db += credentials\n\u001b[32m     79\u001b[39m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[32m---> \u001b[39m\u001b[32m80\u001b[39m     credentials = \u001b[43mload_credentials\u001b[49m\u001b[43m(\u001b[49m\u001b[43mcredentials_path\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m     81\u001b[39m     db += (\n\u001b[32m     82\u001b[39m         \u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mcredentials[\u001b[33m'\u001b[39m\u001b[33musername\u001b[39m\u001b[33m'\u001b[39m]\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m:\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mcredentials[\u001b[33m'\u001b[39m\u001b[33mpassword\u001b[39m\u001b[33m'\u001b[39m]\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m\n\u001b[32m     83\u001b[39m         \u001b[33mf\u001b[39m\u001b[33m\"\u001b[39m\u001b[33m@\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mcredentials[\u001b[33m'\u001b[39m\u001b[33maddress\u001b[39m\u001b[33m'\u001b[39m]\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m/\u001b[39m\u001b[38;5;132;01m{\u001b[39;00mcredentials[\u001b[33m'\u001b[39m\u001b[33mdb_name\u001b[39m\u001b[33m'\u001b[39m]\u001b[38;5;132;01m}\u001b[39;00m\u001b[33m\"\u001b[39m\n\u001b[32m     84\u001b[39m     )\n\u001b[32m     86\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m db\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/snow-observations-cookbook/lib/python3.14/site-packages/snowexsql/db.py:53\u001b[39m, in \u001b[36mload_credentials\u001b[39m\u001b[34m(credentials_path)\u001b[39m\n\u001b[32m     50\u001b[39m         credentials = json.load(file)\n\u001b[32m     52\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m credentials \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[32m---> \u001b[39m\u001b[32m53\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mFileNotFoundError\u001b[39;00m(\n\u001b[32m     54\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33mFile to credentials was not provided. Please use the following options: \u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m     55\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m* Pass the file path to this method \u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m     56\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m* Set the SNOWEX_DB_CREDENTIALS environment variable to a JSON file\u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m     57\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m* Set the SNOWEX_DB_CONNECTION environment variable. \u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m     58\u001b[39m         \u001b[33m\"\u001b[39m\u001b[33m  Example: user:password@127.0.0.1/db_name\u001b[39m\u001b[33m\"\u001b[39m\n\u001b[32m     59\u001b[39m     )\n\u001b[32m     61\u001b[39m \u001b[38;5;28;01mreturn\u001b[39;00m credentials\n\n\u001b[31mFileNotFoundError\u001b[39m: File to credentials was not provided. Please use the following options: * Pass the file path to this method * Set the SNOWEX_DB_CREDENTIALS environment variable to a JSON file* Set the SNOWEX_DB_CONNECTION environment variable.   Example: user:password@127.0.0.1/db_name","ename":"FileNotFoundError","evalue":"File to credentials was not provided. Please use the following options: * Pass the file path to this method * Set the SNOWEX_DB_CREDENTIALS environment variable to a JSON file* Set the SNOWEX_DB_CONNECTION environment variable.   Example: user:password@127.0.0.1/db_name"},"key":"ABbhReqQG8"}],"key":"RrzeCMRd6e"}],"key":"VMe5P72QSm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Packages for data analysis \nimport geopandas as gpd # geopandas library for data analysis and visualization\nimport pandas as pd # pandas as to read csv data and visualize tabular data\nimport numpy as np # numpy for data analysis \n\n# Packages for data visualization\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt # matplotlib.pyplot for plotting images and graphs\n\nplt.rcParams['figure.figsize']  = (10, 4) # figure size\nplt.rcParams['axes.titlesize']  = 14 # title size \nplt.rcParams['axes.labelsize']  = 12 # axes label size \nplt.rcParams['xtick.labelsize'] = 11 # x tick label size \nplt.rcParams['ytick.labelsize'] = 11 # y tick label size \nplt.rcParams['legend.fontsize'] = 11 # legend size \nmpl.rcParams['figure.dpi'] = 100","key":"CNlZbvRgVX"},{"type":"outputs","id":"Xgd_Iznn_GZrPsFlMXLJi","children":[],"key":"X7xdcJQ11v"}],"key":"kKF04AZIeG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Query the database for camera-based snow depths\ncamera_depths = measurements.from_filter(\n    type=\"depth\",\n    site_name=\"Grand Mesa\",\n    instrument=\"camera\",\n    limit = 13371\n)\n\ncamera_depths.head()","key":"ewSvb1y7br"},{"type":"outputs","id":"hFZ2bShZt8YkbrWQJcA8V","children":[],"key":"fn3QGuCI44"}],"key":"BDn9B48GE8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the camera locations, using snow pit locations for reference.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Sl1fNhHPzS"}],"identifier":"plot-the-camera-locations-using-snow-pit-locations-for-reference","label":"Plot the camera locations, using snow pit locations for reference.","html_id":"plot-the-camera-locations-using-snow-pit-locations-for-reference","implicit":true,"key":"XLNb8BEpz0"}],"key":"nKCxkCr10L"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"camera_depths.explore(tooltip=['equipment','date','latitude','longitude','value','type','units'])","key":"DA9m8VAOSy"},{"type":"outputs","id":"_5kV_nezNZQGT_G6ifke1","children":[],"key":"VZKSIcuZH9"}],"key":"zZ3cuJOwzI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Viewing the time-lapse photos","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Lf9inec6j8"}],"identifier":"viewing-the-time-lapse-photos","label":"Viewing the time-lapse photos","html_id":"viewing-the-time-lapse-photos","implicit":true,"key":"VpnKCDCYpe"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Thanks to the SnowEx database, we were able to easily access snow depths at each site. However, if we wish to examine the camera imagery, we will need to be a bit more creative.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lOVYrB663e"}],"key":"YlmXPqBZa6"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The images are available through NSIDC, so we will use ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ILjukw8MfD"},{"type":"inlineCode","value":"earthaccess","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"axDTs9CgrF"},{"type":"text","value":" to grab one of the image archives.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Vy1ip1EGj6"}],"key":"RIl83f32rg"}],"key":"KOzOIUerZO"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Earthdata Login Authentication","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"alfITgKb5K"}],"key":"jl95ukC3NF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This tutorial requires NASA Earthdata Login credentials to access NSIDC data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UsUWlg0kJy"}],"key":"XFuMPWtFFc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://urs.earthdata.nasa.gov/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Register for free","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Bhpn2saA5K"}],"urlSource":"https://urs.earthdata.nasa.gov/","key":"i1q4R7AAMd"},{"type":"text","value":" if you don’t have an account","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"b7MXDFVQGb"}],"key":"Y3ZabbSz1v"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Once you have a username and password, you can either enter these in manually\nin the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TZnpcfLGKw"},{"type":"inlineCode","value":"strategy=\"interactive\"","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UJPaW8kaYd"},{"type":"text","value":" mode (as coded below), or you can configure your\nlocal envrionment as follows:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tf6lSptr5B"}],"key":"yuvziCzHR7"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Here’s how to configure your local system for this to work:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"MPmXhrMZIs"}],"key":"q5624XSqES"}],"key":"mkHwNmzYMo"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"First time: Run ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JcCMVlt6ni"},{"type":"inlineCode","value":"earthaccess.login()","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"j3BO523kiH"},{"type":"text","value":" without the strategy parameter to authenticate interactively","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"xvCrUVuX36"}],"key":"yoOQLPJaxw"}],"key":"RO2PRf9QPP"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This creates a ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"pYIat80geq"},{"type":"inlineCode","value":".netrc","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"h9QQbuRQHz"},{"type":"text","value":" file for future sessions","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"PeKv33soZ3"}],"key":"ynDpgCXCxm"}],"key":"uAO0CM16sR"}],"key":"aXoYlW00by"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"After making those changes, you should switch to ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"NOIlmJs8iG"},{"type":"inlineCode","value":"strategy=\"environment\"","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"L52i78gj6B"},{"type":"text","value":" below!","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"tuLOY0B2aN"}],"key":"FppSX1nM6v"}],"key":"qo7Y0zVNQn"}],"key":"kWE2lfeszN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import earthaccess\n\n# Authenticate with Earthdata Login servers\ntry:\n    auth = earthaccess.login(strategy=\"environment\")\n    print(\"✓ Successfully authenticated with Earthdata Login\")\n# Search for camera imagery (only if authenticated)\n    granules = earthaccess.search_data(\n        doi = \"10.5067/WYRNU50R9L5R\"\n    )\n    print(granules[0].data_links())\nexcept Exception as e:\n    print(f\"⚠ Authentication failed: {e}\")\n    print(\"This is expected in automated builds. \\\n           Interactive users should run earthaccess.login() to authenticate.\")\n    granules = None","key":"ChU1Jj2jOL"},{"type":"outputs","id":"NxFgrrCi4VhQElz61P3JH","children":[],"key":"BjagBR5d2y"}],"key":"ON1tT0Vhn0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Load the files into memory (only if authenticated)\nif granules:\n    files = earthaccess.open(granules)\nelse:\n    print(\"⚠ Skipping remote data access - using local sample data instead\")\n    files = None","key":"pvmpZizKng"},{"type":"outputs","id":"PIKI7QL1E0Oefq8BOr7Sk","children":[],"key":"AnRZ1j46af"}],"key":"wHXoLPYH2s"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"warning","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Large Downloads Ahead!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ITmIEgnjVs"}],"key":"qZehZULaHl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Looking at the above data links, one will notice that the images are saved in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qU9vPZ2XXs"},{"type":"inlineCode","value":".tar.gz","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nSvJJmiehe"},{"type":"text","value":" format. We can read files through ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"P47Im1u2OZ"},{"type":"inlineCode","value":"earthaccess","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"I2y4tDc6EL"},{"type":"text","value":" in this format, but it will require some more work than simply downloading the data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZNnjvPt9di"}],"key":"pFyTwYP68c"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Users may download the files if they wish, but they are on the larger side (900+ Mb). If you wish to avoid large data downloads, then the below code will help with the process. However, be aware that the code can be rather memory intensive. If running this code on CryoCloud, then consider using larger memory allocations (4+ Gb).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"H4G2XJV9f0"}],"key":"Vs1gjjy0LS"}],"key":"hmN0JbuYsX"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Here is how you would read in every file in the large ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"dYCo9wY1pL"},{"type":"inlineCode","value":"tar.gz","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"toV7j1HWEi"},{"type":"text","value":" from earthaccess into memory:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hxiVPgrUy3"}],"key":"nLjPHJjq0X"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"inlineCode","value":"file_content = files[0].read()","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"FFhexgWjd8"}],"key":"IYvOqGBgu2"}],"key":"vqDKX9JzkO"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Simplifying the download for learning purposes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cFuh5nn8k0"}],"key":"xovTZ5xc0r"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the sake of this tutorial we will create a synthetic tar.gz file with just three images we want to show here.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NfQ2SDtEAR"}],"key":"eTSAUNSkvO"}],"key":"NjMQWmr5LO"}],"key":"BJI0wV01gy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"file_content = 'data/sample-data.tar.gz'\n","key":"UtJt8XEOBl"},{"type":"outputs","id":"ROra7BXwzzl-UGYIzYKSB","children":[],"key":"yT5v3BXgV3"}],"key":"Ea4GFTyk1x"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import tarfile\nfrom io import BytesIO\nfrom datetime import datetime\nfrom PIL import Image\nimport matplotlib.pyplot as plt\n\njpg_files = []\n# Open the tarfile remotely\nwith tarfile.open(file_content, mode=\"r:gz\") as tar:\n    # Identify contents of tarfile\n    members = tar.getmembers()\n\n    # Loop through tarfile contents for images of interest\n    fig, ax = plt.subplots(1,3, figsize=(12,12))\n    ax.flatten()\n    for member in members:\n        if member.name.lower().endswith('.jpg'):\n            jpg_file = tar.extractfile(member).read()\n            \n            # Estimate datetime from image\n            creationTime = member.mtime\n            dt_c = datetime.fromtimestamp(creationTime)\n            formatted_datetime = dt_c.strftime(\"%m/%d/%Y %H:%M\")\n\n            desired_datetimes = ['09/27/2016 15:13',\n                                 '11/08/2016 14:00',\n                                 '12/10/2016 14:00']\n            \n            # Append files with desired datetime\n            for idx,dt in enumerate(desired_datetimes):\n                if formatted_datetime == dt:\n                    image = Image.open(BytesIO(jpg_file))\n                    ax[idx].imshow(image)\n                    ax[idx].set_title(desired_datetimes[idx])\n                    ax[idx].axis('off')\n\n    plt.tight_layout()","key":"MC3xfFoPCj"},{"type":"outputs","id":"IgryHgMgrGyUlIBTpWuRy","children":[],"key":"vBGWiUfwEV"}],"key":"DM1jGlM43p"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Time-lapse Camera Applications","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UP67UjkMf8"}],"identifier":"time-lapse-camera-applications","label":"Time-lapse Camera Applications","html_id":"time-lapse-camera-applications","implicit":true,"key":"vdAFqhMmeE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Installing snow poles in front of time-lapse camera provides low-cost, long-term snow depth timeseries. Snow depths from the 2020 SnowEx time-lapse imagery have been manually processed with estimation of submission to the NSIDC database in summer 2021.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HdV7Zpod3d"}],"key":"NpJuPQEfxq"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The snow depth is the difference between the number of pixels in a snow-free image and an image with snow, with a conversion from pixels to centimeters (","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZcDUZnD8oO"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Figure 1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZzOtOqnq95"}],"key":"lMNPcmGfiY"},{"type":"text","value":").","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ScDP3t36eT"}],"key":"klboZ1WTiF"}],"key":"szhlIKAJ3p"},{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/snow-observations-cookbook/_preview/5/build/timelapse-camera-tut-832f68685d34ce6b96b6fc4dc97aca76.png","alt":"equation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q4rO5DySk8","urlSource":"./images/time-lapse-camera/timelapse-camera-tutorial_27_0.png"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Figure 1: Equation to extract snow depth from camera images. For each image, take the difference in pixels between the length of a snow-free stake and the length of the stake and multiply by length(cm)/pixel. The ratio can be found by dividing the full length of the stake (304.8 cm) by the length of a snow-free stake in pixels.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ywwNZ8ufOp"}],"key":"QQ23PJVmFY"}],"key":"SGpnc9tcp5"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Snow depth can be obtained in this manner manually, but it is now easier to determine the pixel size of the stakes through machine learning. For the sake of completeness, we will provide a brief example using the camera imagery above. Otherwise, users interested in using the camera imagery with machine learning are encouraged to check out the following resources by Katherine Breen and others:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"thKRMAdNOP"}],"key":"ieKD5Cw0NS"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Publication on method","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lhKX9PnYmJ"}],"key":"NH3Sj22aK7"},{"type":"break","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"S0ZC5LZ84E"},{"type":"text","value":"Breen C. M., W. R. Currier, C. Vuyovich, et al. 2024. “Snow Depth Extraction From Time‐Lapse Imagery Using a Keypoint Deep Learning Model.” Water Resources Research 60 (7): [10.1029/2023wr036682]","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NrYyFUPXBO"}],"key":"Qmcd8QmZ3F"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Github page for algorithm","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"puEY2ALvhl"}],"key":"bOD9GuYjvj"},{"type":"break","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"Lae4veej0U"},{"type":"link","url":"https://github.com/catherine-m-breen/snowpoles","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/catherine​-m​-breen​/snowpoles","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NTcP0b0fI2"}],"urlSource":"https://github.com/catherine-m-breen/snowpoles","error":true,"key":"JQobys1ZDJ"}],"key":"A24kYYEL0c"}],"key":"go5r6SeRsX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In the example images above, we use the red pole in the fully snow-off and snow-on images for estimation.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Cr8CfG2YSt"}],"key":"o1mbpnyRm6"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For the snow-off image, the length of the red pole is ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u26L1eDpyr"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"136 pixels","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qg6xOES3sz"}],"key":"xLl2lsbk0H"},{"type":"text","value":". If we assume that the pole is 304.8 cm in length, then each pixel is approximately ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pXTwDM7y9c"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"2.24 cm","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XATD8Jhq0J"}],"key":"EHe8L96KQ4"},{"type":"text","value":" in length.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"akIwhTYAQI"}],"key":"ZiCjJwiKPy"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"For the snow-on image, the length of the red pole is ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"eNbr8ZjprD"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"72 pixels","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xYEveJDeTD"}],"key":"yApcO0BA2Z"},{"type":"text","value":", much shorter than the snow-off length. So, there is a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HYZPSPX7d7"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"~64 pixel","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xvn1tuw0Qq"}],"key":"A2jLFiz2qo"},{"type":"text","value":" difference between the snow-on and snow-off lengths. Using the equation in Figure 1, we can calculate snow depth:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QZfZlQABI5"}],"key":"epepTfthBx"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Depth = 2.24 * (136-72) = ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zveRINqUUv"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"143.36 cm","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DsBK3x5LMB"}],"key":"B9pf5fS1lO"}],"key":"veWjy2vPaM"}],"key":"I9QUx0g28K"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Acknowledgements: Anthony Arendt, Scott Henderson, Micah Johnson, Carrie Vuyovich, Ryan Currier, Megan Mason, Mark Raleigh","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vkDXt4j4QN"}],"key":"EjlHF2HTLP"}],"key":"gUbkkasVGZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Additional References","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TQ8ISLKT1t"}],"key":"VLqo5yiI77"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Qjl4spTN1S"},{"type":"text","value":"Dickerson-Lange et al., 2017. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jdMnSR7SUS"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Snow disappearance timing is dominated by forest effects on snow accumulation in warm winter climates of the Pacific Northwest, United States.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Hm51FqALDa"}],"key":"njki5FsF8O"},{"type":"text","value":" Hydrological Processes. Vol 31, Issue 10. 13 February 2017. ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tUYpgaNWwu"},{"type":"cite","url":"https://doi.org/10.1002/hyp.11144","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dickerson‐Lange ","key":"tHJpXkGinn"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"DIdC91C3iA"}],"key":"LJ4PRjnLLu"},{"type":"text","value":" (2017)","key":"KRvVKYh02I"}],"kind":"narrative","label":"Dickerson_Lange_2017","identifier":"https://doi.org/10.1002/hyp.11144","enumerator":"1","key":"Pdr3DIoAJ0"}],"key":"zfX8AF7Usc"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Raleigh et al., 2013. ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pnGBKP2BIQ"},{"type":"emphasis","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Approximating snow surface temperature from standard temperature and humidity data: New possibilities for snow model and remote sensing evaluation","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"SFKLINpkqM"}],"key":"HAaYlxdox4"},{"type":"text","value":". Water Resources Research. Vol 49, Issue 12. 07 November 2013.  ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EcHGLfpCPj"},{"type":"cite","url":"https://doi.org/10.1002/2013WR013958","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Raleigh ","key":"sAYJaP0pLJ"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"ghqDzTuLEH"}],"key":"vjDdVZ5FcQ"},{"type":"text","value":" (2013)","key":"ILY2wJ0ZKU"}],"kind":"narrative","label":"Raleigh_2013","identifier":"https://doi.org/10.1002/2013WR013958","enumerator":"2","key":"obxVSyCFCS"}],"key":"ZPtdRo5dkc"}],"key":"Tz7kPyGV6N"}],"key":"T3CAlnrMc8"},"references":{"cite":{"order":["Dickerson_Lange_2017","Raleigh_2013"],"data":{"Dickerson_Lange_2017":{"label":"Dickerson_Lange_2017","enumerator":"1","doi":"10.1002/hyp.11144","html":"Dickerson‐Lange, S. E., Gersonde, R. F., Hubbart, J. A., Link, T. E., Nolin, A. W., Perry, G. H., Roth, T. R., Wayand, N. E., & Lundquist, J. D. (2017). Snow disappearance timing is dominated by forest effects on snow accumulation in warm winter climates of the Pacific Northwest, United States. <i>Hydrological Processes</i>, <i>31</i>(10), 1846–1862. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1002/hyp.11144\">10.1002/hyp.11144</a>","url":"https://doi.org/10.1002/hyp.11144"},"Raleigh_2013":{"label":"Raleigh_2013","enumerator":"2","doi":"10.1002/2013wr013958","html":"Raleigh, M. S., Landry, C. C., Hayashi, M., Quinton, W. L., & Lundquist, J. D. (2013). Approximating snow surface temperature from standard temperature and humidity data: New possibilities for snow model and remote sensing evaluation: Snow Surface Temperature Approximation. <i>Water Resources Research</i>, <i>49</i>(12), 8053–8069. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1002/2013wr013958\">10.1002/2013wr013958</a>","url":"https://doi.org/10.1002/2013wr013958"}}}},"footer":{"navigation":{"prev":{"title":"Thermal Infrared","url":"/notebooks/thermal-ir-tutorial","group":"Observations"},"next":{"title":"UAVSAR","url":"/notebooks/uavsar-tutorial","group":"Observations"}}},"domain":"http://localhost:3000"}